<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class controlador extends CI_Controller {

    public function __construct() {
        parent::__construct();
        $this->load->helper(array('download', 'file', 'url', 'html', 'form'));
        $this->folder = 'uploads/Referenciados/';
        $this->folder2 = 'uploads/Tramites/';
        $this->folder3 = 'uploads/Evidencias/';
        $this->folder4 = 'uploads/Inmuebles/';
        $this->folder5 = 'uploads/Muebles/';
        $this->folder6 = 'uploads/Material/';
        $this->folder7 = 'uploads/Accidentes/';
        $this->folder8 = 'uploads/Expediente/';
        $this->folder9 = 'uploads/Nomina/';
        $this->folder10 = 'uploads/SSExpediente/';
        $this->folder11 = 'uploads/InmuebleExp/';
        $this->folder12 = 'uploads/ViviendaExp/';
        $this->folder14 = 'uploads/TramitesExp/';
    }

    private $defaultData = array(
        'title' => 'Rabina Corporacion',
        'layout' => 'layout/lytDefault',
        'contentView' => 'vUndefined',
    );

    private function _renderView($data = array()) {
        $data = array_merge($this->defaultData, $data);
        $this->load->view($data['layout'], $data);
    }

    public function index() {
        $data['contentView'] = 'Login';
        $this->_renderView($data);
    }

    public function comprueba() {
        $this->load->model("modelo", "datos");
        $login = htmlspecialchars(trim($_POST['login']));
        $password = sha1(md5(trim($_POST['pass'])));
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $datos = $this->datos->getAcceso(
                $login, $password);

        if ($datos) {
            $data['scripts'] = array('cliente');
            $data['ID'] = $login;
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $datos;
            //Abriendo BD responsables
            $usuario = $datos;
            $this->load->model("modelo", "Permisos");
            $Permisos = $this->Permisos->getPermisos($usuario);
            $data['Permisos'] = $Permisos;
            $data['contentView'] = 'Menu';
            $this->_renderView($data);
        } else {
            echo '<script>alert("Usuario o contraseña incorrectos")</script>';
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Login';
            $this->_renderView($data);
        }
    }

    public function compruebaNvaContrasenia() {
        $this->load->model("modelo", "datos");
        $login = htmlspecialchars(trim($_POST['user']));
        $password = sha1(md5(trim($_POST['pass'])));
        $password1 = sha1(md5(trim($_POST['password1'])));
        $password2 = sha1(md5(trim($_POST['password2'])));
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();

        if ($password1 == $password2) {

            $datos = $this->datos->getAcceso2(
                    $login, $password);

            if ($datos) {
                $data['ID'] = $login;
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $login;
                //Abriendo BD responsables
                $usuario = $login;
                $this->load->model("modelo", "Permisos");
                $Permisos = $this->Permisos->getPermisos($usuario);
                $data['Permisos'] = $Permisos;
                $datos = $this->datos->getUsuarios29(
                        $login, $password1);
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Menu';
                $this->_renderView($data);
            } else {
                echo '<script>alert("Contraseña incorrecta")</script>';
                $data['scripts'] = array('cliente');
                $data['ID'] = $login;
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $login;
                //Abriendo BD responsables
                $usuario = $login;
                $this->load->model("modelo", "Permisos");
                $Permisos = $this->Permisos->getPermisos($usuario);
                $data['Permisos'] = $Permisos;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Admon_7_9d';
                $this->_renderView($data);
            }
        } else {
            echo '<script>alert("Las contraseñas no coinciden")</script>';
            $data['scripts'] = array('cliente');
            $data['ID'] = $login;
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $login;
            //Abriendo BD responsables
            $usuario = $login;
            $this->load->model("modelo", "Permisos");
            $Permisos = $this->Permisos->getPermisos($usuario);
            $data['Permisos'] = $Permisos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9d';
            $this->_renderView($data);
        }
    }

    public function crearusuario() {
        $this->load->model("modelo", "datos");
        $nombre = $this->input->post('nombre');
        $apaterno = $this->input->post('apaterno');
        $amaterno = $this->input->post('amaterno');
        $email = $this->input->post('email');
        $password1 = sha1(md5(trim($_POST['password1'])));
        $password2 = sha1(md5(trim($_POST['password2'])));
        if ($password1 == $password2) {
            $datos = $this->datos->getUsuarios(
                    $nombre, $apaterno, $amaterno, $email, $password1);
            echo '<script>alert("Usuario creado")</script>';
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Login';
            $this->_renderView($data);
        } else {
            echo '<script>alert("Contraseñas no coinciden")</script>';
        }
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'NvoUsuario';
        $this->_renderView($data);
    }

    public function Menu() {
        $this->load->model("modelo", "datos");
        $MENU = $this->input->get('ID');
        $indiceuser = $this->input->get('i');
        if ($MENU == 1) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $this->load->model("modelo", "cliente");
            $d_cliente = $this->cliente->getCliente($where);
            $data['cliente'] = $d_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Tipo-cliente
            $where = '';
            $this->load->model("modelo", "Tipo_cliente");
            $d_Tipo_cliente = $this->Tipo_cliente->getTipoCliente2($where);
            $data['Tipo_cliente'] = $d_Tipo_cliente;
            //Abriendo BD SubTipo-cliente
            $where = '';
            $this->load->model("modelo", "SubTipo_cliente");
            $d_SubTipo_cliente = $this->SubTipo_cliente->getSubTipoCliente2($where);
            $data['SubTipo_cliente'] = $d_SubTipo_cliente;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD Regimen
            $where = '';
            $this->load->model("modelo", "Regimen");
            $d_regimen = $this->Regimen->getRegimen($where);
            $data['Regimen'] = $d_regimen;
            //Abriendo BD Forma
            $where = '';
            $this->load->model("modelo", "Forma");
            $d_Forma = $this->Forma->getForma($where);
            $data['Forma'] = $d_Forma;
            //Abriendo BD Ambito
            $where = '';
            $this->load->model("modelo", "Ambito");
            $d_Ambito = $this->Ambito->getAmbito($where);
            $data['Ambito'] = $d_Ambito;
            //Abriendo BD Clasificacion
            $where = '';
            $this->load->model("modelo", "Clasificacion");
            $d_Clasificacion = $this->Clasificacion->getClasificacion($where);
            $data['Clasificacion'] = $d_Clasificacion;
            //Abriendo BD Tamanio
            $where = '';
            $this->load->model("modelo", "Tamanio");
            $d_Tamanio = $this->Tamanio->getTamanio($where);
            $data['Tamanio'] = $d_Tamanio;
            //Abriendo BD Sector
            $where = '';
            $this->load->model("modelo", "Sector");
            $d_Sector = $this->Sector->getSector($where);
            $data['Sector'] = $d_Sector;
            //Abriendo BD Rama
            $where = '';
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama($where);
            $data['Rama'] = $d_Rama;
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Directorio';
            $this->_renderView($data);
        }
        if ($MENU == 2) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo2");
            $d_RefTipo2 = $this->RefTipo2->getRefTipo2($where);
            $data['RefTipo2'] = $d_RefTipo2;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD Categoria
            $where = '';
            $this->load->model("modelo", "RefCategoria");
            $d_RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $data['RefCategoria'] = $d_RefCategoria;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Referenciados';
            $this->_renderView($data);
        }
        if ($MENU == 3) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD tipo referenciado
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD estatus
            $where = '';
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            $data['Estatus'] = $Estatus;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Tramites';
            $this->_renderView($data);
        }
        if ($MENU == 4) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Contabilidad';
            $this->_renderView($data);
        }
        if ($MENU == 5) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'SegSoc';
            $this->_renderView($data);
        }
        if ($MENU == 6) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CalculoImpuestos';
            $this->_renderView($data);
        }
        if ($MENU == 7) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Vinculacion';
            $this->_renderView($data);
        }
        if ($MENU == 8) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon';
            $this->_renderView($data);
        }
        if ($MENU == 81) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_3';
            $this->_renderView($data);
        }
        if ($MENU == 82) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_4';
            $this->_renderView($data);
        }
        if ($MENU == 83) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Tamanio
            $where = '';
            $this->load->model("modelo", "Tamanio");
            $d_Tamanio = $this->Tamanio->getTamanio($where);
            $data['Tamanio'] = $d_Tamanio;
            $data['contentView'] = 'Admon_5';
            $this->_renderView($data);
        }
        if ($MENU == 84) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_6';
            $this->_renderView($data);
        }
        if ($MENU == 85) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        }
        if ($MENU == 9) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD tipo referenciado
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD estatus
            $where = '';
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            $data['Estatus'] = $Estatus;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cobranza';
            $this->_renderView($data);
        }
        if ($MENU == 10) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Metas';
            $this->_renderView($data);
        }
        if ($MENU == 11) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "General");
            $USUARIOS = $this->General->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Directorio
            $Directorio = $this->General->getDirectorio();
            $data['Directorio'] = $Directorio;
            //Abriendo BD estatus
            $this->load->model("modelo", "RefEstatus");
            $RefEstatus = $this->RefEstatus->getEstatusRef();
            $data['RefEstatus'] = $RefEstatus;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD Categoria
            $this->load->model("modelo", "RefCategoria");
            $d_RefCategoria = $this->RefCategoria->getRefCategoria();
            $data['RefCategoria'] = $d_RefCategoria;
            //Abriendo BD referenciados
            $this->load->model("modelo", "Referenciados");
            $Referenciados = $this->Referenciados->getRefTipo2();
            $data['Referenciados'] = $Referenciados;
            //Gráfica
            $this->load->model("modelo", "Metas");
            $Metas = $this->Metas->getListaMetas();
            $data['Metas'] = $Metas;
            //Gráfica
            $this->load->model("modelo", "Muebles");
            $Muebles = $this->Muebles->getMuebles();
            $data['Muebles'] = $Muebles;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            //Abriendo BD transportes
            $this->load->model("modelo", "SolTrans");
            $SolTrans = $this->SolTrans->getSolicitudesALL2();
            $data['SolTrans'] = $SolTrans;
            //Abriendo BD Incapacidades
            $this->load->model("modelo", "Incapacidades");
            $Incapacidades = $this->Incapacidades->getIncSolALL();
            $data['Incapacidades'] = $Incapacidades;
            //Abriendo BD Proveedores
            $this->load->model("modelo", "MovProveedores");
            $MovProveedores = $this->MovProveedores->getMovimientosAll();
            $data['MovProveedores'] = $MovProveedores;
            //Abriendo BD Material
            $this->load->model("modelo", "Material");
            $Material = $this->Material->getMaterialALL2();
            $data['Material'] = $Material;
            //Abriendo BD Material
            $this->load->model("modelo", "SalMaterial");
            $SalMaterial = $this->SalMaterial->getSalMatlesALL();
            $data['SalMaterial'] = $SalMaterial;
            //Abriendo BD Ingresos
            $where = '';
            $this->load->model("modelo", "Ingresos");
            $Ingresos = $this->Ingresos->getRecibosAll($where);
            $data['Ingresos'] = $Ingresos;
            //Abriendo BD Egresos
            $where = '';
            $this->load->model("modelo", "Egresos");
            $Egresos = $this->Egresos->getPagosAll($where);
            $data['Egresos'] = $Egresos;
            //Directorio
            $Estatus = $this->General->getEstatusI();
            $data['Estatus'] = $Estatus;
            $data['contentView'] = 'index';
            $this->_renderView($data);
        }
        if ($MENU == 12) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Recursos';
            $this->_renderView($data);
        }
        if ($MENU == 13) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_6';
            $this->_renderView($data);
        }
        if ($MENU == 14) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_4';
            $this->_renderView($data);
        }
        if ($MENU == 15) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        }
        if ($MENU == 16) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Tecnologia';
            $this->_renderView($data);
        }
        if ($MENU == 17) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'B_Inmueble';
            $this->_renderView($data);
        }
        if ($MENU == 18) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Entrevistas';
            $this->_renderView($data);
        }
        if ($MENU == 19) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Compras';
            $this->_renderView($data);
        }
        if ($MENU == 20) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Viviendas';
            $this->_renderView($data);
        }
        if ($MENU == 21) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Comerc';
            $this->_renderView($data);
        }
        if ($MENU == 22) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'TramitesR';
            $this->_renderView($data);
        }
        if ($MENU == 23) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Contratistas';
            $this->_renderView($data);
        }
        if ($MENU == 24) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Cemento';
            $this->_renderView($data);
        }
        if ($MENU == 25) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['contentView'] = 'Desarrollos';
            $this->_renderView($data);
        }
        if ($MENU == 'BorrarPP') {
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'BorrarPagos';
            $this->_renderView($data);
        }

        if ($MENU == 180) {
            $data['contentView'] = 'FueraServicio';
            $this->_renderView($data);
        }
    }

//*********************************************************___________Administracion________***************************************
    public function Admon() {
        $this->load->model("modelo", "datos");
        $SS = $this->input->post('SegSocID');
        $indiceuser = $this->input->post('user');
        $Fecha = date("d/m/y");
        if ($SS == 'A1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Inmuebles");
            $Inmuebles = $this->Inmuebles->getInmuebles($where);
            $data['Inmuebles'] = $Inmuebles;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_1';
            $this->_renderView($data);
        }
        if ($SS == 'A2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Muebles");
            $Muebles = $this->Muebles->getMuebles($where);
            $data['Muebles'] = $Muebles;
            //Abriendo BD Tipo
            $this->load->model("modelo", "TMobiliario");
            $TMobiliario = $this->TMobiliario->getTMobiliario($where);
            $data['TMobiliario'] = $TMobiliario;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_2';
            $this->_renderView($data);
        }
        if ($SS == 'A3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_3';
            $this->_renderView($data);
        }
        if ($SS == 'A31') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Materiales
            $this->load->model("modelo", "Materiales");
            $Materiales = $this->Materiales->getMaterialesAll($where);
            $data['Materiales'] = $Materiales;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_3_1';
            $this->_renderView($data);
        }
        if ($SS == 'A32') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Materiales
            $this->load->model("modelo", "Materiales");
            $Materiales = $this->Materiales->getMaterialesAll($where);
            $data['Material'] = $Materiales;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_3_2';
            $this->_renderView($data);
        }
        if ($SS == 'A33') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Materiales
            $this->load->model("modelo", "Materiales");
            $Materiales = $this->Materiales->getMaterialesAll($where);
            $data['Materiales'] = $Materiales;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_3_3';
            $this->_renderView($data);
        }
        if ($SS == 'A34') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_3_4';
            $this->_renderView($data);
        }
        if ($SS == 'A4') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4';
            $this->_renderView($data);
        }
        if ($SS == 'A5') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5';
            $this->_renderView($data);
        }
        if ($SS == 'A40') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_0';
            $this->_renderView($data);
        }
        if ($SS == 'A41') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            $data['HoySaldos'] = $HoySaldos;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_1';
            $this->_renderView($data);
        }
        if ($SS == 'A42') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            $data['HoySaldos'] = $HoySaldos;
            //Abriendo BD pagos programados
            $this->load->model("modelo", "PagosP");
            $PagosP = $this->PagosP->getPagosP();
            $data['PagosP'] = $PagosP;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_2';
            $this->_renderView($data);
        }
        if ($SS == 'A43') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_3';
            $this->_renderView($data);
        }
        if ($SS == 'A44') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_4';
            $this->_renderView($data);
        }
        if ($SS == 'A45') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            $data['HoySaldos'] = $HoySaldos;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_5';
            $this->_renderView($data);
        }
        if ($SS == 'A46') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            $data['HoySaldos'] = $HoySaldos;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_6';
            $this->_renderView($data);
        }
        if ($SS == 'A47') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            $data['HoySaldos'] = $HoySaldos;
            //Abriendo BD pagos programados
            $this->load->model("modelo", "PagosP");
            $PagosP = $this->PagosP->getPagosP();
            $data['PagosP'] = $PagosP;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_7';
            $this->_renderView($data);
        }
        if ($SS == 'A48') {
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaEdoIngreso2';
            $this->_renderView($data);
        }
        if ($SS == 'A49') {
            $where = '';
            $this->load->model("modelo", "General");
            $USUARIOS = $this->General->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;

            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;

            //Abriendo Tarifa
            $Tarifa = $this->General->getTarifa();
            $data['Tarifa'] = $Tarifa;

            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaTramite2';
            $this->_renderView($data);
        }
        if ($SS == 'A410') {
            $where = '';
            $this->load->model("modelo", "General");
            $USUARIOS = $this->General->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;

            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;

            //Abriendo Tarifa
            $Tarifa = $this->General->getTarifa();
            $data['Tarifa'] = $Tarifa;

            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_4_8';
            $this->_renderView($data);
        }
        if ($SS == 'A51') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD tipo de cliente
            $this->load->model("modelo", "cliente");
            $d_cliente = $this->cliente->getCliente($where);
            $data['cliente'] = $d_cliente;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama($where);
            $data['Rama'] = $d_Rama;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Actividades");
            $Actividades = $this->Actividades->getActividades($where);
            $data['Actividades'] = $Actividades;
            //Abriendo BD Pais
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Tamanio
            $this->load->model("modelo", "Tamanio");
            $Tamanio = $this->Tamanio->getTamanio($where);
            $data['Tamanio'] = $Tamanio;
            //Abriendo BD Tamanio
            $where = '';
            $this->load->model("modelo", "Tamanio");
            $Tamanio = $this->Tamanio->getTamanio($where);
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_1';
            $this->_renderView($data);
        }
        if ($SS == 'A52') {
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAllx();
            $data['Proveedor'] = $Proveedor;
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_2';
            $this->_renderView($data);
        }
        if ($SS == 'A53') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD tipo de cliente
            $this->load->model("modelo", "cliente");
            $d_cliente = $this->cliente->getCliente($where);
            $data['cliente'] = $d_cliente;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama($where);
            $data['Rama'] = $d_Rama;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Actividades");
            $Actividades = $this->Actividades->getActividades($where);
            $data['Actividades'] = $Actividades;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAllx($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_3';
            $this->_renderView($data);
        }
        if ($SS == 'A54') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_4';
            $this->_renderView($data);
        }
        if ($SS == 'A541') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll($where);
            $data['Productos'] = $Productos;
            //Cargando Conceptos de cotizaciones
            $this->load->model("modelo", "Etiqueta");
            $Etiqueta = $this->Etiqueta->getCotizacionConceptosALL();
            $data['Etiqueta'] = $Etiqueta;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_4_1';
            $this->_renderView($data);
        }
        if ($SS == 'A542') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll($where);
            $data['Productos'] = $Productos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_4_2';
            $this->_renderView($data);
        }
        if ($SS == 'A543') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll($where);
            $data['Productos'] = $Productos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_4_3';
            $this->_renderView($data);
        }
        if ($SS == 'A544') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll($where);
            $data['Productos'] = $Productos;
            //Cargando Conceptos de cotizaciones
            $this->load->model("modelo", "Etiqueta");
            $Etiqueta = $this->Etiqueta->getCotizacionConceptosALL();
            $data['Etiqueta'] = $Etiqueta;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_4_4';
            $this->_renderView($data);
        }
        if ($SS == 'A55') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll($where);
            $data['Productos'] = $Productos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_5';
            $this->_renderView($data);
        }
        if ($SS == 'A56') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Actividades
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll($where);
            $data['Proveedor'] = $Proveedor;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_5_6';
            $this->_renderView($data);
        }
        if ($SS == 'A6') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6';
            $this->_renderView($data);
        }
        if ($SS == 'A61') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_1';
            $this->_renderView($data);
        }
        if ($SS == 'A62') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_2';
            $this->_renderView($data);
        }
        if ($SS == 'A63') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_3';
            $this->_renderView($data);
        }
        if ($SS == 'A64') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_4';
            $this->_renderView($data);
        }
        if ($SS == 'A65') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_5';
            $this->_renderView($data);
        }
        if ($SS == 'A66') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Solicitudes");
            $Solicitudes = $this->Solicitudes->getSolicitudesAprobadas();
            $data['Solicitud'] = $Solicitudes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_6';
            $this->_renderView($data);
        }
        if ($SS == 'A67') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Solicitudes");
            $Solicitudes = $this->Solicitudes->getSolicitudesAprobadas();
            $data['Solicitud'] = $Solicitudes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_7';
            $this->_renderView($data);
        }
        if ($SS == 'A68') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD transportes
            $this->load->model("modelo", "Transporte");
            $Transporte = $this->Transporte->getTransporteAll();
            $data['Unidad'] = $Transporte;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Solicitudes");
            $Solicitudes = $this->Solicitudes->getSolicitudesAprobadas();
            $data['Solicitud'] = $Solicitudes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6_8';
            $this->_renderView($data);
        }
        if ($SS == 'A7') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        }
        if ($SS == 'A71') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_1';
            $this->_renderView($data);
        }
        if ($SS == 'A72') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Información de empleados
            $this->load->model("modelo", "InfoEmple");
            $InfoEmple = $this->InfoEmple->getInfoEmple($indiceuser);
            $data['InfoEmple'] = $InfoEmple;
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_2';
            $this->_renderView($data);
        }
        if ($SS == 'A73') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_3';
            $this->_renderView($data);
        }
        if ($SS == 'A74') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_4';
            $this->_renderView($data);
        }
        if ($SS == 'A75') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_5';
            $this->_renderView($data);
        }
        if ($SS == 'A76') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_6';
            $this->_renderView($data);
        }
        if ($SS == 'A77') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_7';
            $this->_renderView($data);
        }
        if ($SS == 'A78') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Solicitudes");
            $Solicitudes = $this->Solicitudes->getSolIncApro();
            $data['Solicitud'] = $Solicitudes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_8';
            $this->_renderView($data);
        }
        if ($SS == 'A79') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9';
            $this->_renderView($data);
        }
        if ($SS == 'A79a') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Documentos");
            $Documentos = $this->Documentos->getDocumentos();
            $data['Documentos'] = $Documentos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9a';
            $this->_renderView($data);
        }
        if ($SS == 'A79b') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Documentos");
            $Documentos = $this->Documentos->getDocumentos();
            $data['Documentos'] = $Documentos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9b';
            $this->_renderView($data);
        }
        if ($SS == 'A79c') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Empleados");
            $Empleados = $this->Empleados->getInfoEmpleALL2();
            $data['Empleados'] = $Empleados;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9c';
            $this->_renderView($data);
        }
        if ($SS == 'A79d') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Solicitudes
            $this->load->model("modelo", "Empleados");
            $Empleados = $this->Empleados->getInfoEmpleALL2();
            $data['Empleados'] = $Empleados;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7_9d';
            $this->_renderView($data);
        }
    }

    public function ObtenerSaldos() {
        $this->load->model("modelo", "datos");
        $Fecha = $this->input->post('Fecha');
        //Abriendo BD Cuentas
        $this->load->model("modelo", "Cuentas");
        $Cuentas = $this->Cuentas->getCuentasALL();
        //$data['Cuentas'] = $Cuentas;
        $this->load->model("modelo", "HoySaldos");
        $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
        //abriendo todos los saldos
        $this->load->model("modelo", "HoySaldos");
        $TodosSaldos = $this->HoySaldos->getTodoSaldosALL();

        foreach ($Cuentas as $cuentas1) {
            foreach ($TodosSaldos as $HoySaldos1) {
                if ($cuentas1->ID == $HoySaldos1->IDCuenta) {
                    $IDCuenta = $cuentas1->ID;
                    $SaldoActual = $HoySaldos1->Saldo;
                    $FechaSaldo = $HoySaldos1->Fecha;
                }
            }
            if ($FechaSaldo != $Fecha) {
                $ActualizaSaldos = $this->HoySaldos->getActualizaSaldo($IDCuenta, $SaldoActual, $Fecha);
            }
        }
        ?>

        <?php foreach ($HoySaldos as $HoySaldos1) { ?> 
            <div class="col-md-12 col-xs-12">
                <div class="col-md-4 col-xs-6">
            <?php
            $respuesta = '-';
            foreach ($Cuentas as $temp) {
                if ($temp->ID == $HoySaldos1->IDCuenta) {
                    $respuesta = $temp->Banco;
                }
            }
            echo $respuesta
            ?>
                </div>
                <div class="col-md-4 col-xs-6">
            <?php
            $respuesta = '-';
            foreach ($Cuentas as $temp) {
                if ($temp->ID == $HoySaldos1->IDCuenta) {
                    $respuesta = $temp->NoCuenta;
                }
            }
            echo $respuesta
            ?>
                </div>
                <div class="col-md-4 col-xs-6">
            <?php echo $HoySaldos1->Saldo; ?>
                </div>

            </div>
        <?php } ?> 

        <?php
    }

    public function do_uploadA1() {
        $Numero = $this->input->post('Numero');
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder4;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Numero;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su información con número de Folio:\n' . $Numero . ' \n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Folio = $this->input->post('Numero');
                $Nombre = $this->input->post('Nombre');
                $Calle = $this->input->post('Calle');
                $No = $this->input->post('No');
                $Colonia = $this->input->post('Colonia');
                $CP = $this->input->post('CP');
                $Estado = $this->input->post('Estado');
                $Ciudad = $this->input->post('Ciudad');
                $Tel = $this->input->post('Tel');
                $UniAdmtivas = $this->input->post('UniAdmtivas');
                $Empleados = $this->input->post('Empleados');
                $Pisos = $this->input->post('Pisos');
                $Estacionamientos = $this->input->post('Estacionamientos');
                $Superficie = $this->input->post('Superficie');
                $Construccion = $this->input->post('Construccion');
                $SitJuridica = $this->input->post('SitJuridica');
                $Propietario = $this->input->post('Propietario');
                $Arrendatario = $this->input->post('Arrendatario');
                $Renta = $this->input->post('Renta');
                $Fecha = $this->input->post('Fecha');
                $datos = $this->datos->getInmueblesA1(
                        $Folio, $Nombre, $Calle, $No, $Colonia, $CP, $Estado, $Ciudad, $Tel, $UniAdmtivas, $Empleados, $Pisos, $Estacionamientos, $Superficie, $Construccion, $SitJuridica, $Propietario, $Arrendatario, $Renta, $Fecha
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Inmuebles");
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            $Inmuebles = $this->Inmuebles->getInmuebles($where);
            $data['Inmuebles'] = $Inmuebles;
            $data['contentView'] = 'Admon_1';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Folio = $this->input->post('Numero');
            $Nombre = $this->input->post('Nombre');
            $Calle = $this->input->post('Calle');
            $No = $this->input->post('No');
            $Colonia = $this->input->post('Colonia');
            $CP = $this->input->post('CP');
            $Estado = $this->input->post('Estado');
            $Ciudad = $this->input->post('Ciudad');
            $Tel = $this->input->post('Tel');
            $UniAdmtivas = $this->input->post('UniAdmtivas');
            $Empleados = $this->input->post('Empleados');
            $Pisos = $this->input->post('Pisos');
            $Estacionamientos = $this->input->post('Estacionamientos');
            $Superficie = $this->input->post('Superficie');
            $Construccion = $this->input->post('Construccion');
            $SitJuridica = $this->input->post('SitJuridica');
            $Propietario = $this->input->post('Propietario');
            $Arrendatario = $this->input->post('Arrendatario');
            $Renta = $this->input->post('Renta');
            $Fecha = $this->input->post('Fecha');
            $datos = $this->datos->getInmueblesA1(
                    $Folio, $Nombre, $Calle, $No, $Colonia, $CP, $Estado, $Ciudad, $Tel, $UniAdmtivas, $Empleados, $Pisos, $Estacionamientos, $Superficie, $Construccion, $SitJuridica, $Propietario, $Arrendatario, $Renta, $Fecha
            );
            echo '<script>alert("El documento ha sido registrado con número de Folio:\n' . $Numero . ' \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Inmuebles");
            $Inmuebles = $this->Inmuebles->getInmuebles($where);
            $data['Inmuebles'] = $Inmuebles;
            $data['contentView'] = 'Admon_1';
            $this->_renderView($data);
        }
    }

    public function Admon_1_1() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Tipo
        $this->load->model("modelo", "Inmuebles");
        $Inmuebles = $this->Inmuebles->getInmuebles($where);
        $data['Inmuebles'] = $Inmuebles;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_1_1';
        $this->_renderView($data);
    }

    public function ResultadoInmueble() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getResultadoInmueble($ID);
        if (!empty($datos)) {
            foreach ($datos as $inmueble1)
                $nombre = $inmueble1->Folio;
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo $inmueble1->Nombre; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Calle:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Calle; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
                                Número:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $inmueble1->No; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Colonia:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Colonia; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
                                C.P.:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $inmueble1->CP; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                Teléfono:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $inmueble1->Tel; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Unidades administrativas u oficinas:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->UniAdmtivas; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Número de empleados:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Empleados; ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Número de pisos:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Pisos; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Estacionamientos:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Estacionamientos; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Superficie (m2):
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Superficie; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Construcción (m2):
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Construccion; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Situación Jurídica:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->SitJuridica; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Propietario:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Propietario; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Arrendatario:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Arrendatario; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Renta:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Renta; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Fecha de inicio de uso del inmueble:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $inmueble1->Fecha; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php
            $files = get_filenames($this->folder4, FALSE);
            foreach ($files as $file) {
                $ext = substr($file, strpos($file, ".") + strlen("."));
                $name = substr($file, 0, strpos($file, "."));
                if ($name == $nombre) {
                    ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                                        echo anchor('controlador/downloads4/' . $file, $file) . br(1);
                                        ?>
                                    </div>
                                    <div class="col-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Inmuebles/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                                    <?php }
                                }
                                ?>
                        </div>
                    </td>
                </tr>
            </table>
            <?php
        } else {
            $datos2 = $this->cliente->getResultadoInmuebleALL();
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo 'Inmuebles' ?>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($datos2 as $inmuebles1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo $inmuebles1->Calle . ' ' . $inmuebles1->No . ' ' . $inmuebles1->Colonia; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo $inmuebles1->SitJuridica; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo $inmuebles1->UniAdmtivas; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo $inmuebles1->Fecha; ?>
                            </div>
                        </td>
                    </tr>
                <?php
            }
            ?></table><?php
        }
    }

    public function do_uploadA2() {
        $Numero = $this->input->post('Numero');
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder5;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Numero;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su información con número de Folio:\n' . $Numero . ' \n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Folio = $this->input->post('Numero');
                $TMobiliario = $this->input->post('TMobiliario');
                $Nombre = $this->input->post('Nombre');
                $Marca = $this->input->post('Marca');
                $Modelo = $this->input->post('Modelo');
                $Material = $this->input->post('Material');
                $Color = $this->input->post('Color');
                $Resguardo = $this->input->post('Resguardo');
                $Caracteristicas = $this->input->post('Caracteristicas');
                $Adquisicion = $this->input->post('Adquisicion');
                $Baja = $this->input->post('Baja');
                $Estado = $this->input->post('Estado');
                $Proveedor = $this->input->post('Proveedor');
                $Serie = $this->input->post('Serie');
                $Area = $this->input->post('Area');
                $Valor1 = $this->input->post('Valor1');
                $Valor2 = $this->input->post('Valor2');
                $Nota = $this->input->post('Nota');
                $Responsable = $this->input->post('Responsable');
                $datos = $this->datos->getMueblesA2(
                        $Folio, $TMobiliario, $Nombre, $Marca, $Modelo, $Material, $Color, $Resguardo, $Caracteristicas, $Adquisicion, $Baja, $Estado, $Proveedor, $Serie, $Area, $Valor1, $Valor2, $Nota, $Responsable
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Muebles");
            $Muebles = $this->Muebles->getMuebles($where);
            $data['Muebles'] = $Muebles;
            //Abriendo BD Tipo
            $this->load->model("modelo", "TMobiliario");
            $TMobiliario = $this->TMobiliario->getTMobiliario($where);
            $data['TMobiliario'] = $TMobiliario;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_2';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Folio = $this->input->post('Numero');
            $TMobiliario = $this->input->post('TMobiliario');
            $Nombre = $this->input->post('Nombre');
            $Marca = $this->input->post('Marca');
            $Modelo = $this->input->post('Modelo');
            $Material = $this->input->post('Material');
            $Color = $this->input->post('Color');
            $Resguardo = $this->input->post('Resguardo');
            $Caracteristicas = $this->input->post('Caracteristicas');
            $Adquisicion = $this->input->post('Adquisicion');
            $Baja = $this->input->post('Baja');
            $Estado = $this->input->post('Estado');
            $Proveedor = $this->input->post('Proveedor');
            $Serie = $this->input->post('Serie');
            $Area = $this->input->post('Area');
            $Valor1 = $this->input->post('Valor1');
            $Valor2 = $this->input->post('Valor2');
            $Nota = $this->input->post('Nota');
            $Responsable = $this->input->post('Responsable');
            $datos = $this->datos->getMueblesA2(
                    $Folio, $TMobiliario, $Nombre, $Marca, $Modelo, $Material, $Color, $Resguardo, $Caracteristicas, $Adquisicion, $Baja, $Estado, $Proveedor, $Serie, $Area, $Valor1, $Valor2, $Nota, $Responsable
            );
            echo '<script>alert("El documento ha sido registrado con número de Folio:\n' . $Numero . ' \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Tipo
            $this->load->model("modelo", "Muebles");
            $Muebles = $this->Muebles->getMuebles($where);
            $data['Muebles'] = $Muebles;
            //Abriendo BD Tipo
            $this->load->model("modelo", "TMobiliario");
            $TMobiliario = $this->TMobiliario->getTMobiliario($where);
            $data['TMobiliario'] = $TMobiliario;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_2';
            $this->_renderView($data);
        }
    }

    public function Admon_2_1() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Tipo
        $this->load->model("modelo", "Muebles");
        $Muebles = $this->Muebles->getMuebles($where);
        $data['Muebles'] = $Muebles;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        //Abriendo BD responsables
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        //Abriendo BD Area
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        $data['Area'] = $Area;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_2_1';
        $this->_renderView($data);
    }

    public function ResultadoMueble() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "cliente");
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $this->load->model("modelo", "Muebles");
        $Muebles = $this->Muebles->getMuebles($where);
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $this->load->model("modelo", "Responsables");
        $Responsables = $this->Responsables->getResponsable($where);
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        $datos = $this->cliente->getResultadoMueble($ID);

        if (!empty($datos)) {
            foreach ($datos as $mueble1)
                $nombre = $mueble1->Folio;
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo $mueble1->Nombre; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Marca:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Marca; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
                                Modelo:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $mueble1->Modelo; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Material:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Material; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
                                Color:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $mueble1->Color; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                Organización:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $mueble1->Resguardo; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Otras características:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Caracteristicas; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Fecha de adquisición:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Adquisicion; ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Fecha de baja:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Baja; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Estado:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Estado; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Proveedor:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Proveedor; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Número de serie:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Serie; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" >
                                Área destino:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $mueble1->Area) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Valor de adquisición:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Valor1; ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                Valor actual:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Valor2; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Nota del registro:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $mueble1->Nota; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Responsables:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Responsables as $responsables1) {
                if ($responsables1->Id == $mueble1->Responsable) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                                <?php
                                $files = get_filenames($this->folder5, FALSE);
                                foreach ($files as $file) {
                                    $ext = substr($file, strpos($file, ".") + strlen("."));
                                    $name = substr($file, 0, strpos($file, "."));
                                    if ($name == $nombre) {
                                        ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                                        echo anchor('controlador/downloads5/' . $file, $file) . br(1);
                                        ?>
                                    </div>
                                    <div class="col-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Muebles/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                <?php }
            }
            ?>
                        </div>
                    </td>
                </tr>
            </table>
            <?php
        } else {
            $datos2 = $this->cliente->getResultadoMuebleALL();
            ?><table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo 'Muebles' ?>
                        </div>
                    </td>
                </tr>
                                <?php
                                foreach ($datos2 as $muebles1) {
                                    ?>	
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                                    <?php echo $muebles1->Nombre; ?>
                            </div>
                            <div class="col-md-2 col-xs-1" align="center">
                <?php echo $muebles1->Marca; ?>
                            </div>
                            <div class="col-md-2 col-xs-1" align="center">
                <?php echo $muebles1->Modelo; ?>
                            </div>
                            <div class="col-md-2 col-xs-1" align="center">
                <?php echo $muebles1->Resguardo; ?>
                            </div>
                            <div class="col-md-2 col-xs-1" align="center">
                                    <?php echo $muebles1->Serie; ?>
                            </div>
                            <div class="col-md-2 col-xs-1" align="center">
                <?php
                $respuesta = '-';
                foreach ($Responsables as $responsables1) {
                    if ($responsables1->Id == $muebles1->Responsable) {
                        $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>
                <?php
            }
            ?></table><?php
        }
    }

    public function ResultadoMuebleA() {
        $Area = $_POST["Area"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getResultadoMuebleA();
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $this->load->model("modelo", "Muebles");
        $Muebles = $this->Muebles->getMuebles($where);
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $this->load->model("modelo", "Responsables");
        $Responsables = $this->Responsables->getResponsable($where);
        //$this->load->model("modelo", "Area");
        //$Area = $this->Area->getArea($where);
        ?>
        <table width="100%" border="1" bordercolor="#9c9a9a">
            <tr>
                <td  bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Folio
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Nombre
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Serie
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Estado
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Responsable
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Fotografía
                    </div>
                </td>
            </tr>
                            <?php
                            foreach ($datos as $mueble1) {
                                $nombre = $mueble1->Folio;
                                if ($mueble1->Area == $Area) {
                                    ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                                <?php echo $mueble1->Folio; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                                <?php echo $mueble1->Nombre; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                                <?php echo $mueble1->Serie; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                                    <?php echo $mueble1->Estado; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php
                $respuesta = '-';
                foreach ($Responsables as $responsables1) {
                    if ($responsables1->Id == $mueble1->Responsable) {
                        $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php
                $files = get_filenames($this->folder5, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Muebles/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                        <?php }
                    } ?>
                            </div>
                        </td>
                    </tr>
            <?php }
        } ?>
        </table>
        <?php
    }

    public function ResultadoMuebleR() {
        $Responsable = $_POST["Responsable"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getResultadoMuebleA();
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $this->load->model("modelo", "Muebles");
        $Muebles = $this->Muebles->getMuebles($where);
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        // $this->load->model("modelo", "Responsables");
        // $Responsables = $this->Responsables->getResponsable($where);
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        ?>
        <table width="100%" border="1" bordercolor="#9c9a9a">
            <tr>
                <td  bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Folio
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Nombre
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Serie
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Estado
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Area
                    </div>
                    <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                        Fotografía
                    </div>
                </td>
            </tr>
        <?php
        foreach ($datos as $mueble1) {
            $nombre = $mueble1->Folio;
            if ($mueble1->Responsable == $Responsable) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php echo $mueble1->Folio; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php echo $mueble1->Nombre; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php echo $mueble1->Serie; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php echo $mueble1->Estado; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                <?php
                $respuesta = '-';
                foreach ($Area as $Area1) {
                    if ($Area1->id_area == $mueble1->Area) {
                        $respuesta = $Area1->dsc_area;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="color:#ff6600">
                    <?php
                    $files = get_filenames($this->folder5, FALSE);
                    foreach ($files as $file) {
                        $ext = substr($file, strpos($file, ".") + strlen("."));
                        $name = substr($file, 0, strpos($file, "."));
                        if ($name == $nombre) {
                            ?> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Muebles/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    <?php }
                                } ?>
                            </div>
                        </td>
                    </tr>
                            <?php }
                        } ?>
        </table>
                        <?php
                    }

                    public function do_uploadA3() {
                        $Numero = $this->input->post('Numero');
                        $indiceuser = $this->input->post('user');
                        $config['upload_path'] = $this->folder6;
                        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
                        $config['remove_spaces'] = TRUE;
                        $config['file_name'] = $Numero;
                        $config['max_size'] = '2048';
                        $this->load->library('upload', $config);

                        if (!$this->upload->do_upload()) {
                            $error = array('error' => $this->upload->display_errors());
                            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                                echo '<script>alert("Se ha registrado su información con número de Folio:\n' . $Numero . ' \n Sin archivo adjunto \n")</script>';
                                //********sin archivo adjunto pero registra
                                $this->load->model("modelo", "datos");
                                $Folio = $this->input->post('Numero');
                                $Resguardo = $this->input->post('Resguardo');
                                $Material = $this->input->post('Material');
                                $Marca = $this->input->post('Marca');
                                $Modelo = $this->input->post('Modelo');
                                $Entrada = $this->input->post('Entrada');
                                $Fecha = $this->input->post('Fecha');
                                $Cajas = $this->input->post('Cajas');
                                $CostoCaja = $this->input->post('CostoCaja');
                                $Paquete = $this->input->post('Paquete');
                                $CostoPaquete = $this->input->post('CostoPaquete');
                                $Unidades = $this->input->post('Unidades');
                                $CostoUnidad = $this->input->post('CostoUnidad');
                                $CostoTotal = $this->input->post('CostoTotal');
                                $Proveedor = $this->input->post('Proveedor');
                                $Nota = $this->input->post('Nota');
                                $datos = $this->datos->getMaterialesA3(
                                        $Folio, $Resguardo, $Material, $Marca, $Modelo, $Entrada, $Fecha, $Cajas, $CostoCaja, $Paquete, $CostoPaquete, $Unidades, $CostoUnidad, $CostoTotal, $Proveedor, $Nota
                                );
                            } else {
                                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                                } else {
                                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                                    } else {
                                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                                    }
                                }
                            }
                            //Cargando usuarios
                            $where = '';
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Admon_3';
                            $this->_renderView($data);
                        } else {
                            $this->load->model("modelo", "datos");
                            $Folio = $this->input->post('Numero');
                            $Resguardo = $this->input->post('Resguardo');
                            $Material = $this->input->post('Material');
                            $Marca = $this->input->post('Marca');
                            $Modelo = $this->input->post('Modelo');
                            $Entrada = $this->input->post('Entrada');
                            $Fecha = $this->input->post('Fecha');
                            $Cajas = $this->input->post('Cajas');
                            $CostoCaja = $this->input->post('CostoCaja');
                            $Paquete = $this->input->post('Paquete');
                            $CostoPaquete = $this->input->post('CostoPaquete');
                            $Unidades = $this->input->post('Unidades');
                            $CostoUnidad = $this->input->post('CostoUnidad');
                            $CostoTotal = $this->input->post('CostoTotal');
                            $Proveedor = $this->input->post('Proveedor');
                            $Nota = $this->input->post('Nota');
                            $datos = $this->datos->getMaterialesA3(
                                    $Folio, $Resguardo, $Material, $Marca, $Modelo, $Entrada, $Fecha, $Cajas, $CostoCaja, $Paquete, $CostoPaquete, $Unidades, $CostoUnidad, $CostoTotal, $Proveedor, $Nota
                            );
                            echo '<script>alert("El documento ha sido registrado con número de Folio:\n' . $Numero . ' \n ")</script>';
                            //Cargando usuarios
                            $where = '';
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Admon_3';
                            $this->_renderView($data);
                        }
                    }

                    public function InfoMaterialAll() {
                        //Abriendo BD Sub-cliente
                        $MaterialID = $_POST["MaterialID"];
                        $this->load->model("modelo", "general");
                        $datos2 = $this->general->getMaterialID($MaterialID);
                        //Abriendo BD Actividades
                        $where = '';
                        $this->load->model("modelo", "Proveedor");
                        $Proveedor = $this->Proveedor->getProveedoresAll($where);

                        foreach ($datos2 as $cliente2) {
                            echo "Marca: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Marca; ?> </strong><?php
                            echo "</p>";
                            echo "Modelo: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Modelo; ?> </strong><?php
            echo "</p>";
            echo "Forma de entrada: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Entrada; ?> </strong><?php
            echo "</p>";
            echo "Caja: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Cajas; ?> </strong><?php
            echo "</p>";
            echo "Paquete: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Paquete; ?> </strong><?php
            echo "</p>";
            echo "Unidades: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Unidades; ?> </strong><?php
            echo "</p>";
            echo "Proveedor: ";
            ?><?php
            $respuesta = '-';
            foreach ($Proveedor as $Proveedor1) {
                if ($Proveedor1->ID == $cliente2->Proveedor) {
                    $respuesta = $Proveedor1->Proveedor;
                }
            }
            ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong>
            <?php
            echo "</p>";
            echo "Nota: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Nota; ?> </strong><?php
        }
    }

    public function SalidaMaterial() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Material = $this->input->post('Material');
        $Asigna = $this->input->post('Asigna');
        $Recibe = $this->input->post('Recibe');
        $Cajas = $this->input->post('Cajas');
        $Paquete = $this->input->post('Paquete');
        $Unidades = $this->input->post('Unidades');
        $Fecha = $this->input->post('Fecha');
        $datos = $this->datos->getSalidaMaterial(
                $Material, $Asigna, $Recibe, $Cajas, $Paquete, $Unidades, $Fecha
        );
        echo '<script>alert("Se ha actualizado el almacen de material")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_3';
        $this->_renderView($data);
    }

    public function RM() {
        $MaterialID = $this->input->post('Material');
        //Abriendo BD Proveedores
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $this->load->model("modelo", "General");
        $Proveedores = $this->General->getProveedoresAll();
        //Abriendo BD Materiales
        $this->load->model("modelo", "general");
        $Materiales = $this->general->getMaterialID($MaterialID);
        //Abriendo BD salidas de material
        $this->load->model("modelo", "general");
        $SalMatles = $this->general->getSalMatlesID($MaterialID);
        $Total = 0;
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Artículo o material 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Marca
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Caja
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Paquete
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Unidades
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Materiales as $Materiales1) {
            if ($Materiales1->Unidades != 0) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $Materiales1->Material;
                $M = $Materiales1->Material;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $Materiales1->Marca;
                $Mr = $Materiales1->Marca;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales1->Cajas ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales1->Paquete ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $Materiales1->Unidades;
                $Total = $Total + $Materiales1->Unidades;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales1->Fecha ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        ?>
        <?php
        foreach ($SalMatles as $Materiales2) {
            if ($Materiales2->Unidades != 0) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($USUARIOS as $recibe1) {
                    if ($recibe1->Id == $Materiales2->Recibe) {
                        $respuesta = $recibe1->nombre;
                    }
                }
                ?>
                <?php echo $M . ' (Recibe) ' . $respuesta ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Mr ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales2->Cajas ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales2->Paquete ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $Materiales2->Unidades;
                $Total = $Total - $Materiales2->Unidades;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Materiales2->Fecha ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr> 
            <tr>
                <td align="right">
                    <div class="col-xs-12 col-sm-12" align="right">
        <?php echo 'Unidades en existencia: ' . $Total ?>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function RSM() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        //Abriendo BD Proveedores
        $this->load->model("modelo", "General");
        $Proveedores = $this->General->getProveedoresAll();
        //Abriendo BD Materiales
        $this->load->model("modelo", "Materiales");
        $Materiales = $this->Materiales->getMaterialesAll();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Artículo o material 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Marca
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        <div class="col-md-4 col-xs-12" align="center">
                            Caja
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Paquete
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Unidades
                        </div>
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fotografía
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Materiales as $Materiales1) {
            $FechaM = date_create_from_format('d/m/Y', $Materiales1->Fecha);
            $Fm = date_format($FechaM, 'Ymd');
            if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Materiales1->Material ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $Materiales1->Marca ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center">
                                <div class="col-md-4 col-xs-12" align="center">
                <?php echo $Materiales1->Cajas ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                <?php echo $Materiales1->Paquete ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                <?php echo $Materiales1->Unidades ?>
                                </div>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $Materiales1->Fecha ?>
                            </div>

                                <?php
                                $files = get_filenames($this->folder6, FALSE);
                                foreach ($files as $file) {
                                    $ext = substr($file, strpos($file, ".") + strlen("."));
                                    $name = substr($file, 0, strpos($file, "."));
                                    if ($name == $Materiales1->ID) {
                                        ?> 
                                    <div class="col-md-2 col-xs-12" align="center">
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Material/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                        <?php }
                    } ?>
                        </td>
                    </tr>    
                    <?php
                }
            }
            ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
                        <?php
                    }

                    public function Cuentas() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Banco = $this->input->post('Banco');
                        $Titular = $this->input->post('Titular');
                        $Cuenta = $this->input->post('Cuenta');
                        $CLABE = $this->input->post('CLABE');
                        $Fecha = date("d/m/y");
                        $datos = $this->datos->getCuentas(
                                $Banco, $Titular, $Cuenta, $CLABE, $Fecha
                        );
                        echo '<script>alert("Se ha registrado su cuenta")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD cliente
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_4';
                        $this->_renderView($data);
                    }

                    public function SaldoCuenta() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $IDCuenta = $this->input->post('IDCuenta');
                        $Saldo = $this->input->post('Saldo');
                        $Fecha = date("d/m/y");
                        //Abriendo BD saldos
                        $this->load->model("modelo", "saldos");
                        $saldos = $this->saldos->getSaldoRegistrado($IDCuenta, $Fecha);

                        if (empty($saldos)) {
                            $datos = $this->datos->getSaldoCuenta(
                                    $IDCuenta, $Saldo, $Fecha
                            );
                            echo '<script>alert("Se ha registrado el saldo")</script>';
                        } else {
                            $datos = $this->datos->getSaldoCuentaActu(
                                    $IDCuenta, $Saldo, $Fecha
                            );
                            echo '<script>alert("Se ha actualizado el saldo")</script>';
                        }
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "Cuentas");
                        $Cuentas = $this->Cuentas->getCuentasALL();
                        $data['Cuentas'] = $Cuentas;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "HoySaldos");
                        $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
                        $data['HoySaldos'] = $HoySaldos;
                        //Abriendo BD cliente
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_4_1';
                        $this->_renderView($data);
                    }

                    public function PagoTerceros() {
                        $Fecha = date("d/m/y");
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $PagosP = $this->input->post('PagosP');
                        $Unidad = $this->input->post('Unidad');
                        $Personal = $this->input->post('Personal');
                        $Concepto = $this->input->post('Concepto');
                        $Monto = $this->input->post('Monto');
                        $Proveedor = $this->input->post('Proveedor');
                        $Forma = $this->input->post('Forma');
                        $Caja = $this->input->post('Caja');
                        $ReferenciaC = $this->input->post('ReferenciaC');
                        $CuentaFuente = $this->input->post('CuentaFuente');
                        $FechaPago = $this->input->post('FechaPago');
                        $FechaRPago = $this->input->post('FechaRPago');
                        $Comprobante = $this->input->post('Comprobante');
                        $Emisor = $this->input->post('Emisor');
                        $datos = $this->datos->getPagoTerceros(
                                $Unidad, $Personal, $Concepto, $Monto, $Proveedor, $Forma, $Caja, $ReferenciaC, $CuentaFuente, $FechaPago, $FechaRPago, $Comprobante, $Emisor
                        );

                        $datos = $this->datos->getFechaPagoProgramado($PagosP);

                        if ($CuentaFuente != '0') {
                            //Abriendo BD Cuentas
                            $this->load->model("modelo", "HoySaldos");
                            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
                            foreach ($HoySaldos as $HoySaldos1) {
                                if ($HoySaldos1->IDCuenta == $CuentaFuente) {
                                    $Saldo = $HoySaldos1->Saldo;
                                    $SaldoActual = $Saldo - $Monto;
                                }
                            }

                            $datix = $this->datos->getRestaSaldoCuenta(
                                    $SaldoActual, $CuentaFuente, $Fecha
                            );
                        }
                        echo '<script>alert("Se ha registrado el pago")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "Cuentas");
                        $Cuentas = $this->Cuentas->getCuentasALL();
                        $data['Cuentas'] = $Cuentas;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "HoySaldos");
                        $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
                        $data['HoySaldos'] = $HoySaldos;
                        //Abriendo BD cliente
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_4';
                        $this->_renderView($data);
                    }

                    public function BorrarPagoTerceros() {
                        $Fecha = date("d/m/y");
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $PagosP = $this->input->post('PagosP');
                        $datos = $this->datos->getBorrarPagoTerceros(
                                $PagosP
                        );

                        echo '<script>alert("Se ha borrado el pago")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "Cuentas");
                        $Cuentas = $this->Cuentas->getCuentasALL();
                        $data['Cuentas'] = $Cuentas;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "HoySaldos");
                        $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
                        $data['HoySaldos'] = $HoySaldos;
                        //Abriendo BD cliente
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_4';
                        $this->_renderView($data);
                    }

                    public function PagoTerceros2() {
                        $Fecha = date("d/m/y");
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Unidad = $this->input->post('Unidad');
                        $Personal = $this->input->post('Personal');
                        $Concepto = $this->input->post('Concepto');
                        $Monto = $this->input->post('Monto');
                        $Proveedor = $this->input->post('Proveedor');
                        $Forma = $this->input->post('Forma');
                        $Caja = $this->input->post('Caja');
                        $FechaPago = $this->input->post('FechaPago');
                        $Comprobante = $this->input->post('Comprobante');
                        $datos = $this->datos->getPagoTerceros2(
                                $Unidad, $Personal, $Concepto, $Monto, $Proveedor, $Forma, $Caja, $FechaPago, $Comprobante
                        );
                        echo '<script>alert("Se ha registrado el pago")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "Cuentas");
                        $Cuentas = $this->Cuentas->getCuentasALL();
                        $data['Cuentas'] = $Cuentas;
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "HoySaldos");
                        $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
                        $data['HoySaldos'] = $HoySaldos;
                        //Abriendo BD cliente
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_4';
                        $this->_renderView($data);
                    }

                    public function IPagosP() {
                        $ID = $_POST["PagosP"];
                        //Abriendo BD Cuentas
                        $this->load->model("modelo", "Cuentas");
                        $Cuentas = $this->Cuentas->getCuentasALL();
                        //Abriendo BD pagos programados
                        $this->load->model("modelo", "PagosP");
                        $PagosP = $this->PagosP->getPagosPIxID($ID);
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        foreach ($PagosP as $PagosP1) {
                            if ($PagosP1->ID = $ID) {
                                ?>
                <table width="100%">
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-6">
                                    Unidad de negocio:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input   class="form-control" type="text" name="Unidad" id="Unidad" value="<?php echo $PagosP1->Unidad ?>">
                                    </br>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    Personal:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input   value="<?php echo $PagosP1->Personal ?>" class="form-control" type="text" name="Personal" id="Personal" >
                                </div>    
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-6">
                                    Concepto de pago:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input   value="<?php echo $PagosP1->Concepto ?>" class="form-control" type="text" name="Concepto" id="Concepto" required="required" >
                                    </br>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    Monto:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input   value="<?php echo $PagosP1->Monto ?>" class="form-control" step="0.01" type="number" name="Monto" id="Monto" required="required" >
                                </div>    
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-6">
                                    Proveedor o persona a pagar:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input   value="<?php echo $PagosP1->Proveedor ?>" class="form-control" type="text" name="Proveedor" id="Proveedor" >
                                </div>   
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-6">
                                    Forma del pago:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <select class="form-control" id="Forma" name="Forma"  required>
                                        <option value="">Selecciona</option> 
                                        <option value="Efectivo">Efectivo</option>
                                        <option value="Cheque">Cheque</option>
                                        <option value="Deposito">Depósito</option>
                                        <option value="Transferencia">Transferencia</option>
                                    </select>
                                    </br>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    Caja de efectivo:
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <input class="form-control" type="text" name="Caja" id="Caja"   value="<?php echo $PagosP1->Caja ?>"  >
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>       
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-12">
                                    Cuenta de donde saldrá el ingreso para el pago:
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <select class="form-control" id="CuentaFuente" name="CuentaFuente" >
                                        <option value="0">Selecciona</option>
                <?php foreach ($Cuentas as $Cuentas1) { ?> 
                                            <option value="<?php echo $Cuentas1->ID; ?>"><?php echo $Cuentas1->Banco . ' ' . $Cuentas1->NoCuenta; ?></option>
                <?php } ?>
                                    </select>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>    
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-12">
                                    Fecha en que se debe realizar el pago:
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <input class="form-control" type="text" name="FechaPago" id="datepicker"   value="<?php echo $PagosP1->FechaPago ?>"  >
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>    
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-12">
                                    Fecha de realización del pago:
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <input  value="<?php echo date("d/m/Y") ?>" class="form-control" type="text" name="FechaRPago" id="datepicker2" >
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>    
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-12">
                                    Tipo de comprobante de pago:
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <input class="form-control" type="text" name="Comprobante" id="Comprobante"   value="<?php echo $PagosP1->Comprobante ?>"  >
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                </br>
                            </div>
                        </td>
                    </tr>    
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12">
                                <div class="col-md-3 col-xs-12">
                                    Nombre de quien emite la orden de pago:
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <select class="form-control" id="Emisor" name="Emisor">
                                        <option value="">Selecciona</option>
                <?php foreach ($USUARIOS as $temporal) { ?> 
                                            <option value="<?php echo $temporal->Id; ?>"><?php echo $temporal->nombre . " " . $temporal->apaterno . " " . $temporal->amaterno; ?></option>
                <?php } ?>
                                    </select>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <?php
            }
        }
    }

    public function CajaEfectivo() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IO = 'Egreso';
        $Fecha = $this->input->post('Fecha');
        $Fuente = $this->input->post('Fuente');
        $Unidad = $this->input->post('Unidad');
        $Personal = $this->input->post('Personal');
        $Concepto = $this->input->post('Concepto');
        $Monto = $this->input->post('Monto');
        $Receptor = $this->input->post('Receptor');
        $datos = $this->datos->getCajaEfectivo(
                $IO, $Fecha, $Fuente, $Unidad, $Personal, $Concepto, $Monto, $Receptor
        );
        echo '<script>alert("Se ha registrado el egreso")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_4';
        $this->_renderView($data);
    }

    public function IngresoCajaEfectivo() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IO = 'Ingreso';
        $Fecha = $this->input->post('Fecha');
        $Fuente = $this->input->post('Fuente');
        $Concepto = $this->input->post('Concepto');
        $Monto = $this->input->post('Monto');
        $Unidad = $this->input->post('Unidad');
        $Personal = $this->input->post('Personal');
        $Competencia = $this->input->post('Competencia');
        $Receptor = $this->input->post('Receptor');
        $datos = $this->datos->getIngresoCajaEfectivo(
                $IO, $Fecha, $Fuente, $Concepto, $Monto, $Unidad, $Personal, $Competencia, $Receptor
        );
        echo '<script>alert("Se ha registrado el ingreso")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_4';
        $this->_renderView($data);
    }

    public function ReporteCuentas() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        //Abriendo BD Cuentas
        $this->load->model("modelo", "Cuentas");
        $Cuentas = $this->Cuentas->getCuentasALL();
        //Abriendo BD Saldos
        $this->load->model("modelo", "General");
        $Saldos = $this->General->getSaldosAll();
        //Abriendo Pagos a terceros
        $PagosTerceros = $this->General->getPagosAll();
        //Abriendo Caja
        $CajaEfectivo = $this->General->getCajaAll();
        //Abriendo Cobranza
        $Depositos = $this->General->getDepositosAll();
        $TOTALingresos = 0;
        $TOTALegresos = 0;
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Fuente 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Cuenta
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Ingresos
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Egresos
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Cliente, Proveedor o Persona
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Depositos as $Depositos1) {
            $FechaD2 = date_create_from_format('d/m/Y', $Depositos1->FechaDepositoBancario);
            $Fm = date_format($FechaD2, 'Ymd');
            if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Cuentas as $temp) {
                    if ($temp->ID == $Depositos1->IDCuentaDepositoBancario) {
                        $respuesta = $temp->Banco;
                    }
                }
                echo $respuesta
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Cuentas as $temp) {
                    if ($temp->ID == $Depositos1->IDCuentaDepositoBancario) {
                        $respuesta = $temp->NoCuenta;
                    }
                }
                echo $respuesta
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $Depositos1->Deposito;
                $TOTALingresos = $TOTALingresos + $Depositos1->Deposito;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo ' ' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Depositos1->Cliente ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Depositos1->FechaDepositoBancario ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        //Enseguida los datos de pagos a terceros
        ?>
        <?php
        foreach ($PagosTerceros as $PagosTerceros1) {
            $FechaD = date_create_from_format('d/m/Y', $PagosTerceros1->FechaRPago);
            $Fm = date_format($FechaD, 'Ymd');
            if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = 'Caja de efectivo';
                foreach ($Cuentas as $temp) {
                    if ($temp->ID == $PagosTerceros1->IDCuentaFuente) {
                        $respuesta = $temp->Banco;
                    }
                }
                echo $respuesta
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = ' ';
                foreach ($Cuentas as $temp) {
                    if ($temp->ID == $PagosTerceros1->IDCuentaFuente) {
                        $respuesta = $temp->NoCuenta;
                    }
                }
                echo $respuesta
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo '' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $PagosTerceros1->Monto;
                $TOTALegresos = $TOTALegresos + $PagosTerceros1->Monto;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $PagosTerceros1->Proveedor ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $PagosTerceros1->FechaRPago ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        //Enseguida los ingresos de caja de efectivo
        ?>
        <?php
        foreach ($CajaEfectivo as $CajaEfectivo1) {
            $FechaD = date_create_from_format('d/m/Y', $CajaEfectivo1->Fecha);
            $Fm = date_format($FechaD, 'Ymd');
            if ($Fm >= $StartFecha && $Fm <= $EndFecha && $CajaEfectivo1->IO == 'Ingreso') {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo 'Caja de efectivo' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo ' ' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $CajaEfectivo1->Monto;
                $TOTALingresos = $TOTALingresos + $CajaEfectivo1->Monto;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo ' ' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $CajaEfectivo1->Fuente ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $CajaEfectivo1->Fecha ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        //Enseguida los egresos de caja de efectivo
        ?>
        <?php
        foreach ($CajaEfectivo as $CajaEfectivo1) {
            $FechaD = date_create_from_format('d/m/Y', $CajaEfectivo1->Fecha);
            $Fm = date_format($FechaD, 'Ymd');
            if ($Fm >= $StartFecha && $Fm <= $EndFecha && $CajaEfectivo1->IO == 'Egreso') {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo 'Caja de efectivo' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo ' ' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo ' ' ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                echo $CajaEfectivo1->Monto;
                $TOTALegresos = $TOTALegresos + $CajaEfectivo1->Monto;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $CajaEfectivo1->Fuente ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $CajaEfectivo1->Fecha ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr> 
            <tr>
                <td align="right">
                    <div class="col-xs-12 col-sm-12" align="right">
        <?php echo 'Total de ingresos: ' . $TOTALingresos;
        ?>
                        <br />
                    </div>
                    <div class="col-xs-12 col-sm-12" align="right">
        <?php echo 'Total de egresos: ' . $TOTALegresos;
        ?>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function ReporteBCaja() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        //Abriendo BD Cuentas
        $this->load->model("modelo", "Cuentas");
        $Cuentas = $this->Cuentas->getCuentasALL();
        //Abriendo BD Saldos
        $this->load->model("modelo", "General");
        $Saldos = $this->General->getSaldosAll();
        //Abriendo Pagos a terceros
        $PagosTerceros = $this->General->getPagosAll();
        //Abriendo Caja
        $CajaEfectivo = $this->General->getCajaAll();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Selección 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Rubro 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Proveedor
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Concepto
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Monto
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha
                    </div
                    ></td>
            </tr>
        <?php
        foreach ($CajaEfectivo as $CajaEfectivo1) {
            $Fecha1 = date_create_from_format('d/m/Y', $CajaEfectivo1->Fecha);
            $Fecha = date_format($Fecha1, 'Ymd');
            if ($Fecha >= $StartFecha && $Fecha <= $EndFecha) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                                <input type="radio" value="<?php echo $CajaEfectivo1->ID; ?>" name="IDMovCaja" id="IDMovCaja" required/>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $CajaEfectivo1->IO; ?> 
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $CajaEfectivo1->Fuente; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $CajaEfectivo1->Concepto; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo number_format($CajaEfectivo1->Monto, 0, '.', ','); ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $CajaEfectivo1->Fecha; ?>
                            </div
                            ></td>
                    </tr>
                                <?php
                            }
                        }
                        ?>
        </div>

        </div>
        </td>
        </tr>    

        <tr>
            <td>
                <div class="col-xs-12 col-sm-12">
                    </br>
                </div>
            </td>
        </tr>   
        </table>
        <?php
    }

    public function Proveedores() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Tipo = $this->input->post('Tipo');
        $Proveedor = $this->input->post('Proveedor');
        $RFC = $this->input->post('RFC');
        $Correo = $this->input->post('Correo');
        $Pagina = $this->input->post('Pagina');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $Municipio = $this->input->post('Ciudad');
        $Estado = $this->input->post('Estado');
        $Tel = $this->input->post('Tel');
        $Contacto = $this->input->post('Contacto');
        $TelContacto = $this->input->post('TelContacto');
        $MailContacto = $this->input->post('MailContacto');
        $Rama = $this->input->post('Rama');
        $Actividad = $this->input->post('Actividad');
        $Tamanio = $this->input->post('Tamanio');
        $Servicios = $this->input->post('Servicios');
        $Titular = $this->input->post('Titular');
        $RFCcuenta = $this->input->post('RFCcuenta');
        $Cuenta = $this->input->post('Cuenta');
        $Banco = $this->input->post('Banco');
        $CLABE = $this->input->post('CLABE');
        $uno = $RFC[0];
        $dos = $RFC[1];
        $tres = $RFC[2];
        $Folio = date("y") . $uno . date("m") . $dos . date("d") . $tres . date("s");
        $Fecha = date("d/m/y");
        $datos = $this->datos->getProveedores(
                $Tipo, $Proveedor, $RFC, $Correo, $Pagina, $Calle, $No, $Colonia, $Municipio, $Estado, $Tel, $Contacto, $TelContacto, $MailContacto, $Rama, $Actividad, $Tamanio, $Servicios, $Titular, $RFCcuenta, $Cuenta, $Banco, $CLABE, $Folio, $Fecha
        );
        echo '<script>alert("Se ha registrado el proveedor")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_5_1';
        $this->_renderView($data);
    }

    public function ActProveedor() {
        $indiceuser = $this->input->post('user');
        $ID = $this->input->post('Proveedor');
        $this->load->model("modelo", "cliente");
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD tipo de cliente
        $this->load->model("modelo", "cliente");
        $d_cliente = $this->cliente->getCliente($where);
        $data['cliente'] = $d_cliente;
        //Abriendo BD Proveedores
        $this->load->model("modelo", "General");
        $Proveedor = $this->General->getProvID($ID);
        $data['Proveedor'] = $Proveedor;
        //Abriendo BD Rama
        $this->load->model("modelo", "Rama");
        $d_Rama = $this->Rama->getRama($where);
        $data['Rama'] = $d_Rama;
        //Abriendo BD Actividades
        $this->load->model("modelo", "Actividades");
        $Actividades = $this->Actividades->getActividades($where);
        $data['Actividades'] = $Actividades;
        //Abriendo BD Pais
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        $data['Pais'] = $d_Pais;
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        $data['Estado'] = $d_Estado;
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        $data['d_Ciudad'] = $d_Ciudad;
        //Abriendo BD Tamanio
        $where = '';
        $this->load->model("modelo", "Tamanio");
        $Tamanio = $this->Tamanio->getTamanio($where);
        $data['Tamanio'] = $Tamanio;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_5_2_1';
        $this->_renderView($data);
    }

    public function Proveedores2() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IDProveedor = $this->input->post('IDProveedor');
        $Proveedor = $this->input->post('Proveedor');
        $RFC = $this->input->post('RFC');
        $Correo = $this->input->post('Correo');
        $Pagina = $this->input->post('Pagina');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $Tel = $this->input->post('Tel');
        $Contacto = $this->input->post('Contacto');
        $TelContacto = $this->input->post('TelContacto');
        $MailContacto = $this->input->post('MailContacto');
        $Servicios = $this->input->post('Servicios');
        $Titular = $this->input->post('Titular');
        $RFCcuenta = $this->input->post('RFCcuenta');
        $Cuenta = $this->input->post('Cuenta');
        $Banco = $this->input->post('Banco');
        $CLABE = $this->input->post('CLABE');
        $datos = $this->datos->getProveedores2(
                $IDProveedor, $Proveedor, $RFC, $Correo, $Pagina, $Calle, $No, $Colonia, $Tel, $Contacto, $TelContacto, $MailContacto, $Servicios, $Titular, $RFCcuenta, $Cuenta, $Banco, $CLABE
        );
        echo '<script>alert("Se ha actualizado el proveedor")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_5';
        $this->_renderView($data);
    }

    public function InforProveedor() {
        $IDProveedor = $this->input->post('IDProveedor');
        //Abriendo BD Proveedores
        $this->load->model("modelo", "General");
        $Proveedor = $this->General->getProvID($IDProveedor);

        foreach ($Proveedor as $Proveedor1) {
            if (!empty($Proveedor)) {
                ?>
                <div class="col-md-3 col-xs-6">
                    RFC:
                </div>
                <div class="col-md-3 col-xs-6">
                    <input  style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="RFC" id="RFC" value="<?php echo $Proveedor1->RFC ?>">
                    </br>
                </div>
                <div class="col-md-3 col-xs-6">
                    Teléfono:
                </div>
                <div class="col-md-3 col-xs-6">
                    <input  class="form-control" type="text" name="Telefono" id="Telefono" value="<?php echo $Proveedor1->Tel ?>">
                </div>
                <?php
            }
        }
    }

    public function ReporteProveedores() {
        $Proveedor = $this->input->post('Proveedor');
        //Abriendo BD tipo de cliente
        $this->load->model("modelo", "cliente");
        $Tipo = $this->cliente->getCliente();
        //Abriendo BD Rama
        $this->load->model("modelo", "Rama");
        $Rama = $this->Rama->getRama();
        //Abriendo BD Actividades
        $this->load->model("modelo", "Actividades");
        $Actividades = $this->Actividades->getActividades();
        //Abriendo BD Tamanio
        $this->load->model("modelo", "Tamanio");
        $Tamanio = $this->Tamanio->getTamanio();
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $Estado = $this->Estado->getEstado2();
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $Ciudad = $this->Ciudad->getCiudad2();
        //Abriendo BD Proveedores
        $this->load->model("modelo", "General");
        $Proveedores = $this->General->getProveedoresAllx();
        ?>
        <table width="100%">    
        <?php
        foreach ($Proveedores as $Proveedor1) {
            if ($Proveedor == $Proveedor1->ID) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12" align="center">
                <?php echo $Proveedor1->Proveedor ?>
                            </div>
                        </td>
                    </tr>
                    <tr bgcolor="#b9c0ba">
                        <td>
                            <div class="col-md-6 col-xs-12"
                <?php
                $respuesta = '-';
                foreach ($Tipo as $Tipo1) {
                    if ($Tipo1->id_cliente == $Proveedor1->Tipo) {
                        $respuesta = $Tipo1->dsc_cliente;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-6 col-xs-12">
                <?php echo $Proveedor1->RFC ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-6 col-xs-12">
                <?php echo $Proveedor1->Correo ?>
                        </div>
                        <div class="col-md-6 col-xs-12">
                <?php echo $Proveedor1->Pagina ?>
                        </div>
                    </td>
                </tr>
                <tr bgcolor="#b9c0ba">
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Calle ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->No ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Colonia ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($Ciudad as $Municipio1) {
                    if ($Municipio1->id_ciudad == $Proveedor1->Municipio) {
                        $respuesta = $Municipio1->dsc_ciudad;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($Estado as $Estado1) {
                    if ($Estado1->id_estado == $Proveedor1->Estado) {
                        $respuesta = $Estado1->dsc_estado;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Tel ?>
                        </div>
                    </td>
                </tr>
                <tr bgcolor="#b9c0ba">
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Contacto ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->TelContacto ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->MailContacto ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($Rama as $Rama1) {
                    if ($Rama1->id_rama == $Proveedor1->Rama) {
                        $respuesta = $Rama1->dsc_rama;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Actividades as $Actividades1) {
                    if ($Actividades1->id_actividad == $Proveedor1->Actividad) {
                        $respuesta = $Actividades1->dsc_actividad;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Tamanio as $Tamanio1) {
                    if ($Tamanio1->id_tamanio == $Proveedor1->Tamanio) {
                        $respuesta = $Tamanio1->dsc_tamanio;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                    </td>
                </tr>
                <tr bgcolor="#b9c0ba">
                    <td>    
                        <div class="col-md-12 col-xs-12">
                <?php echo $Proveedor1->Servicios ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Titular ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->RFCcuenta ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Cuenta ?>
                        </div>
                    </td>
                </tr> 
                <tr bgcolor="#b9c0ba">
                    <td>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->Banco ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
                <?php echo $Proveedor1->CLABE ?>
                        </div>
                        <div class="col-md-4 col-xs-12">

                        </div>
                    </td>
                </tr>    
                <?php
            }
        }
        ?>
        <tr>
            <td>
                <div class="col-xs-12 col-sm-12">
                    </br>
                </div>
            </td>
        </tr>   
        </table>
        <?php
    }

    public function ReporteProveedoresT() {
        $Tipox = $this->input->post('Tipo');
        //Abriendo BD tipo de cliente
        $this->load->model("modelo", "cliente");
        $Tipo = $this->cliente->getCliente();
        //Abriendo BD Rama
        $this->load->model("modelo", "Rama");
        $Rama = $this->Rama->getRama();
        //Abriendo BD Actividades
        $this->load->model("modelo", "Actividades");
        $Actividades = $this->Actividades->getActividades();
        //Abriendo BD Proveedores
        $this->load->model("modelo", "General");
        $Proveedores = $this->General->getProveedoresAll();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Nombre del Proveedor 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Rama
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Actividad
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Correo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Teléfono
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Proveedores as $Proveedor1) {
            if ($Tipox == $Proveedor1->Tipo) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Proveedor1->Proveedor ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Tipo as $Tipo1) {
                    if ($Tipo1->id_cliente == $Proveedor1->Tipo) {
                        $respuesta = $Tipo1->dsc_cliente;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Rama as $Rama1) {
                    if ($Rama1->id_rama == $Proveedor1->Rama) {
                        $respuesta = $Rama1->dsc_rama;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Actividades as $Actividades1) {
                        if ($Actividades1->id_actividad == $Proveedor1->Actividad) {
                            $respuesta = $Actividades1->dsc_actividad;
                        }
                    }
                    echo $respuesta;
                    ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php echo $Proveedor1->Correo ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php echo $Proveedor1->Tel ?>
                            </div>
                        </td>
                    </tr>    
                            <?php
                        }
                    }
                    ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
                    <?php
                }

                public function ReporteProveedoresR() {
                    $Ramax = $this->input->post('Rama');
                    //Abriendo BD tipo de cliente
                    $this->load->model("modelo", "cliente");
                    $Tipo = $this->cliente->getCliente();
                    //Abriendo BD Rama
                    $this->load->model("modelo", "Rama");
                    $Rama = $this->Rama->getRama();
                    //Abriendo BD Actividades
                    $this->load->model("modelo", "Actividades");
                    $Actividades = $this->Actividades->getActividades();
                    //Abriendo BD Proveedores
                    $this->load->model("modelo", "General");
                    $Proveedores = $this->General->getProveedoresAll();
                    ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Nombre del Proveedor 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Rama
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Actividad
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Correo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Teléfono
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Proveedores as $Proveedor1) {
            if ($Ramax == $Proveedor1->Rama) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php echo $Proveedor1->Proveedor ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Tipo as $Tipo1) {
                                if ($Tipo1->id_cliente == $Proveedor1->Tipo) {
                                    $respuesta = $Tipo1->dsc_cliente;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Rama as $Rama1) {
                                if ($Rama1->id_rama == $Proveedor1->Rama) {
                                    $respuesta = $Rama1->dsc_rama;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Actividades as $Actividades1) {
                                if ($Actividades1->id_actividad == $Proveedor1->Actividad) {
                                    $respuesta = $Actividades1->dsc_actividad;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Proveedor1->Correo ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Proveedor1->Tel ?>
                            </div>
                        </td>
                    </tr>    
                <?php
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
                    <?php
                }

                public function ReporteProveedoresA() {
                    $Actividad = $this->input->post('Actividad');
                    //Abriendo BD tipo de cliente
                    $this->load->model("modelo", "cliente");
                    $Tipo = $this->cliente->getCliente();
                    //Abriendo BD Rama
                    $this->load->model("modelo", "Rama");
                    $Rama = $this->Rama->getRama();
                    //Abriendo BD Actividades
                    $this->load->model("modelo", "Actividades");
                    $Actividades = $this->Actividades->getActividades();
                    //Abriendo BD Proveedores
                    $this->load->model("modelo", "General");
                    $Proveedores = $this->General->getProveedoresAll();
                    ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Nombre del Proveedor 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Rama
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Actividad
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Correo
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Teléfono
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Proveedores as $Proveedor1) {
            if ($Actividad == $Proveedor1->Actividad) {
                ?>   
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $Proveedor1->Proveedor ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Tipo as $Tipo1) {
                    if ($Tipo1->id_cliente == $Proveedor1->Tipo) {
                        $respuesta = $Tipo1->dsc_cliente;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($Rama as $Rama1) {
                    if ($Rama1->id_rama == $Proveedor1->Rama) {
                        $respuesta = $Rama1->dsc_rama;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Actividades as $Actividades1) {
                        if ($Actividades1->id_actividad == $Proveedor1->Actividad) {
                            $respuesta = $Actividades1->dsc_actividad;
                        }
                    }
                    echo $respuesta;
                    ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $Proveedor1->Correo ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                <?php echo $Proveedor1->Tel ?>
                            </div>
                        </td>
                    </tr>    
                                <?php
                            }
                        }
                        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
                        <?php
                    }

                    public function RegistroProductos() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Producto = $this->input->post('Producto');
                        $Marca = $this->input->post('Marca');
                        $UnidadMedida = $this->input->post('UnidadMedida');
                        $Proveedores1 = $_POST['Proveedores'];
                        $Etiqueta = $_POST['Etiqueta'];
                        $n = count($Proveedores1);
                        $Proveedores = implode(',', $Proveedores1);
                        $folio = "R" . date("y") . "A" . date("m") . "B" . date("d") . date("His");
                        $datos = $this->datos->getRegistroProductos(
                                $folio, $Etiqueta, $n, $Producto, $Marca, $UnidadMedida, $Proveedores
                        );
                        echo '<script>alert("Se ha registrado el producto")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Actividades
                        $this->load->model("modelo", "Proveedor");
                        $Proveedor = $this->Proveedor->getProveedoresAll($where);
                        $data['Proveedor'] = $Proveedor;
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $Productos = $this->Productos->getProductosAll($where);
                        $data['Productos'] = $Productos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_5_4';
                        $this->_renderView($data);
                    }

                    public function ActualizarPreProductos() {
                        $where = '';
                        $this->load->model("modelo", "datos");
                        $Ident = $this->input->post('Ident');
                        $ID = $this->input->post('ID');
                        $indiceuser = $this->input->post('user');
                        $Fecha = date("d/m/y");
                        if ($Ident == '1') {
                            //Cargando usuarios
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proveedor
                            $this->load->model("modelo", "Proveedor");
                            $Proveedor = $this->Proveedor->getProveedoresAll($where);
                            $data['Proveedor'] = $Proveedor;
                            //Abriendo BD Productos
                            $this->load->model("modelo", "Productos");
                            $Productos = $this->Productos->getProductosID($ID);
                            $data['Productos'] = $Productos;
                            //Abriendo BD Catalogo
                            $this->load->model("modelo", "Catalogo");
                            $Catalogo = $this->Catalogo->getCatalogo();
                            $data['Catalogo'] = $Catalogo;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Admon_5_4_2_1';
                            $this->_renderView($data);
                        }
                        if ($Ident == '2') {
                            //Cargando usuarios
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Cargando usuarios
                            $where = '';
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proveedor
                            $this->load->model("modelo", "Proveedor");
                            $Proveedor = $this->Proveedor->getProveedoresID($ID);
                            $data['Proveedor'] = $Proveedor;
                            //Abriendo BD Productos
                            $this->load->model("modelo", "Productos");
                            $Productos = $this->Productos->getProductosIDProv($ID);
                            $data['Productos'] = $Productos;
                            //Abriendo BD Productos
                            $this->load->model("modelo", "Prod");
                            $Prod = $this->Prod->getProductosAll($where);
                            $data['Prod'] = $Prod;
                            //Abriendo BD Catalogo
                            $this->load->model("modelo", "Catalogo");
                            $Catalogo = $this->Catalogo->getCatalogo();
                            $data['Catalogo'] = $Catalogo;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Admon_5_4_3_1';
                            $this->_renderView($data);
                        }
                    }

                    public function CambiarPrecios() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $IDa = $_POST['ID'];
                        $Precioa = $_POST['Precio'];
                        $n = count($IDa);
                        $ID = implode(',', $IDa);
                        $Precio = implode(',', $Precioa);
                        $datos = $this->datos->getCambiarPrecios(
                                $n, $ID, $Precio
                        );
                        echo '<script>alert("Se ha registrado el precio del producto")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Actividades
                        $this->load->model("modelo", "Proveedor");
                        $Proveedor = $this->Proveedor->getProveedoresAll($where);
                        $data['Proveedor'] = $Proveedor;
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $Productos = $this->Productos->getProductosAll($where);
                        $data['Productos'] = $Productos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_5_4_2';
                        $this->_renderView($data);
                    }

                    public function CambiarPrecios2() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $IDa = $_POST['ID'];
                        $Precioa = $_POST['Precio'];
                        $n = count($IDa);
                        $ID = implode(',', $IDa);
                        $Precio = implode(',', $Precioa);
                        $datos = $this->datos->getCambiarPrecios(
                                $n, $ID, $Precio
                        );
                        echo '<script>alert("Se ha registrado el precio de los productos")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Actividades
                        $this->load->model("modelo", "Proveedor");
                        $Proveedor = $this->Proveedor->getProveedoresAll($where);
                        $data['Proveedor'] = $Proveedor;
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $Productos = $this->Productos->getProductosAll($where);
                        $data['Productos'] = $Productos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_5_4_3';
                        $this->_renderView($data);
                    }

                    public function MovProveedores() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Proveedor = $this->input->post('Proveedor');
                        $OtroProveedor = $this->input->post('OtroProveedor');
                        $RFC = $this->input->post('RFC');
                        $Telefono = $this->input->post('Telefono');
                        $Adquiere = $this->input->post('Adquiere');
                        $Concepto = $this->input->post('Concepto');
                        $Servicios = $this->input->post('Servicios');
                        $Fecha = $this->input->post('Fecha');
                        $Monto = $this->input->post('Monto');
                        $datos = $this->datos->getMovProveedores(
                                $Proveedor, $OtroProveedor, $RFC, $Telefono, $Adquiere, $Concepto, $Servicios, $Fecha, $Monto
                        );
                        echo '<script>alert("Se ha registrado el movimiento")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD cliente
                        $where = '';
                        $this->load->model("modelo", "ID_cliente");
                        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
                        $data['ID_cliente'] = $d_ID_cliente;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Admon_5';
                        $this->_renderView($data);
                    }

                    public function ReporteMovimientos() {
                        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
                        $StartFecha = date_format($Start, 'Ymd');
                        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
                        $EndFecha = date_format($End, 'Ymd');
                        $Proveedor = $this->input->post('Proveedor');
                        $this->load->model("modelo", "General");
                        //Abriendo BD Proveedores
                        $this->load->model("modelo", "General");
                        $Proveedores = $this->General->getProveedoresAll();
                        //Abriendo Movimientos
                        $Movimientos = $this->General->getMovimientosAll();
                        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Nombre del Proveedor 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Concepto
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Servicios
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Monto
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Teléfono
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Movimientos as $Movimientos1) {
            if ($Proveedor != 0) {
                $FechaM = date_create_from_format('d/m/Y', $Movimientos1->Fecha);
                $Fm = date_format($FechaM, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha && $Proveedor == $Movimientos1->Proveedor) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Proveedores as $Proveedores1) {
                        if ($Proveedores1->ID == $Movimientos1->Proveedor) {
                            $respuesta = $Proveedores1->Proveedor;
                        }
                    }
                    echo $respuesta;
                    ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Concepto ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Servicios ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Fecha ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Monto ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Telefono ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            } else {
                $FechaM = date_create_from_format('d/m/Y', $Movimientos1->Fecha);
                $Fm = date_format($FechaM, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    if ($Movimientos1->Proveedor == 0) {
                        $respuesta = $Movimientos1->OtroProveedor;
                    } else {
                        foreach ($Proveedores as $Proveedores1) {
                            if ($Proveedores1->ID == $Movimientos1->Proveedor) {
                                $respuesta = $Proveedores1->Proveedor;
                            }
                        }
                    }
                    echo $respuesta;
                    ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Concepto ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Servicios ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Fecha ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Monto ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Movimientos1->Telefono ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function TranspRegistro() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Clase = $this->input->post('Clase');
        $Tipo = $this->input->post('Tipo');
        $Marca = $this->input->post('Marca');
        $Modelo = $this->input->post('Modelo');
        $Color = $this->input->post('Color');
        $Combustible = $this->input->post('Combustible');
        $Propietario = $this->input->post('Propietario');
        $Placas = $this->input->post('Placas');
        $Valor1 = $this->input->post('Valor1');
        $Aseguradora = $this->input->post('Aseguradora');
        $Poliza = $this->input->post('Poliza');
        $Fecha = date("d/m/y");
        $datos = $this->datos->getTranspRegistro(
                $Clase, $Tipo, $Marca, $Modelo, $Color, $Combustible, $Propietario, $Placas, $Valor1, $Aseguradora, $Poliza, $Fecha
        );
        echo '<script>alert("Se ha registrado la información correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_6';
        $this->_renderView($data);
    }

    public function TranspMantenimiento() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Unidad = $this->input->post('Unidad');
        $Mantenimiento = $this->input->post('Mantenimiento');
        $Kilometraje = $this->input->post('Kilometraje');
        $Taller = $this->input->post('Taller');
        $Costo = $this->input->post('Costo');
        $Tareas = $this->input->post('Tareas');
        $Fecha = $this->input->post('Fecha');
        $datos = $this->datos->getTranspMantenimiento(
                $Unidad, $Mantenimiento, $Kilometraje, $Taller, $Costo, $Tareas, $Fecha
        );
        echo '<script>alert("Se ha registrado la información correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_6';
        $this->_renderView($data);
    }

    public function TranspVerificacion() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Unidad = $this->input->post('Unidad');
        $AnioVerificacion = $this->input->post('AnioVerificacion');
        $Semestre = $this->input->post('Semestre');
        $FechaRealizacion = $this->input->post('FechaRealizacion');
        $LugarRealizacion = $this->input->post('LugarRealizacion');
        $Fecha = date("d/m/y");
        $datos = $this->datos->getTranspVerificacion(
                $Unidad, $AnioVerificacion, $Semestre, $FechaRealizacion, $LugarRealizacion, $Fecha
        );
        echo '<script>alert("Se ha registrado la información correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_6';
        $this->_renderView($data);
    }

    public function TranspAccidente() {
        $Numero = $this->input->post('Unidad');
        $Nombre = $Numero . '-' . date("y") . date("m") . date("d");
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder7;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su información \n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Unidad = $this->input->post('Unidad');
                $FechaAccidente = $this->input->post('FechaAccidente');
                $HoraAccidente = $this->input->post('HoraAccidente');
                $Descripcion = $this->input->post('Descripcion');
                $Danios = $this->input->post('Danios');
                $Fecha = date("d/m/y");
                $datos = $this->datos->getTranspAccidente(
                        $Unidad, $FechaAccidente, $HoraAccidente, $Descripcion, $Danios, $Fecha
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Unidad = $this->input->post('Unidad');
            $FechaAccidente = $this->input->post('FechaAccidente');
            $HoraAccidente = $this->input->post('HoraAccidente');
            $Descripcion = $this->input->post('Descripcion');
            $Danios = $this->input->post('Danios');
            $Fecha = date("d/m/y");
            $datos = $this->datos->getTranspAccidente(
                    $Unidad, $FechaAccidente, $HoraAccidente, $Descripcion, $Danios, $Fecha
            );
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_6';
            $this->_renderView($data);
        }
    }

    public function TranspSolicitud() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Unidad = $this->input->post('Unidad');
        $Comision = $this->input->post('Comision');
        $FechaComision = $this->input->post('FechaComision');
        $Descripcion = $this->input->post('Descripcion');
        $Estado2 = $this->input->post('Estado');
        $Ciudad = $this->input->post('Ciudad');
        $LugarSalida = $this->input->post('LugarSalida');
        $HoraSalida = $this->input->post('HoraSalida');
        $HoraRegreso = $this->input->post('HoraRegreso');
        $Duracion = $this->input->post('Duracion');
        $Pasajeros = $this->input->post('Pasajeros');
        $NombresPasajeros = $this->input->post('NombresPasajeros');
        $Conductor = $this->input->post('Conductor');
        $Fecha = date("d/m/y");
        $Estado = 'Pendiente';
        $datos = $this->datos->getTranspSolicitud(
                $Unidad, $Comision, $FechaComision, $Descripcion, $Estado2, $Ciudad, $LugarSalida, $HoraSalida, $HoraRegreso, $Duracion, $Pasajeros, $NombresPasajeros, $Conductor, $Fecha, $Estado
        );
        echo '<script>alert("Se ha registrado la solicitud")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_6';
        $this->_renderView($data);
    }

    public function TranspAprobacion() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IDAprobacion = $this->input->post('IDAprobacion');
        $Disponibilidad = $this->input->post('Disponibilidad');
        $Estado = $this->input->post('Estado');
        $IDUnidad = $this->input->post('Unidad');
        $Autoriza = $this->input->post('user');
        $FechaAutorizacion = date("d/m/y");
        $HoraAutorizacion = date("H:i:s");
        $datos = $this->datos->getTranspAprobacion(
                $IDAprobacion, $Disponibilidad, $Estado, $IDUnidad, $Autoriza, $FechaAutorizacion, $HoraAutorizacion
        );
        echo '<script>alert("Se ha registrado la solicitud")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_6';
        $this->_renderView($data);
    }

    public function InfoSolicitudes() {
        //Abriendo BD Sub-cliente
        $IDAprobacion = $_POST["IDAprobacion"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getSolicitudID($IDAprobacion);
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        //Abriendo BD transportes
        $this->load->model("modelo", "Transporte");
        $Unidad = $this->Transporte->getTransporteAll();

        foreach ($datos2 as $SolicitudInfo) {
            echo "Unidad de transporte solicitada: ";
            ?><?php
                            $respuesta = '-';
                            foreach ($Unidad as $Unidad1) {
                                if ($Unidad1->IDUnidad == $SolicitudInfo->IDUnidad) {
                                    $respuesta = $Unidad1->Tipo . ' ' . $Unidad1->Marca . ' ' . $Unidad1->Modelo . ' ' . $Unidad1->Color;
                                }
                            }
                            ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong><?php
                echo "</p>";
                echo "Comisión: ";
                ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->Comision; ?> </strong><?php
                echo "</p>";
                echo "Fecha de la comisión: ";
                ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->FechaComision; ?> </strong><?php
                echo "</p>";
                echo "Descripción o ruta: ";
                ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->Descripcion; ?> </strong><?php
                echo "</p>";
                echo "Lugar y hora de Salida: ";
                ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->LugarSalida . ' - ' . $SolicitudInfo->HoraSalida; ?> </strong><?php
            echo "</p>";
            echo "Hora de regreso: ";
            ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->HoraRegreso; ?> </strong><?php
            echo "</p>";
            echo "Duración de la comisión: ";
            ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->Duracion . ' hrs'; ?> </strong>
            <?php
            echo "</p>";
            echo "Pasajeros: ";
            ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->NombresPasajeros; ?> </strong><?php
            echo "</p>";
            echo "Conductor: ";
            ?><?php
            $respuesta = '-';
            foreach ($USUARIOS as $USUARIOS1) {
                if ($USUARIOS1->Id == $SolicitudInfo->Conductor) {
                    $respuesta = $USUARIOS1->nombre . ' ' . $USUARIOS1->apaterno . ' ' . $USUARIOS1->amaterno;
                }
            }
            ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong><?php
        }
    }

    public function EdoSolicitudTransp() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        $Estado = $this->input->post('Estado');
        $User = $this->input->post('User');
        $this->load->model("modelo", "General");
        //Abriendo BD Solicitudes
        $Solicitudes = $this->General->getSolXIDCond($User);
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Comisión 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Fecha de comisión
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Estado
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Lugar de salida
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Hora de salida
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Hora de regreso
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Solicitudes as $Solicitudes1) {
            if ($Estado != '0') {
                $Fecha = date_create_from_format('d/m/Y', $Solicitudes1->FechaComision);
                $Fm = date_format($Fecha, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha && $Estado == $Solicitudes1->Estado) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Comision ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->FechaComision ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Estado ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->LugarSalida ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->HoraSalida ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->HoraRegreso ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            } else {
                $Fecha = date_create_from_format('d/m/Y', $Solicitudes1->FechaComision);
                $Fm = date_format($Fecha, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Comision ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->FechaComision ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Estado ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->LugarSalida ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->HoraSalida ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->HoraRegreso ?>
                                </div>
                            </td>
                        </tr>   
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function InforResulTransp() {
        $Unidad = $this->input->post('Unidad');
        $this->load->model("modelo", "General");
        //Abriendo BD transportes
        $UnidadInfo = $this->General->getTransporteID($Unidad);
        $VerifInfo = $this->General->getVerifID($Unidad);
        $MantInfo = $this->General->getMantID($Unidad);
        $AcciInfo = $this->General->getAcciID($Unidad);

        if ($Unidad != '0') {
            foreach ($UnidadInfo as $UnidadInfo1)
                
                ?>
                <table width="100%" border="1" bordercolor="#9c9a9a">
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo $UnidadInfo1->Tipo . ' ' . $UnidadInfo1->Marca . ' ' . $UnidadInfo1->Modelo . ' ' . $UnidadInfo1->Color; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Clase:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Clase; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Placas:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Placas; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Combustible:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Combustible; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Valor:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Valor1; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Aseguradora:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Aseguradora; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Póliza:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $UnidadInfo1->Poliza; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            Verificaciones
                        </div>
                    </td>
                </tr>
            <?php foreach ($VerifInfo as $VerifInfo1) { ?>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                <?php echo $VerifInfo1->AnioVerificacion . ' ' . $VerifInfo1->Semestre . ' ' . $VerifInfo1->FechaRealizacion . ' ' . $VerifInfo1->LugarRealizacion; ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            Mantenimiento
                        </div>
                    </td>
                </tr>
            <?php foreach ($MantInfo as $MantInfo1) { ?>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                <?php echo $MantInfo1->Fecha . ' Mantenimiento ' . $MantInfo1->Mantenimiento . ' - ' . $MantInfo1->Kilometraje . 'Kms'; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                <?php echo $MantInfo1->Tareas; ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            Daños
                        </div>
                    </td>
                </tr>
            <?php foreach ($AcciInfo as $AcciInfo1) { ?>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                <?php echo $AcciInfo1->FechaAccidente . ' / ' . $AcciInfo1->HoraAccidente; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                <?php echo $AcciInfo1->Danios; ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>


            </table>
            <?php
        } else {
            $UnidadInfo = $this->General->getTransporteAll();
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo 'Unidades de transporte' ?>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($UnidadInfo as $UnidadInfo1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Tipo . ' ' . $UnidadInfo1->Marca; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Modelo; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Color; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Placas; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Aseguradora; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" >
                <?php echo $UnidadInfo1->Poliza; ?>
                            </div>
                        </td>
                    </tr>
            <?php }
            ?></table> <?php
        }
    }

    public function crearusuario2() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $nombre = $this->input->post('nombre');
        $apaterno = $this->input->post('apaterno');
        $amaterno = $this->input->post('amaterno');
        $email = $this->input->post('email');
        $password1 = sha1(md5(trim($_POST['password1'])));
        $password2 = sha1(md5(trim($_POST['password2'])));
        $idArea = $this->input->post('AreaInterno');
        $idPuesto = $this->input->post('PuestoInterno');
        $FechaAlta = date("d/m/y");
        if ($password1 == $password2) {
            $datos = $this->datos->getUsuarios2(
                    $nombre, $apaterno, $amaterno, $email, $password1, $idArea, $idPuesto, $FechaAlta
            );
            echo '<script>alert("El empleado a sido agregado a la plataforma")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        } else {
            echo '<script>alert("Contraseñas no coinciden")</script>';
        }
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7_1';
        $this->_renderView($data);
    }

    public function InfoEmpleado() {
        $this->load->model("modelo", "datos");
        $user = $this->input->post('user');
        $Genero = $this->input->post('Genero');
        $EstadoCivil = $this->input->post('EstadoCivil');
        $CURP = $this->input->post('CURP');
        $RFC = $this->input->post('RFC');
        $Cedula = $this->input->post('Cedula');
        $NSS = $this->input->post('NSS');
        $NP = $this->input->post('NP');
        $NA = $this->input->post('NA');
        $Licencia = $this->input->post('Licencia');
        $TipoLicencia = $this->input->post('TipoLicencia');
        $NoLicencia = $this->input->post('NoLicencia');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $Pais = $this->input->post('Pais');
        $Estado = $this->input->post('Estado');
        $Ciudad = $this->input->post('Ciudad');
        $Cel = $this->input->post('Cel');
        $Tel = $this->input->post('Tel');
        $facebook = $this->input->post('facebook');
        $twitter = $this->input->post('twitter');
        $linkedin = $this->input->post('linkedin');
        $Instagram = $this->input->post('Instagram');
        $Estudios = $this->input->post('Estudios');
        $Certificado = $this->input->post('Certificado');
        $Institucion = $this->input->post('Institucion');
        $Programa = $this->input->post('Programa');
        $Ingles = $this->input->post('Ingles');
        $Software = $this->input->post('Software');
        $Cargo = $this->input->post('Cargo');
        $Organizacion = $this->input->post('Organizacion');
        $FechaInicio = $this->input->post('FechaInicio');
        $FechaTermino = $this->input->post('FechaTermino');
        $TelTrabajo = $this->input->post('TelTrabajo');
        $SueldoAnt = $this->input->post('SueldoAnt');
        $Funciones = $this->input->post('Funciones');
        $ViveCon = $this->input->post('ViveCon');
        $Dependientes = $this->input->post('Dependientes');
        $Auto = $this->input->post('Auto');
        $DuenioCasa = $this->input->post('DuenioCasa');
        $Renta = $this->input->post('Renta');
        $SueldoDeseado = $this->input->post('SueldoDeseado');
        $Hijos = $this->input->post('Hijos');
        $NHijos = $this->input->post('NHijos');
        $OtrosIngresos = $this->input->post('OtrosIngresos');
        $OtroMes = $this->input->post('OtroMes');
        $Deudas = $this->input->post('Deudas');
        $MDeuda = $this->input->post('MDeuda');
        $Abono = $this->input->post('Abono');
        $Gastos = $this->input->post('Gastos');
        $Salud = $this->input->post('Salud');
        $PadeceEnfermedad = $this->input->post('PadeceEnfermedad');
        $Enfermedad = $this->input->post('Enfermedad');
        $Discapacidad = $this->input->post('Discapacidad');
        $TipoDiscapacidad = $this->input->post('TipoDiscapacidad');
        $ActividadF = $this->input->post('ActividadF');
        $ActividadFisica = $this->input->post('ActividadFisica');
        $Estatura = $this->input->post('Estatura');
        $Peso = $this->input->post('Peso');
        $HaceDeporte = $this->input->post('HaceDeporte');
        $Deporte = $this->input->post('Deporte');
        $Frecuencia = $this->input->post('Frecuencia');
        $Pasatiempo = $this->input->post('Pasatiempo');
        $Fecha = date("d/m/y");
        $datos = $this->datos->getInfEmpleado(
                $user, $Genero, $EstadoCivil, $CURP, $RFC, $Cedula, $NSS, $NP, $NA, $Licencia, $TipoLicencia, $NoLicencia, $Calle, $No, $Colonia, $Pais, $Estado, $Ciudad, $Cel, $Tel, $facebook, $twitter, $linkedin, $Instagram, $Estudios, $Certificado, $Institucion, $Programa, $Ingles, $Software, $Cargo, $Organizacion, $FechaInicio, $FechaTermino, $TelTrabajo, $SueldoAnt, $Funciones, $ViveCon, $Dependientes, $Auto, $DuenioCasa, $Renta, $SueldoDeseado, $Hijos, $NHijos, $OtrosIngresos, $OtroMes, $Deudas, $MDeuda, $Abono, $Gastos, $Salud, $PadeceEnfermedad, $Enfermedad, $Discapacidad, $TipoDiscapacidad, $ActividadF, $ActividadFisica, $Estatura, $Peso, $HaceDeporte, $Deporte, $Frecuencia, $Pasatiempo, $Fecha
        );
        echo '<script>alert("Se ha actualizado su información")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function InfoE() {
        $Empleado = $this->input->post('Empleado');
        $this->load->model("modelo", "General");
        //Abriendo BD transportes
        $Info = $this->General->getEmpleadoID($Empleado);
        $historial = $this->General->gethistorial($Empleado);
        //Abriendo BD Area
        $where = '';
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        //Abriendo BD Puesto
        $this->load->model("modelo", "Puesto");
        $Puesto = $this->Puesto->getPuesto($where);

        foreach ($Info as $Info1)
            
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
        <?php echo $Info1->nombre . ' ' . $Info1->apaterno . ' ' . $Info1->amaterno; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Puesto Actual:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php
        $respuesta = '-';
        foreach ($Puesto as $Puesto1) {
            if ($Puesto1->id_puesto == $Info1->idPuesto) {
                $respuesta = $Puesto1->dsc_puesto;
            }
        }
        ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Area Actual:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta2 = '-';
                            foreach ($Area as $Area1) {
                                if ($Area1->id_area == $Info1->idArea) {
                                    $respuesta2 = $Area1->dsc_area;
                                }
                            }
                            ?>	<strong style="color:#ff6600"><?php echo $respuesta2; ?> </strong>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#333333">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Historial
                    </div>
                </td>
            </tr>
        <?php foreach ($historial as $historial1) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta3 = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $historial1->idArea) {
                    $respuesta3 = $Area1->dsc_area;
                }
            }
            $respuesta4 = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $historial1->idPuesto) {
                    $respuesta4 = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta4 . ' (' . $respuesta3 . ') ' . $historial1->FechaAlta . ' - ' . $historial1->FechaBaja;
            ?>
                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table>
        <?php
    }

    public function FCEmpleados() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IDUser = $this->input->post('user');
        $Modalidad = $this->input->post('Modalidad');
        $Programa = $this->input->post('Programa');
        $Institucion = $this->input->post('Institucion');
        $FechaInicio = $this->input->post('FechaInicio');
        $FechaTermino = $this->input->post('FechaTermino');
        $Fecha = date("d/m/y");
        $datos = $this->datos->getFCEmpleados(
                $IDUser, $Modalidad, $Programa, $Institucion, $FechaInicio, $FechaTermino, $Fecha
        );
        echo '<script>alert("Se ha registrado el curso")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function CambioP() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Empleado = $this->input->post('Empleado');
        $temporal = $this->datos->getEmpleadoID($Empleado);
        foreach ($temporal as $temporal1) {
            $FechaAlta = $temporal1->FechaAlta;
            $PAnterior = $temporal1->idPuesto;
            $AAnterior = $temporal1->idArea;
        }
        $AreaInterno = $this->input->post('AreaInterno');
        $PuestoInterno = $this->input->post('PuestoInterno');
        $FechaBaja = date("d/m/y");
        $datos = $this->datos->getCambioP(
                $Empleado, $FechaAlta, $PAnterior, $AAnterior, $AreaInterno, $PuestoInterno, $FechaBaja
        );
        echo '<script>alert("Se ha registrado el cambio")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function InfEmpleadoCV() {
        $indiceuser = $this->input->post('IDHojaCV');
        $this->load->model("modelo", "General");
        $where = '';
        //Abriendo BD Solicitudes
        $HojaCV = $this->General->getInfoEmple($indiceuser);
        //Abriendo BD Pais
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Documentos");
        $Documentos = $this->Documentos->getDocumentosALL2();
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Expediente");
        $Expediente = $this->Expediente->getResultadoExp($indiceuser);

        foreach ($HojaCV as $HojaCV1)
            
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#809982">
                        <?php
                        $files = get_filenames($this->folder8, FALSE);
                        foreach ($files as $file) {
                            $ext = substr($file, strpos($file, ".") + strlen("."));
                            $name = substr($file, 0, strpos($file, "."));
                            if ($name == $indiceuser . "-25") {
                                ?>
                            <img src="<?php echo base_url(); ?>uploads/Expediente/<?php echo $name . "." . $ext ?>" height="50px" width="50px">   
            <?php }
        }
        ?>
                    <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
                        <?php echo $HojaCV1->Nombre . ' ' . $HojaCV1->apaterno . ' ' . $HojaCV1->amaterno; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Género:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Genero; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Estado Civil:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->EstadoCivil; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            CURP:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->CURP; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            RFC:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->RFC; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Cédula Profesional:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Cedula; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Número del Seguro Social:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NSS; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Número de pasaporte:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NP; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Número de afore:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NA; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Licencia:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TipoLicencia . ' ' . $HojaCV1->NoLicencia; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Datos de localización
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Calle . ' ' . $HojaCV1->No . ', Colonia:' . $HojaCV1->Colonia; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">    
        <?php
        $RespC = '-';
        foreach ($d_Ciudad as $temp1) {
            if ($temp1->id_ciudad == $HojaCV1->Ciudad) {
                $RespC = $temp1->dsc_ciudad;
            }
        }
        ?>
        <?php
        $RespE = '-';
        foreach ($d_Estado as $temp2) {
            if ($temp2->id_estado == $HojaCV1->Estado) {
                $RespE = $temp2->dsc_estado;
            }
        }
        ?>
        <?php
        $RespP = '-';
        foreach ($d_Pais as $temp3) {
            if ($temp3->id_pais == $HojaCV1->Pais) {
                $RespP = $temp3->dsc_pais;
            }
        }
        ?>
        <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Correo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Correo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Celular:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Cel . ' Teléfono: ' . $HojaCV1->Tel; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Redes Sociales
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Facebook:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->facebook; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Twitter:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->twitter; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Linkeind:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->linkedin; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Instagram:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Instagram; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Último nivel de estudios
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Estudios . ' (' . $HojaCV1->Certificado . ')'; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                        <?php echo $HojaCV1->Programa; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Institucion; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Inglés:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php echo $HojaCV1->Ingles; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <?php echo $HojaCV1->Software; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Experiencia
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Cargo . ' - ' . $HojaCV1->Organizacion . ' (' . $HojaCV1->FechaInicio . ' - ' . $HojaCV1->FechaTermino . ')'; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Sueldo anterior:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                        <?php echo $HojaCV1->SueldoAnt; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Teléfono del trabajo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TelTrabajo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Funciones en el trabajo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Funciones; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información socio-económica
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Vive con:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->ViveCon; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Dependientes económicos:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Dependientes; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Automovil propio:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Auto; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Dueño de su casa:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->DuenioCasa; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Paga renta:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Renta; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Sueldo deseado:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->SueldoDeseado; ?>
                        </div>
                    </div>
                </td>
            </tr>    
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información del estado de salud
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Estatura:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                    <?php echo $HojaCV1->Estatura; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Peso:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Peso; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Estado de salud:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Salud; ?>
                        </div>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Padece:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Enfermedad; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Discapacidad:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TipoDiscapacidad; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Practica:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->ActividadFisica; ?>
                        </div>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Deporte:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Deporte; ?>
                        </div>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Pasatiempo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Pasatiempo; ?>
                        </div>
                    </div>
                </td>
            </tr>     
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información personal
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Tiene hijos?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Hijos . ' ' . $HojaCV1->NHijos; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Tiene otros ingresos mensuales?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                        <?php echo $HojaCV1->OtrosIngresos . ' ' . $HojaCV1->OtroMes; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Tiene deudas económicas?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Deudas . ' ' . $HojaCV1->MDeuda; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿A cuanto ascienden sus gastos mensuales?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Gastos; ?>
                        </div>
                    </div>
                </td>
            </tr>
        <?php foreach ($Expediente as $Expediente1) { ?>
                <tr>
                    <td>
                        <div class="col-md-4 col-xs-12">
                                <?php
                                $respuesta = '-';
                                foreach ($Documentos as $Documentos1) {
                                    if ($Documentos1->id_documentos == $Expediente1->idDocumento) {
                                        $respuesta = $Documentos1->dsc_documentos;
                                    }
                                }
                                echo $respuesta;
                                ?>
                        </div>
                        <div class="col-md-4 col-xs-12">
            <?php echo $Expediente1->Observacion; ?>
                        </div>
                        <div class="col-md-4 col-xs-12" align="center"> 
            <?php
            $nombre = $Expediente1->Archivo;
            $files = get_filenames($this->folder8, FALSE);
            foreach ($files as $file) {
                $ext = substr($file, strpos($file, ".") + strlen("."));
                $name = substr($file, 0, strpos($file, "."));
                if ($name == $nombre) {
                    if ($ext == 'pdf' || $ext == 'PDF') {
                        ?> 
                                        <div class="col-md-12 col-xs-12" align="right"> 
                                            <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Expediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/pdf.png" width="30" height="30" /></button>
                                        </div>
                    <?php
                    } else {
                        if ($ext == 'jpg' || $ext == 'png' || $ext == 'JPG' || $ext == 'PNG') {
                            ?> 
                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Expediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/imagen.png" width="30" height="30" /></button>
                                            </div>
                        <?php
                        } else {
                            if ($ext == 'zip' || $ext == 'rar') {
                                ?> 
                                                <div class="col-md-12 col-xs-12" align="right"> 
                                                    <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Expediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/zip.png" width="30" height="30" /></button>
                                                </div>
                            <?php } else {
                                ?> 
                                                <div class="col-md-12 col-xs-12" align="right"> 
                                                    <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Expediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                                </div>
                            <?php }
                        }
                    }
                }
            }
            ?>

                        </div>
                    </td>
                </tr>
                            <?php } ?>
        </table>
        <?php
    }

    public function Valoracion() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IDEmpleado = $this->input->post('user');
        $Mes = $this->input->post('meses');
        $FechaV = $this->input->post('FechaV');
        $Peso = $this->input->post('Peso');
        $Talla = $this->input->post('Talla');
        $Indice = $this->input->post('Indice');
        $Diagnostico = $this->input->post('Diagnostico');
        $Observacion = $this->input->post('Observacion');
        $Fecha = date("d/m/y");
        $datos = $this->datos->getValoracion(
                $IDEmpleado, $Mes, $FechaV, $Peso, $Talla, $Indice, $Diagnostico, $Observacion, $Fecha
        );
        echo '<script>alert("Se ha registrado su valoración")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function SinceInfo() {
        $Empleado = $this->input->post('Empleado');
        $this->load->model("modelo", "General");
        //Abriendo BD transportes
        $Info = $this->General->getEmpleadoID($Empleado);
        $historial = $this->General->gethistorial($Empleado);
        //Abriendo BD Area
        $where = '';
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        //Abriendo BD Puesto
        $this->load->model("modelo", "Puesto");
        $Puesto = $this->Puesto->getPuesto($where);

        foreach ($Info as $Info1)
            
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
        <?php echo $Info1->nombre . ' ' . $Info1->apaterno . ' ' . $Info1->amaterno; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
        <?php echo 'Miembro desde: ' . $Info1->Desde; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Puesto Actual:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php
        $respuesta = '-';
        foreach ($Puesto as $Puesto1) {
            if ($Puesto1->id_puesto == $Info1->idPuesto) {
                $respuesta = $Puesto1->dsc_puesto;
            }
        }
        ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Area Actual:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta2 = '-';
                            foreach ($Area as $Area1) {
                                if ($Area1->id_area == $Info1->idArea) {
                                    $respuesta2 = $Area1->dsc_area;
                                }
                            }
                            ?>	<strong style="color:#ff6600"><?php echo $respuesta2; ?> </strong>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#333333">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Historial
                    </div>
                </td>
            </tr>
        <?php foreach ($historial as $historial1) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta3 = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $historial1->idArea) {
                    $respuesta3 = $Area1->dsc_area;
                }
            }
            $respuesta4 = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $historial1->idPuesto) {
                    $respuesta4 = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta4 . ' (' . $respuesta3 . ') ' . $historial1->FechaAlta . ' - ' . $historial1->FechaBaja;
            ?>
                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table>
                            <?php
                        }

                        public function SueldoInfo() {
                            $Empleado = $this->input->post('Empleado');
                            $this->load->model("modelo", "General");
                            //Abriendo BD empleados
                            $where = '';
                            $Info = $this->General->getEmpleadoID($Empleado);
                            //Abriendo BD Puesto
                            $this->load->model("modelo", "Puesto");
                            $Puesto = $this->Puesto->getPuesto($where);

                            foreach ($Info as $Info1)
                                ;

                            $respuesta = '-';
                            foreach ($Puesto as $Puesto1) {
                                if ($Puesto1->id_puesto == $Info1->idPuesto) {
                                    $respuesta = $Puesto1->Sueldo;
                                }
                            }
                            ?>
        <input  value="<?php echo $respuesta ?>" type="number" step="0.01"  class="form-control" name="Sueldo" id="Sueldo" disabled="disabled">
                            <?php
                        }

                        public function FunPer() {
                            $respuesta = 0;
                            $V1 = $this->input->post('V1');
                            $V2 = $this->input->post('V2');
                            $V3 = $this->input->post('V3');
                            $V4 = $this->input->post('V4');
                            $V5 = $this->input->post('V5');
                            $V6 = $this->input->post('V6');
                            $V7 = $this->input->post('V7');
                            $V8 = $this->input->post('V8');
                            $V9 = $this->input->post('V9');

                            $respuesta = $V1 + $V2 + $V3 + $V4 + $V5 + $V6 + $V7 + $V8 + $V9;
                            ?>
        <input  value="<?php echo $respuesta ?>" type="number" step="0.01"  class="form-control" name="Percepciones" id="Percepciones" disabled="disabled">
        <?php
    }

    public function FunDedu() {
        $respuesta = 0;
        $D1 = $this->input->post('D1');
        $D2 = $this->input->post('D2');
        $D3 = $this->input->post('D3');
        $D4 = $this->input->post('D4');
        $D5 = $this->input->post('D5');

        $respuesta = $D1 + $D2 + $D3 + $D4 + $D5;
        ?>
        <input  value="<?php echo $respuesta ?>" type="number" step="0.01"  class="form-control" name="Deducciones" id="Deducciones" disabled="disabled">
        <?php
    }

    public function FunTotal() {
        $respuesta1 = 0;
        $respuesta2 = 0;
        $respuestaT = 0;
        $V1 = $this->input->post('V1');
        $V2 = $this->input->post('V2');
        $V3 = $this->input->post('V3');
        $V4 = $this->input->post('V4');
        $V5 = $this->input->post('V5');
        $V6 = $this->input->post('V6');
        $V7 = $this->input->post('V7');
        $V8 = $this->input->post('V8');
        $V9 = $this->input->post('V9');
        $D1 = $this->input->post('D1');
        $D2 = $this->input->post('D2');
        $D3 = $this->input->post('D3');
        $D4 = $this->input->post('D4');
        $D5 = $this->input->post('D5');
        $respuesta1 = $V1 + $V2 + $V3 + $V4 + $V5 + $V6 + $V7 + $V8 + $V9;
        $respuesta2 = $D1 + $D2 + $D3 + $D4 + $D5;
        $respuestaT = $respuesta1 - $respuesta2;
        ?>
        <input  value="<?php echo $respuestaT ?>" type="number" step="0.01"  class="form-control" name="Pago" id="Pago" disabled="disabled">
        <?php
    }

    public function Remuneraciones() {
        $this->load->model("modelo", "datos");
        $Empleado = $this->input->post('Empleado');
        //Abriendo BD empleados
        $where = '';
        $Info = $this->datos->getEmpleadoID($Empleado);
        //Abriendo BD Puesto
        $Puesto = $this->datos->getPuesto($where);

        foreach ($Info as $Info1) {
            
        };
        $respuesta = '-';
        foreach ($Puesto as $Puesto1) {
            if ($Puesto1->id_puesto == $Info1->idPuesto) {
                $Sueldo = $Puesto1->Sueldo;
            }
        }

        $indiceuser = $this->input->post('user');
        $Empleado = $this->input->post('Empleado');
        $meses = $this->input->post('meses');
        $Dias = $this->input->post('Dias');
        $DiaPago = $this->input->post('DiaPago');
        $FormaPago = $this->input->post('FormaPago');
        $Vacacional = $this->input->post('Vacacional');
        $Antiguedad = $this->input->post('Antiguedad');
        $IMSS = $this->input->post('IMSS');
        $INFONAVIT = $this->input->post('INFONAVIT');
        $Aguinaldo = $this->input->post('Aguinaldo');
        $Bono = $this->input->post('Bono');
        $Despensa = $this->input->post('Despensa');
        $Horas = $this->input->post('Horas');
        $Percepciones = $Sueldo + $Vacacional + $Antiguedad + $IMSS + $INFONAVIT + $Aguinaldo + $Bono + $Despensa + $Horas;
        $ISPT = $this->input->post('ISPT');
        $Prestamo = $this->input->post('Prestamo');
        $Ahorro = $this->input->post('Ahorro');
        $IMSS2 = $this->input->post('IMSS2');
        $Falta = $this->input->post('Falta');
        $Deducciones = $ISPT + $Prestamo + $Ahorro + $IMSS2 + $Falta;
        $Pago = $Percepciones - $Deducciones;
        $Fecha = date("d/m/y");
        $datos = $this->datos->getRemuneraciones(
                $Empleado, $meses, $Dias, $DiaPago, $FormaPago, $Sueldo, $Vacacional, $Antiguedad, $IMSS, $INFONAVIT, $Aguinaldo, $Bono, $Despensa, $Horas, $Percepciones, $ISPT, $Prestamo, $Ahorro, $IMSS2, $Falta, $Deducciones, $Pago, $Fecha
        );
        echo '<script>alert("Se ha registrado el pago")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function IncSolicitud() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Empleado = $this->input->post('user');
        $TAusencia = $this->input->post('TAusencia');
        $NDias = $this->input->post('NDias');
        $NHoras = $this->input->post('NHoras');
        $D1Ausencia = $this->input->post('D1Ausencia');
        $D2Ausencia = $this->input->post('D2Ausencia');
        $TIncapacidad = $this->input->post('TIncapacidad');
        $Tpermiso = $this->input->post('Tpermiso');
        $Remunerada = $this->input->post('Remunerada');
        $Fecha = date("d/m/y");
        $Estado = 'Pendiente';
        $datos = $this->datos->getIncSolicitud(
                $Empleado, $TAusencia, $NDias, $NHoras, $D1Ausencia, $D2Ausencia, $TIncapacidad, $Tpermiso, $Remunerada, $Fecha, $Estado
        );
        echo '<script>alert("Se ha registrado su permiso")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_7';
        $this->_renderView($data);
    }

    public function INCInfo() {
        //Abriendo BD Sub-cliente
        $IDAprobacion = $_POST["IDAprobacion"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getINCSolID($IDAprobacion);
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);


        foreach ($datos2 as $SolicitudInfo) {
            ?><?php
            $respuesta = '-';
            foreach ($USUARIOS as $USUARIOS1) {
                if ($USUARIOS1->Id == $SolicitudInfo->Empleado) {
                    $respuesta = $USUARIOS1->nombre . ' ' . $USUARIOS1->apaterno . ' ' . $USUARIOS1->amaterno;
                }
            }
            ?>	<strong style="color:#ff6600"><?php echo $respuesta; ?> </strong><?php
            echo "</p>";
            echo "Tipo de ausencia: ";
            ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->TAusencia; ?> </strong><?php
                    echo "</p>";
                    echo "Duración: ";
                    ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->D1Ausencia . '-' . $SolicitudInfo->D2Ausencia . ' Dias(' . $SolicitudInfo->NDias . ') - Horas(' . $SolicitudInfo->NHoras . ')'; ?> </strong><?php
                    echo "</p>";
                    echo "Tipo de incapacidad: ";
                    ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->TIncapacidad; ?> </strong><?php
                    echo "</p>";
                    echo "Tipo de permiso: ";
                    ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->Tpermiso; ?> </strong><?php
                    echo "</p>";
                    echo "Remunerada: ";
            ?>	<strong style="color:#ff6600"><?php echo $SolicitudInfo->Remunerada; ?> </strong><?php
                }
            }

            public function INCAprobacion() {
                $this->load->model("modelo", "datos");
                $indiceuser = $this->input->post('user');
                $IDAprobacion = $this->input->post('IDAprobacion');
                $Remunerada = $this->input->post('Remunerada');
                $Estado = $this->input->post('Estado');
                $FechaAutorizacion = date("d/m/y");
                $datos = $this->datos->getINCAprobacion(
                        $IDAprobacion, $Remunerada, $Estado, $FechaAutorizacion
                );
                echo '<script>alert("Se ha registrado su estado")</script>';
                //Cargando usuarios
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                //Abriendo BD cliente
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Admon_7';
                $this->_renderView($data);
            }

            public function IncEdoSoltd() {
                $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
                $StartFecha = date_format($Start, 'Ymd');
                $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
                $EndFecha = date_format($End, 'Ymd');
                $Estado = $this->input->post('Estado');
                $User = $this->input->post('User');
                $this->load->model("modelo", "General");
                //Abriendo BD Solicitudes
                $Solicitudes = $this->General->getIncSolView($User);
                ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-2 col-xs-12" align="center">
                        Tipo de ausencia 
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Incapacidad
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Permiso
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Remunerada
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Duración
                    </div>
                    <div class="col-md-2 col-xs-12" align="center">
                        Estado
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Solicitudes as $Solicitudes1) {
            if ($Estado != '0') {
                $Fecha = date_create_from_format('d/m/Y', $Solicitudes1->D1Ausencia);
                $Fm = date_format($Fecha, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha && $Estado == $Solicitudes1->Estado) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->TAusencia ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->TIncapacidad ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Tpermiso ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Remunerada ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->D1Ausencia . ' ' . $Solicitudes1->D2Ausencia . ' Días(' . $Solicitudes1->NDias . ') Horas(' . $Solicitudes1->NHoras . ')' ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Estado ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            } else {
                $Fecha = date_create_from_format('d/m/Y', $Solicitudes1->D1Ausencia);
                $Fm = date_format($Fecha, 'Ymd');
                if ($Fm >= $StartFecha && $Fm <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->TAusencia ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->TIncapacidad ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Tpermiso ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Remunerada ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->D1Ausencia . ' ' . $Solicitudes1->D2Ausencia . ' Días(' . $Solicitudes1->NDias . ') Horas(' . $Solicitudes1->NHoras . ')' ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $Solicitudes1->Estado ?>
                                </div>
                            </td>
                        </tr>   
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function Expediente() {
        $Empleado = $this->input->post('Empleado');
        $Documento = $this->input->post('Documento');
        $Observacion = $this->input->post('Observacion');
        $Nombre = $Empleado . '-' . $Documento;
        $Archivo = $Nombre;
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder8;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su información \n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Empleado = $this->input->post('Empleado');
                $Documento = $this->input->post('Documento');
                $Observacion = $this->input->post('Observacion');
                $Fecha = date("d/m/y");
                $datos = $this->datos->getExpediente(
                        $Empleado, $Documento, $Observacion, $Fecha, $Archivo
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Empleado = $this->input->post('Empleado');
            $Documento = $this->input->post('Documento');
            $Observacion = $this->input->post('Observacion');
            $Fecha = date("d/m/y");
            $datos = $this->datos->getExpediente(
                    $Empleado, $Documento, $Observacion, $Fecha, $Archivo
            );
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Admon_7';
            $this->_renderView($data);
        }
    }

    public function ResultadoExp() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getResultadoExp($ID);
        //Abriendo BD Solicitudes
        $this->load->model("modelo", "Documentos");
        $Documentos = $this->Documentos->getDocumentos();
        ?> <table width="100%" border="1" bordercolor="#9c9a9a"> <?php
        foreach ($datos as $Expediente1) {
            $nombre = $Expediente1->idEmpleado . '-' . $Expediente1->idDocumento;
            ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Documento:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php
            $Resp = '-';
            foreach ($Documentos as $temp1) {
                if ($temp1->id_documentos == $Expediente1->idDocumento) {
                    $Resp = $temp1->dsc_documentos;
                }
            }
            echo $Resp;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-12">
                                Observaciones:
                            </div>
                            <div class="col-md-3 col-xs-12" style="color:#ff6600">
            <?php echo $Expediente1->Observacion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                Fecha:
                            </div>
                            <div class="col-md-3 col-xs-6" style="color:#ff6600">
            <?php echo $Expediente1->Fecha; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php
            $files = get_filenames($this->folder8, FALSE);
            foreach ($files as $file) {
                $ext = substr($file, strpos($file, ".") + strlen("."));
                $name = substr($file, 0, strpos($file, "."));
                if ($name == $nombre) {
                    ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                    echo anchor('controlador/downloadsE/' . $file, $file) . br(1);
                    ?>
                                    </div>
                                    <div class="col-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Expediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                <?php }
            }
            ?>
                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table>
        <?php
    }

//********************************************************__________Fin administracion______***************************************
//*********************************************************_________Seguridad Social________***************************************
    public function SegSoc() {
        $this->load->model("modelo", "datos");
        $SS = $this->input->post('SegSocID');
        $indiceuser = $this->input->post('user');
        if ($SS == 'SS0') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getSSTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_0';
            $this->_renderView($data);
        }
        if ($SS == 'SS1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_1';
            $this->_renderView($data);
        }
        if ($SS == 'SS2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_2';
            $this->_renderView($data);
        }
        if ($SS == 'SS3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_3';
            $this->_renderView($data);
        }
        if ($SS == 'SS4') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_4';
            $this->_renderView($data);
        }
        if ($SS == 'SS5') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_5';
            $this->_renderView($data);
        }
        if ($SS == 'SS6') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_6';
            $this->_renderView($data);
        }
        if ($SS == 'SS7') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_7';
            $this->_renderView($data);
        }
        if ($SS == 'SS8') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_8';
            $this->_renderView($data);
        }
        if ($SS == 'SS9') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_9';
            $this->_renderView($data);
        }
        if ($SS == 'SS10') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_10';
            $this->_renderView($data);
        }
        if ($SS == 'SS11') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_11';
            $this->_renderView($data);
        }
        if ($SS == 'SS12') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_12';
            $this->_renderView($data);
        }
        if ($SS == 'SS13') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_13';
            $this->_renderView($data);
        }
        if ($SS == 'SS14') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_14';
            $this->_renderView($data);
        }
        if ($SS == 'SS15') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_15';
            $this->_renderView($data);
        }
        if ($SS == 'SS16') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_16';
            $this->_renderView($data);
        }
        if ($SS == 'SS17') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_17';
            $this->_renderView($data);
        }
        if ($SS == 'SS18') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_18';
            $this->_renderView($data);
        }
        if ($SS == 'SS19') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_19';
            $this->_renderView($data);
        }
        if ($SS == 'SS20') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_20';
            $this->_renderView($data);
        }
    }

    public function SS_0() {
        $Cliente = $this->input->post('Cliente');
        $Mes = $this->input->post('Mes');
        $Tramite = $this->input->post('Tramite');
        $Nombre = $Cliente . '-' . $Mes . '-' . $Tramite . date("ydHis");
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder10;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su documento\n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Cliente = $this->input->post('Cliente');
                $Mes = $this->input->post('Mes');
                $Tramite = $this->input->post('Tramite');
                $FechaSolicitud = $this->input->post('FechaSolicitud');
                $Evidencia = $this->input->post('Evidencia');
                $datos = $this->datos->getSS_0(
                        $Cliente, $Mes, $Tramite, $FechaSolicitud, $Evidencia, $Nombre
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getSSTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_0';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Tramite = $this->input->post('Tramite');
            $FechaSolicitud = $this->input->post('FechaSolicitud');
            $Evidencia = $this->input->post('Evidencia');
            $datos = $this->datos->getSS_0(
                    $Cliente, $Mes, $Tramite, $FechaSolicitud, $Evidencia, $Nombre
            );
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getSSTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'SegSoc_0';
            $this->_renderView($data);
        }
    }

    public function InformacionSS() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_1 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_1() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_1(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '1';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_1';
        $this->_renderView($data);
    }

    public function InformacionSS_2() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_2 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_2() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_2(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '2';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_2';
        $this->_renderView($data);
    }

    public function InformacionSS_3() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_3 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_3() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_3(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '3';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_3';
        $this->_renderView($data);
    }

    public function InformacionSS_4() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_4 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_4() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_4(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '4';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_4';
        $this->_renderView($data);
    }

    public function InformacionSS_5() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_5 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_5() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_5(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '5';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_5';
        $this->_renderView($data);
    }

    public function InformacionSS_6() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_6 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_6() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_6(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '6';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_6';
        $this->_renderView($data);
    }

    public function InformacionSS_7() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_7 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_7() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_7(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '7';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_7';
        $this->_renderView($data);
    }

    public function InformacionSS_8() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_8 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_8() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_8(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '8';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_8';
        $this->_renderView($data);
    }

    public function InformacionSS_9() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_9 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_9() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_9(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '9';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_9';
        $this->_renderView($data);
    }

    public function InformacionSS_10() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_10 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_10() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_10(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '10';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_10';
        $this->_renderView($data);
    }

    public function InformacionSS_11() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_11 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_11() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_11(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '11';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_11';
        $this->_renderView($data);
    }

    public function InformacionSS_12() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_12 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_12() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_12(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '12';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_12';
        $this->_renderView($data);
    }

    public function InformacionSS_13() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_13 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_13() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_13(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '13';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_13';
        $this->_renderView($data);
    }

    public function InformacionSS_14() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_14 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_14() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_14(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '14';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_14';
        $this->_renderView($data);
    }

    public function InformacionSS_15() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_15 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_15() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $Nomina = $this->input->post('Nomina');
        $Trabajadores = $this->input->post('Trabajadores');
        $datos = $this->datos->getSS_15(
                $Folio, $Fecha, $Estatus, $Nomina, $Trabajadores
        );

        $Tramite = '18';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_14';
        $this->_renderView($data);
    }

    public function InformacionSS_18() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_18 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_18() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_18(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '15';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_18';
        $this->_renderView($data);
    }

    public function InformacionSS_19() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_19 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_19() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_19(
                $Folio, $Fecha, $Estatus
        );

        $Tramite = '16';
        $Asesoria = '-';
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_19';
        $this->_renderView($data);
    }

    public function InformacionSS_20() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->SS_20 == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function SS_20() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Folio = $this->input->post('ID_cliente');
        $Fecha = $this->input->post('Fecha');
        $Asesoria = $this->input->post('Asesoria');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getSS_20(
                $Folio, $Fecha, $Asesoria, $Estatus
        );

        $Tramite = '17';
        $Asesoria = $this->input->post('Asesoria');
        $Hora = date("H:i:s");
        $historico = $this->datos->getSS_Historico(
                $Folio, $Tramite, $Estatus, $Asesoria, $Fecha, $Hora
        );

        echo '<script>alert("Se ha actualizado el estatus")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'SegSoc_20';
        $this->_renderView($data);
    }

    public function ReporteProceso() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        $this->load->model("modelo", "General");
        //Abriendo Directorio
        $Directorio = $this->General->getTramitesSS();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-4 col-xs-12" align="center">
                        Nombre del Cliente 
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Trámite de previsión social
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Fecha de inicio de elaboración del trámite
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Directorio as $Directorio1) {
            if ($Directorio1->SS_1 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_1);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Tramitar alta como patrón ante el IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_1 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_2 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_2);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar número patronal de identificación electrónica (NPIE) y certificado digital ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_2 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_3 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_3);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar constancia de movimientos afiliatorios al IMSS ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_3 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_4 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_4);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar constancia de autorizaciones y suspensiones ante el IMSS ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_4 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_5 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_5);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de altas o reingresos ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_5 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_6 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_6);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de modificación de salarios ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_6 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_7 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_7);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de bajas de los trabajadores ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_7 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_8 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_8);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración anual de riesgos de trabajo' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_8 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_9 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_9);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar aviso de modificación al registro patronal ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_9 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_10 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_10);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración de sueldos y salarios de trabajadores ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_10 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_11 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_11);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar aviso de movimientos afiliatorios de trabajadores ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_11 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_12 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_12);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar trámite de SATIC' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_12 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_13 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_13);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Renovar o cancelar número patronal de identificación electrónica (NPIE) y certificado digital ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_13 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_14 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_14);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generación mensual SUA (IMSS, REV e INFONAVIT)' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_14 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_15 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_15);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar nómina de trabajadores de clientes' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_15 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_18 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_18);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Aclaraciones y cancelaciones ante el IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_18 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_19 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_19);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Elaboración de finiquitos' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_19 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_20 == 1) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_20);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Asesorías en trámites IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_20 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function ReporteConcluidos() {
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicio"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTermino"]);
        $EndFecha = date_format($End, 'Ymd');
        $this->load->model("modelo", "General");
        //Abriendo Directorio
        $Directorio = $this->General->getTramitesSS();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-4 col-xs-12" align="center">
                        Nombre del Cliente 
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Trámite de previsión social
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Fecha de inicio de conclusión
                    </div>
                </td>
            </tr>
        <?php
        foreach ($Directorio as $Directorio1) {
            if ($Directorio1->SS_1 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_1);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Tramitar alta como patrón ante el IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_1 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_2 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_2);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar número patronal de identificación electrónica (NPIE) y certificado digital ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_2 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_3 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_3);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar constancia de movimientos afiliatorios al IMSS ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_3 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_4 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_4);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Generar constancia de autorizaciones y suspensiones ante el IMSS ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_4 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_5 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_5);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de altas o reingresos ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_5 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_6 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_6);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de modificación de salarios ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_6 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_7 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_7);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar movimientos patronales ante el IMSS de bajas de los trabajadores ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_7 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_8 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_8);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración anual de riesgos de trabajo ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_8 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_9 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_9);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Presentar aviso de modificación al registro patronal ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_9 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_10 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_10);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración de sueldos y salarios de trabajadores' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_10 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_11 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_11);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo 'Presentar aviso de movimientos afiliatorios de trabajadores ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->Fecha_SS_11 ?>
                                </div>
                            </td>
                        </tr>    
                        <?php
                    }
                }
                if ($Directorio1->SS_12 == 2) {
                    $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_12);
                    $FSS = date_format($FechaSS, 'Ymd');
                    if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                        ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo 'Presentar aviso de registro de Obra ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_12 ?>
                                </div>
                            </td>
                        </tr>    
                        <?php
                    }
                }
                if ($Directorio1->SS_13 == 2) {
                    $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_13);
                    $FSS = date_format($FechaSS, 'Ymd');
                    if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                        ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Cancelar número patronal de identificación electrónica (NPIE) y certificado digital ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->Fecha_SS_13 ?>
                                </div>
                            </td>
                        </tr>    
                        <?php
                    }
                }
                if ($Directorio1->SS_14 == 2) {
                    $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_14);
                    $FSS = date_format($FechaSS, 'Ymd');
                    if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                        ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Presentar movimientos ante el INFONAVIT ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->Fecha_SS_14 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_15 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_15);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Generar nómina de trabajadores de clientes' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->Fecha_SS_15 ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }
                            }
                            if ($Directorio1->SS_18 == 2) {
                                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_18);
                                $FSS = date_format($FechaSS, 'Ymd');
                                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Aclaraciones y cancelaciones ante el IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_18 ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
            if ($Directorio1->SS_19 == 2) {
                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_19);
                $FSS = date_format($FechaSS, 'Ymd');
                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Elaboración de finiquitos' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->Fecha_SS_19 ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }
                            }
                            if ($Directorio1->SS_20 == 2) {
                                $FechaSS = date_create_from_format('d/m/Y', $Directorio1->Fecha_SS_20);
                                $FSS = date_format($FechaSS, 'Ymd');
                                if ($FSS >= $StartFecha && $FSS <= $EndFecha) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Asesorías en trámites IMSS' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->Fecha_SS_20 ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }
                            }
                        }
                        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
                        <?php
                    }

//****************************************************************_____Fin Seguridad Social___________*************************************** 
//************************************************************_______Directorio_______***********************************************
                    public function cambiartipocliente() {
                        //Abriendo BD Sub-cliente
                        $idcliente = $_POST["idcliente"];
                        $this->load->model("modelo", "cliente");
                        $datos = $this->cliente->getTipoCliente($idcliente);
                        ?>
        <select class="form-control" id="Tipo_cliente" name="Tipo_cliente"  required>
            <option value="">Selecciona</option>
            <?php foreach ($datos as $cliente1) { ?> 
                <option value="<?php echo $cliente1->id_Tipo_cliente; ?>"><?php echo $cliente1->dsc_Tipo_cliente; ?></option>
            <?php } ?>
        </select>
        <?php
    }

    public function cambiarSubtipocliente() {
        //Abriendo BD Sub-cliente
        $idSubcliente = $_POST["idSubcliente"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getSubTipoCliente($idSubcliente);
        ?>
        <select class="form-control" id="SubTipo_cliente" name="SubTipo_cliente"  required>
            <option value="">Selecciona</option>
        <?php foreach ($datos as $cliente1) { ?> 
                <option value="<?php echo $cliente1->id_SubTipo_cliente; ?>"><?php echo $cliente1->dsc_SubTipo_cliente; ?></option>
            <?php } ?>
        </select>
            <?php
        }

        public function cambiarEstado() {
            //Abriendo BD Sub-cliente
            $idPais = $_POST["idPais"];
            $this->load->model("modelo", "cliente");
            $datos = $this->cliente->getEstado($idPais);
            ?>
        <select class="form-control" id="Estado" name="Estado"  required  >
            <option value="">Selecciona</option>
        <?php foreach ($datos as $cliente1) { ?> 
                <option value="<?php echo $cliente1->id_estado; ?>"><?php echo $cliente1->dsc_estado; ?></option>
                        <?php } ?>
        </select>
        <?php
    }

    public function cambiarCiudad() {
        //Abriendo BD Sub-cliente
        $idEstado = $_POST["idEstado"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getCiudad($idEstado);
        ?>
        <select class="form-control" id="Ciudad" name="Ciudad"  required  >
            <option value="">Selecciona</option>
                        <?php foreach ($datos as $cliente1) { ?> 
                <option value="<?php echo $cliente1->id_ciudad; ?>"><?php echo $cliente1->dsc_ciudad; ?></option>
                        <?php } ?>
        </select>
        <?php
    }

    public function enviarDirectorio() {
        $this->load->model("modelo", "datos");
        $Responsable = $this->input->post('Responsable');
        $Sucursal = $this->input->post('Sucursal');
        $NombreC = $this->input->post('NombreC');
        $RazonS = $this->input->post('RazonS');
        $RFC = $this->input->post('RFC');
        $RepresentanteL = $this->input->post('RepresentanteL');
        $cliente = $this->input->post('cliente');
        $Tipo_cliente = $this->input->post('Tipo_cliente');
        $SubTipo_cliente = $this->input->post('SubTipo_cliente');
        $RegimenJ = $this->input->post('RegimenJ');
        $FormaJ = $this->input->post('FormaJ');
        $AmbitoA = $this->input->post('AmbitoA');
        $Tamanio = $this->input->post('Tamanio');
        $Sector = $this->input->post('Sector');
        $CURP = $this->input->post('CURP');
        $Rama = $this->input->post('Rama');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $CP = $this->input->post('CP');
        $Pais = $this->input->post('Pais');
        $Estado = $this->input->post('Estado');
        $Ciudad = $this->input->post('Ciudad');
        $Lada = $this->input->post('Lada');
        $Tel = $this->input->post('Tel');
        $Pagina = $this->input->post('Pagina');
        $facebook = $this->input->post('facebook');
        $twitter = $this->input->post('twitter');
        $linkedin = $this->input->post('linkedin');
        $google = $this->input->post('google');
        $Contacto = $this->input->post('Contacto');
        $Profesion = $this->input->post('Profesion');
        $Puesto = $this->input->post('Puesto');
        $Correo = $this->input->post('Correo');
        $C_Lada = $this->input->post('C_Lada');
        $C_Tel = $this->input->post('C_Tel');
        $C_Ext = $this->input->post('C_Ext');
        $Contables = $this->input->post('Contables');
        $Fiscales = $this->input->post('Fiscales');
        $GestionesIMSS = $this->input->post('GestionesIMSS');
        $Capacitacion = $this->input->post('Capacitacion');
        $uno = $RFC[0];
        $dos = $RFC[1];
        $tres = $RFC[2];
        $Folio = date("y") . $uno . date("m") . $dos . date("d") . $tres . date("s");
        $Fecha = date("d/m/y");
        $datos = $this->datos->getdatos($Folio, $Responsable, $Sucursal, $NombreC, $RazonS, $RFC, $RepresentanteL, $cliente, $Tipo_cliente, $SubTipo_cliente, $RegimenJ, $FormaJ, $AmbitoA, $Tamanio, $Sector, $CURP, $Rama, $Calle, $No, $Colonia, $CP, $Pais, $Estado, $Ciudad, $Lada, $Tel, $Pagina, $facebook, $twitter, $linkedin, $google, $Contacto, $Profesion, $Puesto, $Correo, $C_Lada, $C_Tel, $C_Ext, $Contables, $Fiscales, $GestionesIMSS, $Capacitacion, $Fecha
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD tipo de cliente
        $this->load->model("modelo", "cliente");
        $d_cliente = $this->cliente->getCliente($where);
        $data['cliente'] = $d_cliente;
        //Abriendo BD responsables
        $where = '';
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        //Abriendo BD Tipo-cliente
        $where = '';
        $this->load->model("modelo", "Tipo_cliente");
        $d_Tipo_cliente = $this->Tipo_cliente->getTipoCliente2($where);
        $data['Tipo_cliente'] = $d_Tipo_cliente;
        //Abriendo BD SubTipo-cliente
        $where = '';
        $this->load->model("modelo", "SubTipo_cliente");
        $d_SubTipo_cliente = $this->SubTipo_cliente->getSubTipoCliente2($where);
        $data['SubTipo_cliente'] = $d_SubTipo_cliente;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        //Abriendo BD Regimen
        $where = '';
        $this->load->model("modelo", "Regimen");
        $d_regimen = $this->Regimen->getRegimen($where);
        $data['Regimen'] = $d_regimen;
        //Abriendo BD Forma
        $where = '';
        $this->load->model("modelo", "Forma");
        $d_Forma = $this->Forma->getForma($where);
        $data['Forma'] = $d_Forma;
        //Abriendo BD Ambito
        $where = '';
        $this->load->model("modelo", "Ambito");
        $d_Ambito = $this->Ambito->getAmbito($where);
        $data['Ambito'] = $d_Ambito;
        //Abriendo BD Clasificacion
        $where = '';
        $this->load->model("modelo", "Clasificacion");
        $d_Clasificacion = $this->Clasificacion->getClasificacion($where);
        $data['Clasificacion'] = $d_Clasificacion;
        //Abriendo BD Tamanio
        $where = '';
        $this->load->model("modelo", "Tamanio");
        $d_Tamanio = $this->Tamanio->getTamanio($where);
        $data['Tamanio'] = $d_Tamanio;
        //Abriendo BD Sector
        $where = '';
        $this->load->model("modelo", "Sector");
        $d_Sector = $this->Sector->getSector($where);
        $data['Sector'] = $d_Sector;
        //Abriendo BD Rama
        $where = '';
        $this->load->model("modelo", "Rama");
        $d_Rama = $this->Rama->getRama($where);
        $data['Rama'] = $d_Rama;
        //Abriendo BD Pais
        $where = '';
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        $data['Pais'] = $d_Pais;
        //Abriendo BD Estado
        $where = '';
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        $data['Estado'] = $d_Estado;
        //Abriendo BD Ciudad
        $where = '';
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        $data['Ciudad'] = $d_Ciudad;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Directorio';
        $this->_renderView($data);
    }

    public function enviarDirectorio2() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $Sucursal = $this->input->post('Sucursal');
        $RFC = $this->input->post('RFC');
        $CURP = $this->input->post('CURP');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $CP = $this->input->post('CP');
        $Lada = $this->input->post('Lada');
        $Tel = $this->input->post('Tel');
        $Pagina = $this->input->post('Pagina');
        $facebook = $this->input->post('facebook');
        $twitter = $this->input->post('twitter');
        $linkedin = $this->input->post('linkedin');
        $google = $this->input->post('google');
        $Contacto = $this->input->post('Contacto');
        $Profesion = $this->input->post('Profesion');
        $Puesto = $this->input->post('Puesto');
        $Correo = $this->input->post('Correo');
        $C_Lada = $this->input->post('C_Lada');
        $C_Tel = $this->input->post('C_Tel');
        $C_Ext = $this->input->post('C_Ext');
        $Contrasenia = $this->input->post('Contrasenia');
        $CIEC = $this->input->post('CIEC');
        $NIP = $this->input->post('NIP');
        $CIECfort = $this->input->post('CIECfort');
        $ContraseniaCIEC = $this->input->post('ContraseniaCIEC');
        $ContraseniaSello = $this->input->post('ContraseniaSello');
        $UsuarioITSE = $this->input->post('UsuarioITSE');
        $ContraseniaITSE = $this->input->post('ContraseniaITSE');
        $Antiguedad = $this->input->post('Antiguedad');
        $PagoDespacho = $this->input->post('PagoDespacho');
        $Observaciones = $this->input->post('Observaciones');
        $ResponsableAct = $this->input->post('ResponsableAct');
        if ($ResponsableAct == 20) {
            $ResponsableAct = $this->input->post('Responsable1');
        }
        $Actualizada = date("d/m/y");
        $datos = $this->datos->getdatos2(
                $Folio, $Sucursal, $RFC, $CURP, $Calle, $No, $Colonia, $CP, $Lada, $Tel, $Pagina, $facebook, $twitter, $linkedin, $google, $Contacto, $Profesion, $Puesto, $Correo, $C_Lada, $C_Tel, $C_Ext, $Contrasenia, $CIEC, $NIP, $CIECfort, $ContraseniaCIEC, $ContraseniaSello, $UsuarioITSE, $ContraseniaITSE, $Antiguedad, $PagoDespacho, $Observaciones, $ResponsableAct, $Actualizada
        );
        echo '<script>alert("Se ha actualizado correctamente")</script>';

        $indiceuser = $this->input->post('user');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $this->load->model("modelo", "cliente");
        $d_cliente = $this->cliente->getCliente($where);
        $data['cliente'] = $d_cliente;
        //Abriendo BD responsables
        $where = '';
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        //Abriendo BD Tipo-cliente
        $where = '';
        $this->load->model("modelo", "Tipo_cliente");
        $d_Tipo_cliente = $this->Tipo_cliente->getTipoCliente2($where);
        $data['Tipo_cliente'] = $d_Tipo_cliente;
        //Abriendo BD SubTipo-cliente
        $where = '';
        $this->load->model("modelo", "SubTipo_cliente");
        $d_SubTipo_cliente = $this->SubTipo_cliente->getSubTipoCliente2($where);
        $data['SubTipo_cliente'] = $d_SubTipo_cliente;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        //Abriendo BD Regimen
        $where = '';
        $this->load->model("modelo", "Regimen");
        $d_regimen = $this->Regimen->getRegimen($where);
        $data['Regimen'] = $d_regimen;
        //Abriendo BD Forma
        $where = '';
        $this->load->model("modelo", "Forma");
        $d_Forma = $this->Forma->getForma($where);
        $data['Forma'] = $d_Forma;
        //Abriendo BD Ambito
        $where = '';
        $this->load->model("modelo", "Ambito");
        $d_Ambito = $this->Ambito->getAmbito($where);
        $data['Ambito'] = $d_Ambito;
        //Abriendo BD Clasificacion
        $where = '';
        $this->load->model("modelo", "Clasificacion");
        $d_Clasificacion = $this->Clasificacion->getClasificacion($where);
        $data['Clasificacion'] = $d_Clasificacion;
        //Abriendo BD Tamanio
        $where = '';
        $this->load->model("modelo", "Tamanio");
        $d_Tamanio = $this->Tamanio->getTamanio($where);
        $data['Tamanio'] = $d_Tamanio;
        //Abriendo BD Sector
        $where = '';
        $this->load->model("modelo", "Sector");
        $d_Sector = $this->Sector->getSector($where);
        $data['Sector'] = $d_Sector;
        //Abriendo BD Rama
        $where = '';
        $this->load->model("modelo", "Rama");
        $d_Rama = $this->Rama->getRama($where);
        $data['Rama'] = $d_Rama;
        //Abriendo BD Pais
        $where = '';
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        $data['Pais'] = $d_Pais;
        //Abriendo BD Estado
        $where = '';
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        $data['Estado'] = $d_Estado;
        //Abriendo BD Ciudad
        $where = '';
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        $data['Ciudad'] = $d_Ciudad;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Directorio';
        $this->_renderView($data);
    }

    public function Actualizar() {
        $idcliente = $this->input->post('ID_cliente');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD responsables
        $where = '';
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "cliente");
        $d_cliente = $this->cliente->getCliente($where);
        $data['cliente'] = $d_cliente;
        //Abriendo BD Tipo-cliente
        $where = '';
        $this->load->model("modelo", "Tipo_cliente");
        $d_Tipo_cliente = $this->Tipo_cliente->getTipoCliente2($where);
        $data['Tipo_cliente'] = $d_Tipo_cliente;
        //Abriendo BD SubTipo-cliente
        $where = '';
        $this->load->model("modelo", "SubTipo_cliente");
        $d_SubTipo_cliente = $this->SubTipo_cliente->getSubTipoCliente2($where);
        $data['SubTipo_cliente'] = $d_SubTipo_cliente;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        //Abriendo BD Regimen
        $where = '';
        $this->load->model("modelo", "Regimen");
        $d_regimen = $this->Regimen->getRegimen($where);
        $data['Regimen'] = $d_regimen;
        //Abriendo BD Forma
        $where = '';
        $this->load->model("modelo", "Forma");
        $d_Forma = $this->Forma->getForma($where);
        $data['Forma'] = $d_Forma;
        //Abriendo BD Ambito
        $where = '';
        $this->load->model("modelo", "Ambito");
        $d_Ambito = $this->Ambito->getAmbito($where);
        $data['Ambito'] = $d_Ambito;
        //Abriendo BD Clasificacion
        $where = '';
        $this->load->model("modelo", "Clasificacion");
        $d_Clasificacion = $this->Clasificacion->getClasificacion($where);
        $data['Clasificacion'] = $d_Clasificacion;
        //Abriendo BD Tamanio
        $where = '';
        $this->load->model("modelo", "Tamanio");
        $d_Tamanio = $this->Tamanio->getTamanio($where);
        $data['Tamanio'] = $d_Tamanio;
        //Abriendo BD Sector
        $where = '';
        $this->load->model("modelo", "Sector");
        $d_Sector = $this->Sector->getSector($where);
        $data['Sector'] = $d_Sector;
        //Abriendo BD Rama
        $where = '';
        $this->load->model("modelo", "Rama");
        $d_Rama = $this->Rama->getRama($where);
        $data['Rama'] = $d_Rama;
        //Abriendo BD Pais
        $where = '';
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        $data['Pais'] = $d_Pais;
        //Abriendo BD Estado
        $where = '';
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        $data['Estado'] = $d_Estado;
        //Abriendo BD cliente informacion
        $this->load->model("modelo", "cliente");
        $datos2 = $this->cliente->getInformacion($idcliente);
        $data['informacion'] = $datos2;
        //Abriendo BD Ciudad
        $where = '';
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        $data['Ciudad'] = $d_Ciudad;
        // View render
        $data['scripts'] = array('Directorio', 'cliente');
        $data['contentView'] = 'Actualizar';
        $this->_renderView($data);
    }

//*************************************************________Fin directorio_____************************************************************  



    public function cambiarInformacion() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "cliente");
        $datos2 = $this->cliente->getInformacion($idcliente);
        //Abriendo BD estatus
        $where = '';
        $this->load->model("modelo", "estatus");
        $d_estatus = $this->estatus->getestatus2();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Representante legal: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RepresentanteL; ?> </strong><?php
                echo "</p>";
                echo "Teléfono: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
                echo "</p>";
                echo "Correo: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
                echo "</p>";
                $r = 0;
                foreach ($d_estatus as $temporal) {
                    if ($cliente2->Estatus == $temporal->id_estatus) {
                        $resultado = $temporal->dsc_estatus;
                        $r = 1;
                    }if ($r == 0) {
                        $resultado = "-";
                    }
                }
                echo "Estatus: ";
                ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
            }
        }

        public function cambiarInformacion2() {
            //Abriendo BD Cliente
            $idcliente2 = $_POST["idcliente2"];
            $this->load->model("modelo", "cliente");
            $datos2 = $this->cliente->getInformacion2($idcliente2);
            //Abriendo BD estatus
            $where = '';
            $this->load->model("modelo", "estatus");
            $d_estatus = $this->estatus->getestatus2();

            foreach ($datos2 as $cliente2) {
                echo "RFC: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
                echo "</p>";
                echo "Nombre comercial: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
                echo "</p>";
                echo "Razón social: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
                echo "</p>";
                echo "Representante legal: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->RepresentanteL; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
                            echo "</p>";
                            echo "Correo: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
                            echo "</p>";
                            $r = 0;
                            foreach ($d_estatus as $temporal) {
                                if ($cliente2->Estatus == $temporal->id_estatus) {
                                    $resultado = $temporal->dsc_estatus;
                                    $r = 1;
                                }if ($r == 0) {
                                    $resultado = "-";
                                }
                            }
                            echo "Estatus: ";
                            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
            }
        }

//********************************************_________Calculo de impuestos____________******************************************************* 

        public function Impuestos() {
            $this->load->model("modelo", "datos");
            $cliente = $this->input->post('ID_cliente');
            $Impuestos = $this->input->post('Impuestos');
            if ($cliente == 0 || !$cliente) {
                //Cargando usuarios
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                //Abriendo BD cliente
                $where = '';
                $this->load->model("modelo", "ID_cliente");
                $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
                $data['ID_cliente'] = $d_ID_cliente;
                // View render
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'CalculoImpuestos';
                $this->_renderView($data);
            }
            if ($Impuestos == 1) {
                //Cargando usuarios
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                $data['ID_cliente'] = $cliente;
                //Abriendo BD Cliente
                $this->load->model("modelo", "InfCliente");
                $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
                //Abriendo BD declaraciones
                $where = '';
                $this->load->model("modelo", "Declaraciones");
                $d_Declaraciones = $this->Declaraciones->getDeclaraciones($cliente);
                $data['Declaraciones'] = $d_Declaraciones;
                //Abriendo BD meses
                $where = '';
                $this->load->model("modelo", "Meses");
                $Meses = $this->Meses->getMeses($where);
                $data['Meses'] = $Meses;
                //Abriendo BD Rama
                $this->load->model("modelo", "Rama");
                $d_Rama = $this->Rama->getRama();
                $data['Rama'] = $d_Rama;
                $data['InfCliente'] = $d_InfCliente;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Administracion';
                $this->_renderView($data);
            }
            if ($Impuestos == 2) {
                //Cargando usuarios
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                $data['ID_cliente'] = $cliente;
                //Abriendo BD Cliente
                $this->load->model("modelo", "InfCliente");
                $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
                //Abriendo BD declaraciones
                $where = '';
                $this->load->model("modelo", "Declaraciones");
                $d_Declaraciones = $this->Declaraciones->getDeclaracionesIVAR21($cliente);
                $data['DeclaracionesIVAR21'] = $d_Declaraciones;
                //Abriendo BD meses
                $where = '';
                $this->load->model("modelo", "Meses");
                $Meses = $this->Meses->getMeses($where);
                $data['Meses'] = $Meses;
                //Abriendo BD Rama
                $this->load->model("modelo", "Rama");
                $d_Rama = $this->Rama->getRama();
                $data['Rama'] = $d_Rama;
                $data['InfCliente'] = $d_InfCliente;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'IVA_R21';
                $this->_renderView($data);
            }
            if ($Impuestos == 3) {
                //Cargando usuarios
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                $data['ID_cliente'] = $cliente;
                //Abriendo BD Cliente
                $this->load->model("modelo", "InfCliente");
                $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
                //Abriendo BD declaraciones
                $where = '';
                $this->load->model("modelo", "Declaraciones");
                $d_Declaraciones = $this->Declaraciones->getDeclaracionesCG($cliente);
                $data['DeclaracionesCG'] = $d_Declaraciones;
                //Abriendo BD meses
                $where = '';
                $this->load->model("modelo", "Meses");
                $Meses = $this->Meses->getMeses($where);
                $data['Meses'] = $Meses;
                //Abriendo BD Rama
                $this->load->model("modelo", "Rama");
                $d_Rama = $this->Rama->getRama();
                $data['Rama'] = $d_Rama;
                $data['InfCliente'] = $d_InfCliente;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Cedular_G';
                $this->_renderView($data);
            }
            if ($Impuestos == 4) {
                //Cargando usuarios**
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                $data['ID_cliente'] = $cliente;
                //Abriendo BD Cliente
                $this->load->model("modelo", "InfCliente");
                $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
                //Abriendo BD declaraciones
                $where = '';
                $this->load->model("modelo", "Declaraciones");
                $d_Declaraciones = $this->Declaraciones->getDeclaracionesSN($cliente);
                $data['DeclaracionesSN'] = $d_Declaraciones;
                //Abriendo BD meses
                $where = '';
                $this->load->model("modelo", "Meses");
                $Meses = $this->Meses->getMeses($where);
                $data['Meses'] = $Meses;
                //Abriendo BD Rama
                $this->load->model("modelo", "Rama");
                $d_Rama = $this->Rama->getRama();
                $data['Rama'] = $d_Rama;
                $data['InfCliente'] = $d_InfCliente;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'S_Nomina';
                $this->_renderView($data);
            }
            if ($Impuestos == 5) {
                //Cargando usuarios
                $indiceuser = $this->input->post('user');
                $where = '';
                $this->load->model("modelo", "USUARIOS");
                $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                $data['USUARIOS'] = $USUARIOS;
                $data['User'] = $indiceuser;
                $data['ID_cliente'] = $cliente;
                //Abriendo BD declaraciones
                $where = '';
                $this->load->model("modelo", "DeclaracionesHo");
                $d_Declaraciones = $this->DeclaracionesHo->getDeclaracionesHo($cliente);
                $data['DeclaracionesHo'] = $d_Declaraciones;
                //Abriendo BD meses
                $where = '';
                $this->load->model("modelo", "Meses");
                $Meses = $this->Meses->getMeses($where);
                $data['Meses'] = $Meses;
                //Abriendo BD Cliente
                $this->load->model("modelo", "InfCliente");
                $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
                //Abriendo BD Rama
                $this->load->model("modelo", "Rama");
                $d_Rama = $this->Rama->getRama();
                $data['Rama'] = $d_Rama;
                $data['InfCliente'] = $d_InfCliente;
                $data['scripts'] = array('cliente');
                $data['contentView'] = 'Hospedaje';
                $this->_renderView($data);
            }
        }

        public function BorrarPagop() {
            $where = '';
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $PagoBorrarID = $this->input->post('PagoBorrarID');

            $nombre = $PagoBorrarID;
            $Regimen = substr($nombre, strpos($nombre, ".") + strlen("."));
            $ID = substr($nombre, 0, strpos($nombre, "."));

            if ($Regimen == '1') {
                $datos = $this->datos->getBorrarISR_R1($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '2') {
                $datos = $this->datos->getBorrarISR_R97($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '3') {
                $datos = $this->datos->getBorrarISR_R($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '4') {
                $datos = $this->datos->getBorrarISR_R14($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '5') {
                $datos = $this->datos->getBorrarISR_R12($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '6') {
                $datos = $this->datos->getBorrarISR_R7($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '7') {
                $datos = $this->datos->getBorrarISR_R10($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }


            if ($Regimen == '8') {
                $datos = $this->datos->getBorrarIVA_R21m($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '9') {
                $datos = $this->datos->getBorrarIVA_R21f($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }

            if ($Regimen == '10') {
                $datos = $this->datos->getBorrarC_G($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '11') {
                $datos = $this->datos->getBorrarC_A($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }
            if ($Regimen == '12') {
                $datos = $this->datos->getBorrarC_H($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }


            if ($Regimen == '13') {
                $datos = $this->datos->getBorrarL_N($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }


            if ($Regimen == '14') {
                $datos = $this->datos->getBorrarL_H($ID);
                echo '<script>alert("Se ha borrado el pago provisional ")</script>';
            }


            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CalculoImpuestos';
            $this->_renderView($data);
        }

        public function ListadoPagos() {
            $Folio = $_POST["Folio"];
            //Abriendo BD ISR R1
            $this->load->model("modelo", "PagosP");
            $L_ISR_R1 = $this->PagosP->getPagosPISR_R1($Folio);
            //Abriendo BD ISR R97
            $this->load->model("modelo", "PagosP");
            $L_ISR_R97 = $this->PagosP->getPagosPISR_R97($Folio);
            //Abriendo BD ISR R
            $this->load->model("modelo", "PagosP");
            $L_ISR_R = $this->PagosP->getPagosPISR_R($Folio);
            //Abriendo BD ISR R14
            $this->load->model("modelo", "PagosP");
            $L_ISR_R14 = $this->PagosP->getPagosPISR_R14($Folio);
            //Abriendo BD ISR R12
            $this->load->model("modelo", "PagosP");
            $L_ISR_R12 = $this->PagosP->getPagosPISR_R12($Folio);
            //Abriendo BD ISR R7
            $this->load->model("modelo", "PagosP");
            $L_ISR_R7 = $this->PagosP->getPagosPISR_R7($Folio);
            //Abriendo BD ISR R10
            $this->load->model("modelo", "PagosP");
            $L_ISR_R10 = $this->PagosP->getPagosPISR_R10($Folio);

            //Abriendo BD iva
            $this->load->model("modelo", "PagosP");
            $L_IVA_R21m = $this->PagosP->getPagosPIVA_R21M($Folio);
            //Abriendo BD iva
            $this->load->model("modelo", "PagosP");
            $L_IVA_R21f = $this->PagosP->getPagosPIVA_R21F($Folio);

            //Abriendo BD cedular
            $this->load->model("modelo", "PagosP");
            $L_C_G = $this->PagosP->getPagosPC_G($Folio);
            //Abriendo BD  cedular
            $this->load->model("modelo", "PagosP");
            $L_C_A = $this->PagosP->getPagosPC_A($Folio);
            //Abriendo BD cedular
            $this->load->model("modelo", "PagosP");
            $L_C_H = $this->PagosP->getPagosPC_H($Folio);

            //Abriendo BD nomina
            $this->load->model("modelo", "PagosP");
            $L_N = $this->PagosP->getPagosPL_N($Folio);

            //Abriendo BD hospedaje
            $this->load->model("modelo", "PagosP");
            $L_H = $this->PagosP->getPagosPL_H($Folio);


            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            ?>
        <table width="100%">
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6">
                            Cliente
                        </div>
                        <div class="col-md-3 col-xs-6">
                            Impuesto
                            </br>
                        </div>
                        <div class="col-md-3 col-xs-6">
                            Cargo
                        </div>
                        <div class="col-md-3 col-xs-6">
                            Fecha
                        </div>    
                    </div>
                </td>
            </tr> 

        <?php foreach ($L_ISR_R1 as $L_ISR_R1a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R1a->id . '.1'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R1a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R1' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R1a->CantPagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R1a->Dia . '/' . $L_ISR_R1a->Mes . '/' . $L_ISR_R1a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>

        <?php foreach ($L_ISR_R97 as $L_ISR_R97a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R97a->id . '.2'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R97a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R97' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R97a->CantPagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R97a->Dia . '/' . $L_ISR_R97a->Mes . '/' . $L_ISR_R97a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_ISR_R as $L_ISR_Ra) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_Ra->id . '.3'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_Ra->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_Ra->CantCargo_R; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_Ra->Dia . '/' . $L_ISR_Ra->Mes . '/' . $L_ISR_Ra->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>

        <?php foreach ($L_ISR_R14 as $L_ISR_R14a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R14a->id . '.4'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R14a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R14' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R14a->CPagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R14a->Dia . '/' . $L_ISR_R14a->Mes . '/' . $L_ISR_R14a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_ISR_R12 as $L_ISR_R12a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R12a->id . '.5'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R12a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R12' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R12a->CantCargo_R; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R12a->Dia . '/' . $L_ISR_R12a->Mes . '/' . $L_ISR_R12a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>  


        <?php foreach ($L_ISR_R7 as $L_ISR_R7a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R7a->id . '.6'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R7a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R7' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R7a->CPagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R7a->Dia . '/' . $L_ISR_R7a->Mes . '/' . $L_ISR_R7a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_ISR_R10 as $L_ISR_R10a) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_ISR_R10a->id . '.7'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_ISR_R10a->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'ISR R10' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R10a->CantPagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_ISR_R10a->Dia . '/' . $L_ISR_R10a->Mes . '/' . $L_ISR_R10a->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_IVA_R21m as $L_IVA_R21ma) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_IVA_R21ma->id . '.8'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_IVA_R21ma->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'IVA R21 P. Moral' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_IVA_R21ma->PCant_pagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_IVA_R21ma->Dia . '/' . $L_IVA_R21ma->Mes . '/' . $L_IVA_R21ma->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_IVA_R21f as $L_IVA_R21fa) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_IVA_R21fa->id . '.9'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_IVA_R21fa->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'IVA R21 física' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_IVA_R21fa->Cant_Pagar; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_IVA_R21fa->Dia . '/' . $L_IVA_R21fa->Mes . '/' . $L_IVA_R21fa->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_C_G as $L_C_Ga) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_C_Ga->id . '.10'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_C_Ga->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'Cedular G' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Ga->Total_Impuesto; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Ga->Dia . '/' . $L_C_Ga->Mes . '/' . $L_C_Ga->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>

        <?php foreach ($L_C_A as $L_C_Aa) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_C_Aa->id . '.11'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_C_Aa->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'Cedular A' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Aa->Total_Impuesto; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Aa->Dia . '/' . $L_C_Aa->Mes . '/' . $L_C_Aa->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>

        <?php foreach ($L_C_H as $L_C_Ha) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_C_Ha->id . '.12'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_C_Ha->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'Cedular H' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Ha->Total_Impuesto; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_C_Ha->Dia . '/' . $L_C_Ha->Mes . '/' . $L_C_Ha->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        <?php foreach ($L_N as $L_Na) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_Na->id . '.13'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_Na->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'Nomina' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_Na->S_nomina; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_Na->Dia . '/' . $L_Na->Mes . '/' . $L_Na->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>

        <?php foreach ($L_H as $L_Ha) { ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6">
                                <input type="radio" value="<?php echo $L_Ha->id . '.14'; ?>" name="PagoBorrarID" id="PagoBorrarID" required/>
            <?php echo $L_Ha->Folio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo 'Hospedaje' ?>
                                </br>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_Ha->Hospedaje; ?>
                            </div>
                            <div class="col-md-3 col-xs-6">
            <?php echo $L_Ha->Dia . '/' . $L_Ha->Mes . '/' . $L_Ha->Anio; ?>
                            </div>    
                        </div>
                    </td>
                </tr>
        <?php } ?>


        </table><?php
    }

    public function CambiarEstatus() {
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('ID_cliente');
        $Estatus = $this->input->post('Estatus');
        $datos = $this->datos->getestatus($Folio, $Estatus);
        echo '<script>alert("Se ha cambiado el estatus correctamente")</script>';
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ubicacion() {
        $this->load->model("modelo", "datos");
        $ESTATUS = $this->input->get('ID');
        $cliente = $this->input->get('Cl');
        if ($ESTATUS == 0) {
            $data['contentView'] = 'NvoUsuario';
            $this->_renderView($data);
        }
        if ($ESTATUS == 1) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "Declaraciones");
            $d_Declaraciones = $this->Declaraciones->getDeclaraciones($cliente);
            $data['Declaraciones'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion';
            $this->_renderView($data);
        }
        if ($ESTATUS == 2) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_DeclaracionesR = $this->DeclaracionesR->getDeclaracionesR($cliente);
            $data['DeclaracionesR'] = $d_DeclaracionesR;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_2';
            $this->_renderView($data);
        }
        if ($ESTATUS == 3) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_DeclaracionesR = $this->DeclaracionesR->getDeclaracionesR15($cliente);
            $data['DeclaracionesR15'] = $d_DeclaracionesR;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_3';
            $this->_renderView($data);
        }
        if ($ESTATUS == 4) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_DeclaracionesR = $this->DeclaracionesR->getDeclaracionesR14($cliente);
            $data['DeclaracionesR14'] = $d_DeclaracionesR;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_4';
            $this->_renderView($data);
        }
        if ($ESTATUS == 5) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_DeclaracionesR = $this->DeclaracionesR->getDeclaracionesR12($cliente);
            $data['DeclaracionesR12'] = $d_DeclaracionesR;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_5';
            $this->_renderView($data);
        }
        if ($ESTATUS == 6) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesR7($cliente);
            $data['DeclaracionesR7'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_7';
            $this->_renderView($data);
        }
        if ($ESTATUS == 61) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesR97($cliente);
            $data['DeclaracionesR97'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_8';
            $this->_renderView($data);
        }
        if ($ESTATUS == 62) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesR10($cliente);
            $data['DeclaracionesR5'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Administracion_9';
            $this->_renderView($data);
        }
        if ($ESTATUS == 7) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesIVAR24($cliente);
            $data['DeclaracionesIVAR24'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'IVA_R24';
            $this->_renderView($data);
        }
        if ($ESTATUS == 8) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesIVAR21($cliente);
            $data['DeclaracionesIVAR21'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'IVA_R21';
            $this->_renderView($data);
        }
        if ($ESTATUS == 81) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesIVAR24($cliente);
            $data['DeclaracionesIVAR21'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'IVA_R21_2';
            $this->_renderView($data);
        }
        if ($ESTATUS == 9) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesCA($cliente);
            $data['DeclaracionesCA'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cedular_A';
            $this->_renderView($data);
        }
        if ($ESTATUS == 10) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesCH($cliente);
            $data['DeclaracionesCH'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cedular_H';
            $this->_renderView($data);
        }
        if ($ESTATUS == 11) {
            //Cargando usuarios
            $indiceuser = $this->input->get('i');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['ID_cliente'] = $cliente;
            //Abriendo BD Cliente
            $this->load->model("modelo", "InfCliente");
            $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
            //Abriendo BD declaraciones
            $where = '';
            $this->load->model("modelo", "DeclaracionesR");
            $d_Declaraciones = $this->DeclaracionesR->getDeclaracionesCG($cliente);
            $data['DeclaracionesCG'] = $d_Declaraciones;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Rama
            $this->load->model("modelo", "Rama");
            $d_Rama = $this->Rama->getRama();
            $data['Rama'] = $d_Rama;
            $data['InfCliente'] = $d_InfCliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cedular_G';
            $this->_renderView($data);
        }
    }

    public function ISR_R1() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Ingresosant = $this->input->post('Ingresosant');
        $Base = $this->input->post('Base');
        $Ingresosact = $this->input->post('Ingresosact');
        $ISRcausado = $this->input->post('ISRcausado');
        $Total = $this->input->post('Total');
        $ImpuestoP = $this->input->post('ImpuestoP');
        $Coeficiente = $this->input->post('Coeficiente');
        $Pagos = $this->input->post('Pagos');
        $Utilidad = $this->input->post('Utilidad');
        $ImpuestoB = $this->input->post('ImpuestoB');
        $Perdidas = $this->input->post('Perdidas');
        $ImpuestoCargo = $this->input->post('ImpuestoCargo');
        $ParteAct = $this->input->post('ParteAct');
        $ParteRecargos = $this->input->post('ParteRecargos');
        $SubsidioEmp = $this->input->post('SubsidioEmp');
        $IDE = $this->input->post('IDE');
        $IEPS = $this->input->post('IEPS');
        $Disel = $this->input->post('Disel');
        $TotalApp = $this->input->post('TotalApp');
        $CantPagar = $this->input->post('CantPagar');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R1($Folio, $SaldoFavor, $meses, $Ingresosant, $Base, $Ingresosact, $ISRcausado, $Total, $ImpuestoP, $Coeficiente, $Pagos, $Utilidad, $ImpuestoB, $Perdidas, $ImpuestoCargo, $ParteAct, $ParteRecargos, $SubsidioEmp, $IDE, $IEPS, $Disel, $TotalApp, $CantPagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_AGASIPE() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Suma_Ing = $this->input->post('Suma_Ing');
        $Ing = $this->input->post('Ing');
        $Total_Ing = $this->input->post('Total_Ing');
        $Ing_Externos = $this->input->post('Ing_Externos');
        $Suma_Deduc = $this->input->post('Suma_Deduc');
        $Deduc_Auto = $this->input->post('Deduc_Auto');
        $Total_Deduc = $this->input->post('Total_Deduc');
        $Part_Utilidad = $this->input->post('Part_Utilidad');
        $Perdidas = $this->input->post('Perdidas');
        $Base = $this->input->post('Base');
        $ISR_Det = $this->input->post('ISR_Det');
        $Reducciones = $this->input->post('Reducciones');
        $ISR_Causado = $this->input->post('ISR_Causado');
        $Pagos_Prov = $this->input->post('Pagos_Prov');
        $Imp_Ret = $this->input->post('Imp_Ret');
        $OtrasCargo = $this->input->post('OtrasCargo');
        $OtrasFavor = $this->input->post('OtrasFavor');
        $Imp_Cargo = $this->input->post('Imp_Cargo');
        $ACargo = $this->input->post('ACargo');
        $ParteAct = $this->input->post('ParteAct');
        $Recargos = $this->input->post('Recargos');
        $Multas = $this->input->post('Multas');
        $Total_Cont = $this->input->post('Total_Cont');
        $Sub_Emple = $this->input->post('Sub_Emple');
        $Compensaciones = $this->input->post('Compensaciones');
        $IEPS = $this->input->post('IEPS');
        $Otros = $this->input->post('Otros');
        $Diesel = $this->input->post('Diesel');
        $TotalApp = $this->input->post('TotalApp');
        $Fecha = $this->input->post('Fecha');
        $MontoPagado = $this->input->post('MontoPagado');
        $Imp_UltHrs = $this->input->post('Imp_UltHrs');
        $CantCargo = $this->input->post('CantCargo');
        $CantFavor = $this->input->post('CantFavor');
        $CantPagar = $this->input->post('CantPagar');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_AGASIPE($Folio, $SaldoFavor, $meses, $Suma_Ing, $Ing, $Total_Ing, $Ing_Externos, $Suma_Deduc, $Deduc_Auto, $Total_Deduc, $Part_Utilidad, $Perdidas, $Base, $ISR_Det, $Reducciones, $ISR_Causado, $Pagos_Prov, $Imp_Ret, $OtrasCargo, $OtrasFavor, $Imp_Cargo, $ACargo, $ParteAct, $Recargos, $Multas, $Total_Cont, $Sub_Emple, $Compensaciones, $IEPS, $Otros, $Diesel, $TotalApp, $Fecha, $MontoPagado, $Imp_UltHrs, $CantCargo, $CantFavor, $CantPagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Cargo_R = $this->input->post('Cargo_R');
        $IEPS_R = $this->input->post('IEPS_R');
        $ParteAct_R = $this->input->post('ParteAct_R');
        $Disel_R = $this->input->post('Disel_R');
        $ParteRec_R = $this->input->post('ParteRec_R');
        $OtrosEst_R = $this->input->post('OtrosEst_R');
        $TotalCont_R = $this->input->post('TotalCont_R');
        $TESOFE_R = $this->input->post('TESOFE_R');
        $CreditoSal_R = $this->input->post('CreditoSal_R');
        $DiselMinero_R = $this->input->post('DiselMinero_R');
        $Subsidio_R = $this->input->post('Subsidio_R');
        $TotalApp_R = $this->input->post('TotalApp_R');
        $IDE_R = $this->input->post('IDE_R');
        $CantCargo_R = $this->input->post('CantCargo_R');
        $Compensaciones_R = $this->input->post('Compensaciones_R');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R($Folio, $SaldoFavor, $meses, $Cargo_R, $IEPS_R, $ParteAct_R, $Disel_R, $ParteRec_R, $OtrosEst_R, $TotalCont_R, $TESOFE_R, $CreditoSal_R, $DiselMinero_R, $Subsidio_R, $TotalApp_R, $IDE_R, $CantCargo_R, $Compensaciones_R, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R14() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Suma_Ing = $this->input->post('Suma_Ing');
        $Ing = $this->input->post('Ing');
        $Total_Ing = $this->input->post('Total_Ing');
        $GastosAnt = $this->input->post('GastosAnt');
        $GastosAct = $this->input->post('GastosAct');
        $TotalGastos = $this->input->post('TotalGastos');
        $PagosAnt = $this->input->post('PagosAnt');
        $ImpuestoRet = $this->input->post('ImpuestoRet');
        $ACargo = $this->input->post('ACargo');
        $ParteAct = $this->input->post('ParteAct');
        $Recargos = $this->input->post('Recargos');
        $TotalCont = $this->input->post('TotalCont');
        $Credito_sal = $this->input->post('Credito_sal');
        $Sub_Empleo = $this->input->post('Sub_Empleo');
        $Imp_Depositos = $this->input->post('Imp_Depositos');
        $Compensaciones = $this->input->post('Compensaciones');
        $IEPS = $this->input->post('IEPS');
        $Diesel = $this->input->post('Diesel');
        $Carreteras = $this->input->post('Carreteras');
        $Otros = $this->input->post('Otros');
        $Diesel_Marino = $this->input->post('Diesel_Marino');
        $FechaAnt = $this->input->post('FechaAnt');
        $Monto_Ant = $this->input->post('Monto_Ant');
        $Imp_UltHrs = $this->input->post('Imp_UltHrs');
        $CFavor = $this->input->post('CFavor');
        $CPagar = $this->input->post('CPagar');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R14($Folio, $SaldoFavor, $meses, $Suma_Ing, $Ing, $Total_Ing, $GastosAnt, $GastosAct, $TotalGastos, $PagosAnt, $ImpuestoRet, $ACargo, $ParteAct, $Recargos, $TotalCont, $Credito_sal, $Sub_Empleo, $Imp_Depositos, $Compensaciones, $IEPS, $Diesel, $Carreteras, $Otros, $Diesel_Marino, $FechaAnt, $Monto_Ant, $Imp_UltHrs, $CFavor, $CPagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R7() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Suma_Ing = $this->input->post('Suma_Ing');
        $Ing = $this->input->post('Ing');
        $Total_Ing = $this->input->post('Total_Ing');
        $GastosAnt = $this->input->post('GastosAnt');
        $GastosAct = $this->input->post('GastosAct');
        $TotalGastos = $this->input->post('TotalGastos');
        $PagosAnt = $this->input->post('PagosAnt');
        $ImpuestoRet = $this->input->post('ImpuestoRet');
        $ACargo = $this->input->post('ACargo');
        $ParteAct = $this->input->post('ParteAct');
        $Recargos = $this->input->post('Recargos');
        $TotalCont = $this->input->post('TotalCont');
        $Credito_sal = $this->input->post('Credito_sal');
        $Sub_Empleo = $this->input->post('Sub_Empleo');
        $Imp_Depositos = $this->input->post('Imp_Depositos');
        $Compensaciones = $this->input->post('Compensaciones');
        $IEPS = $this->input->post('IEPS');
        $Diesel = $this->input->post('Diesel');
        $Carreteras = $this->input->post('Carreteras');
        $Otros = $this->input->post('Otros');
        $Diesel_Marino = $this->input->post('Diesel_Marino');
        $FechaAnt = $this->input->post('FechaAnt');
        $Monto_Ant = $this->input->post('Monto_Ant');
        $Imp_UltHrs = $this->input->post('Imp_UltHrs');
        $CFavor = $this->input->post('CFavor');
        $CPagar = $this->input->post('CPagar');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R7($Folio, $SaldoFavor, $meses, $Suma_Ing, $Ing, $Total_Ing, $GastosAnt, $GastosAct, $TotalGastos, $PagosAnt, $ImpuestoRet, $ACargo, $ParteAct, $Recargos, $TotalCont, $Credito_sal, $Sub_Empleo, $Imp_Depositos, $Compensaciones, $IEPS, $Diesel, $Carreteras, $Otros, $Diesel_Marino, $FechaAnt, $Monto_Ant, $Imp_UltHrs, $CFavor, $CPagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R10() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $DeduccionOp = $this->input->post('DeduccionOp');
        $Ing = $this->input->post('Ing');
        $Deducciones = $this->input->post('Deducciones');
        $DImp_Local = $this->input->post('DImp_Local');
        $D_Opc = $this->input->post('D_Opc');
        $Predial = $this->input->post('Predial');
        $D_PrimerEm = $this->input->post('D_PrimerEm');
        $Base = $this->input->post('Base');
        $Imp_Cargo = $this->input->post('Imp_Cargo');
        $Imp_Rete = $this->input->post('Imp_Rete');
        $Otras_Cargo = $this->input->post('Otras_Cargo');
        $Otras_Favor = $this->input->post('Otras_Favor');
        $Imp_ACargo = $this->input->post('Imp_ACargo');
        $ACargo = $this->input->post('ACargo');
        $ParteAct = $this->input->post('ParteAct');
        $Recargos = $this->input->post('Recargos');
        $Multas = $this->input->post('Multas');
        $Total_Cont = $this->input->post('Total_Cont');
        $Credito = $this->input->post('Credito');
        $Sub_Empleo = $this->input->post('Sub_Empleo');
        $Imp_Dep = $this->input->post('Imp_Dep');
        $Compensaciones = $this->input->post('Compensaciones');
        $IEPS = $this->input->post('IEPS');
        $Diesel = $this->input->post('Diesel');
        $Carretera = $this->input->post('Carretera');
        $Otros = $this->input->post('Otros');
        $Diesel_Marino = $this->input->post('Diesel_Marino');
        $TotalApp = $this->input->post('TotalApp');
        $Fecha = $this->input->post('Fecha');
        $MontoPagado = $this->input->post('MontoPagado');
        $Imp_UltHrs = $this->input->post('Imp_UltHrs');
        $CantCargo = $this->input->post('CantCargo');
        $CantFavor = $this->input->post('CantFavor');
        $CantPagar = $this->input->post('CantPagar');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R10($Folio, $SaldoFavor, $meses, $DeduccionOp, $Ing, $Deducciones, $DImp_Local, $D_Opc, $Predial, $D_PrimerEm, $Base, $Imp_Cargo, $Imp_Rete, $Otras_Cargo, $Otras_Favor, $Imp_ACargo, $ACargo, $ParteAct, $Recargos, $Multas, $Total_Cont, $Credito, $Sub_Empleo, $Imp_Dep, $Compensaciones, $IEPS, $Diesel, $Carretera, $Otros, $Diesel_Marino, $TotalApp, $Fecha, $MontoPagado, $Imp_UltHrs, $CantCargo, $CantFavor, $CantPagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R15() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Cargo_R = $this->input->post('Cargo_R');
        $IEPS_R = $this->input->post('IEPS_R');
        $ParteAct_R = $this->input->post('ParteAct_R');
        $Disel_R = $this->input->post('Disel_R');
        $ParteRec_R = $this->input->post('ParteRec_R');
        $OtrosEst_R = $this->input->post('OtrosEst_R');
        $TotalCont_R = $this->input->post('TotalCont_R');
        $TESOFE_R = $this->input->post('TESOFE_R');
        $CreditoSal_R = $this->input->post('CreditoSal_R');
        $DiselMinero_R = $this->input->post('DiselMinero_R');
        $Subsidio_R = $this->input->post('Subsidio_R');
        $TotalApp_R = $this->input->post('TotalApp_R');
        $IDE_R = $this->input->post('IDE_R');
        $CantCargo_R = $this->input->post('CantCargo_R');
        $Compensaciones_R = $this->input->post('Compensaciones_R');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R15($Folio, $SaldoFavor, $meses, $Cargo_R, $IEPS_R, $ParteAct_R, $Disel_R, $ParteRec_R, $OtrosEst_R, $TotalCont_R, $TESOFE_R, $CreditoSal_R, $DiselMinero_R, $Subsidio_R, $TotalApp_R, $IDE_R, $CantCargo_R, $Compensaciones_R, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R12() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Cargo_R = $this->input->post('Cargo_R');
        $IEPS_R = $this->input->post('IEPS_R');
        $ParteAct_R = $this->input->post('ParteAct_R');
        $Disel_R = $this->input->post('Disel_R');
        $ParteRec_R = $this->input->post('ParteRec_R');
        $OtrosEst_R = $this->input->post('OtrosEst_R');
        $TotalCont_R = $this->input->post('TotalCont_R');
        $TESOFE_R = $this->input->post('TESOFE_R');
        $CreditoSal_R = $this->input->post('CreditoSal_R');
        $DiselMinero_R = $this->input->post('DiselMinero_R');
        $Subsidio_R = $this->input->post('Subsidio_R');
        $TotalApp_R = $this->input->post('TotalApp_R');
        $IDE_R = $this->input->post('IDE_R');
        $CantCargo_R = $this->input->post('CantCargo_R');
        $Compensaciones_R = $this->input->post('Compensaciones_R');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R12($Folio, $SaldoFavor, $meses, $Cargo_R, $IEPS_R, $ParteAct_R, $Disel_R, $ParteRec_R, $OtrosEst_R, $TotalCont_R, $TESOFE_R, $CreditoSal_R, $DiselMinero_R, $Subsidio_R, $TotalApp_R, $IDE_R, $CantCargo_R, $Compensaciones_R, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function ISR_R5() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Cargo_R = $this->input->post('Cargo_R');
        $IEPS_R = $this->input->post('IEPS_R');
        $ParteAct_R = $this->input->post('ParteAct_R');
        $Disel_R = $this->input->post('Disel_R');
        $ParteRec_R = $this->input->post('ParteRec_R');
        $OtrosEst_R = $this->input->post('OtrosEst_R');
        $TotalCont_R = $this->input->post('TotalCont_R');
        $TESOFE_R = $this->input->post('TESOFE_R');
        $CreditoSal_R = $this->input->post('CreditoSal_R');
        $DiselMinero_R = $this->input->post('DiselMinero_R');
        $Subsidio_R = $this->input->post('Subsidio_R');
        $TotalApp_R = $this->input->post('TotalApp_R');
        $IDE_R = $this->input->post('IDE_R');
        $CantCargo_R = $this->input->post('CantCargo_R');
        $Compensaciones_R = $this->input->post('Compensaciones_R');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getISR_R5($Folio, $SaldoFavor, $meses, $Cargo_R, $IEPS_R, $ParteAct_R, $Disel_R, $ParteRec_R, $OtrosEst_R, $TotalCont_R, $TESOFE_R, $CreditoSal_R, $DiselMinero_R, $Subsidio_R, $TotalApp_R, $IDE_R, $CantCargo_R, $Compensaciones_R, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function IVA_R24() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Importe = $this->input->post('Importe');
        $IVAretenciones4 = $this->input->post('IVAretenciones4');
        $IVAretenciones10 = $this->input->post('IVAretenciones10');
        $IVAretenciones = $this->input->post('IVAretenciones');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getIVA_R24($Folio, $SaldoFavor, $meses, $Importe, $IVAretenciones4, $IVAretenciones10, $IVAretenciones, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function IVA_R21() {
        $this->load->model("modelo", "datos");
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Ingresos = $this->input->post('Ingresos');
        $Otrosingresos = $this->input->post('Otrosingresos');
        $Otrosingresos2 = $this->input->post('Otrosingresos2');
        $Ingresoscobrados = $this->input->post('Ingresoscobrados');
        $Ingresosnocobrados = $this->input->post('Ingresosnocobrados');
        $TotalIngresos = $this->input->post('TotalIngresos');
        $IVAtrasladado = $this->input->post('IVAtrasladado');
        $Totalgastos = $this->input->post('FoTotalgastoslio');
        $ivaacreditable = $this->input->post('ivaacreditable');
        $GastosconIVA = $this->input->post('GastosconIVA');
        $GastossinIVA = $this->input->post('GastossinIVA');
        $IVAfavor = $this->input->post('IVAfavor');
        $IVApagar = $this->input->post('IVApagar');
        $Total_actos16 = $this->input->post('Total_actos16');
        $Total_actos0 = $this->input->post('Total_actos0');
        $DTotal_actos16 = $this->input->post('DTotal_actos16');
        $Valor_actos16 = $this->input->post('Valor_actos16');
        $Acredit_Saldo_favor = $this->input->post('Acredit_Saldo_favor');
        $PA_Cargo = $this->input->post('PA_Cargo');
        $Pparte_Actualizada = $this->input->post('Pparte_Actualizada');
        $PParte_recargos = $this->input->post('PParte_recargos');
        $PTotal_contribuciones = $this->input->post('PTotal_contribuciones');
        $PCant_cargo = $this->input->post('PTotal_contribuciones');
        $PCant_pagar = $this->input->post('PTotal_contribuciones');
        $Folio = $this->input->post('Folio');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getIVA_R21($Folio, $SaldoFavor, $meses, $Ingresos, $Otrosingresos, $Otrosingresos2, $Ingresoscobrados, $Ingresosnocobrados, $TotalIngresos, $IVAtrasladado, $Totalgastos, $ivaacreditable, $GastosconIVA, $GastossinIVA, $IVAfavor, $IVApagar, $Total_actos16, $Total_actos0, $DTotal_actos16, $Valor_actos16, $Acredit_Saldo_favor, $PA_Cargo, $Pparte_Actualizada, $PParte_recargos, $PTotal_contribuciones, $PCant_cargo, $PCant_pagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function IVA_R21_2() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $SaldoFavor = $this->input->post('SaldoFavor');
        $meses = $this->input->post('meses');
        $Imp_Cobrado = $this->input->post('Imp_Cobrado');
        $Imp_Pagado = $this->input->post('Imp_Pagado');
        $Imp_Retenido = $this->input->post('Imp_Retenido');
        $ACargo = $this->input->post('ACargo');
        $AFavor = $this->input->post('AFavor');
        $Parte_Act = $this->input->post('Parte_Act');
        $Recargos = $this->input->post('Recargos');
        $Multas = $this->input->post('Multas');
        $Total_Cont = $this->input->post('Total_Cont');
        $Disminucion_Cont = $this->input->post('Disminucion_Cont');
        $FechaRealizado = $this->input->post('FechaRealizado');
        $Pagado_Ant = $this->input->post('Pagado_Ant');
        $Imp_UltHoras = $this->input->post('Imp_UltHoras');
        $Cant_Favor = $this->input->post('Cant_Favor');
        $Cant_Pagar = $this->input->post('Cant_Pagar');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getIVA_R21_2(
                $Folio, $SaldoFavor, $meses, $Imp_Cobrado, $Imp_Pagado, $Imp_Retenido, $ACargo, $AFavor, $Parte_Act, $Recargos, $Multas, $Total_Cont, $Disminucion_Cont, $FechaRealizado, $Pagado_Ant, $Imp_UltHoras, $Cant_Favor, $Cant_Pagar, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function Cedular_A() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $meses = $this->input->post('meses');
        $Ingresos = $this->input->post('Ingresos');
        $Deducciones = $this->input->post('Deducciones');
        $Perdidas = $this->input->post('Perdidas');
        $Base = $this->input->post('Base');
        $ImpRet = $this->input->post('ImpRet');
        $PagoProv = $this->input->post('PagoProv');
        $TotalRetenido = $this->input->post('TotalRetenido');
        $ACargo = $this->input->post('ACargo');
        $Imp_pagado = $this->input->post('Imp_pagado');
        $ACargo2 = $this->input->post('ACargo2');
        $Saldo_Favor = $this->input->post('Saldo_Favor');
        $Imp_Cedular = $this->input->post('Imp_Cedular');
        $Actualizacion = $this->input->post('Actualizacion');
        $Recargos = $this->input->post('Recargos');
        $Multa_Pagos = $this->input->post('Multa_Pagos');
        $Compensacion = $this->input->post('Compensacion');
        $SubTotal = $this->input->post('SubTotal');
        $Redondeo = $this->input->post('Redondeo');
        $Total_Impuesto = $this->input->post('Total_Impuesto');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getCA(
                $Folio, $meses, $Ingresos, $Deducciones, $Perdidas, $Base, $ImpRet, $PagoProv, $TotalRetenido, $ACargo, $Imp_pagado, $ACargo2, $Saldo_Favor, $Imp_Cedular, $Actualizacion, $Recargos, $Multa_Pagos, $Compensacion, $SubTotal, $Redondeo, $Total_Impuesto, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function Cedular_G() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $meses = $this->input->post('meses');
        $Ingresos = $this->input->post('Ingresos');
        $Deducciones = $this->input->post('Deducciones');
        $Perdidas = $this->input->post('Perdidas');
        $Base = $this->input->post('Base');
        $ImpRet = $this->input->post('ImpRet');
        $PagoProv = $this->input->post('PagoProv');
        $ACargo = $this->input->post('ACargo');
        $Imp_pagado = $this->input->post('Imp_pagado');
        $ACargo2 = $this->input->post('ACargo2');
        $Saldo_Favor = $this->input->post('Saldo_Favor');
        $Imp_Cedular = $this->input->post('Imp_Cedular');
        $Actualizacion = $this->input->post('Actualizacion');
        $Recargos = $this->input->post('Recargos');
        $Multa_Pagos = $this->input->post('Multa_Pagos');
        $Compensacion = $this->input->post('Compensacion');
        $SubTotal = $this->input->post('SubTotal');
        $Redondeo = $this->input->post('Redondeo');
        $Total_Impuesto = $this->input->post('Total_Impuesto');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getCG(
                $Folio, $meses, $Ingresos, $Deducciones, $Perdidas, $Base, $ImpRet, $PagoProv, $ACargo, $Imp_pagado, $ACargo2, $Saldo_Favor, $Imp_Cedular, $Actualizacion, $Recargos, $Multa_Pagos, $Compensacion, $SubTotal, $Redondeo, $Total_Impuesto, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function Cedular_H() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $meses = $this->input->post('meses');
        $Ingresos = $this->input->post('Ingresos');
        $Deducciones = $this->input->post('Deducciones');
        $Base = $this->input->post('Base');
        $ImpRet = $this->input->post('ImpRet');
        $TotalRetenido = $this->input->post('TotalRetenido');
        $ACargo = $this->input->post('ACargo');
        $Imp_pagado = $this->input->post('Imp_pagado');
        $ACargo2 = $this->input->post('ACargo2');
        $Saldo_Favor = $this->input->post('Saldo_Favor');
        $Imp_Cedular = $this->input->post('Imp_Cedular');
        $Actualizacion = $this->input->post('Actualizacion');
        $Recargos = $this->input->post('Recargos');
        $Multa_Pagos = $this->input->post('Multa_Pagos');
        $Compensacion = $this->input->post('Compensacion');
        $SubTotal = $this->input->post('SubTotal');
        $Redondeo = $this->input->post('Redondeo');
        $Total_Impuesto = $this->input->post('Total_Impuesto');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getCH(
                $Folio, $meses, $Ingresos, $Deducciones, $Base, $ImpRet, $TotalRetenido, $ACargo, $Imp_pagado, $ACargo2, $Saldo_Favor, $Imp_Cedular, $Actualizacion, $Recargos, $Multa_Pagos, $Compensacion, $SubTotal, $Redondeo, $Total_Impuesto, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function S_nomina() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $meses = $this->input->post('meses');
        $Importe = $this->input->post('Importe');
        $ACargo = $this->input->post('ACargo');
        $Actualizaciones = $this->input->post('Actualizaciones');
        $Recargos = $this->input->post('Recargos');
        $S_nomina = $this->input->post('S_nomina');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getSN(
                $Folio, $meses, $Importe, $ACargo, $Actualizaciones, $Recargos, $S_nomina, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function Hospedaje() {
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $meses = $this->input->post('meses');
        $Importe = $this->input->post('Importe');
        $ACargo = $this->input->post('ACargo');
        $Actualizaciones = $this->input->post('Actualizaciones');
        $Recargos = $this->input->post('Recargos');
        $Hospedaje = $this->input->post('Hospedaje');
        $Dia = date("d");
        $Mes = date("m");
        $Anio = date("y");
        $datos = $this->datos->getHospedaje(
                $Folio, $meses, $Importe, $ACargo, $Actualizaciones, $Recargos, $Hospedaje, $Dia, $Mes, $Anio
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

    public function C_Actualizaciones() {
        $MesaDeclarar = $_POST["MesaDeclarar"];
        $MesActual = $_POST["MesActual"];
        $Impuestos = $_POST["Impuestos"];
        $Anio = date("Y");
        $this->load->model("modelo", "INPC");
        $INPC = $this->INPC->getINPCs();
        //$this->load->model("modelo", "Recar");
        //$Recar = $this->Recar->getRecargos();
        $M1 = $MesActual - 1;
        if ($M1 == 0) {
            $M1 = 12;
            $Anio1 = $Anio - 1;
        } else {
            $Anio1 = $Anio;
        }
        if ($M1 == 12) {
            $Anio2 = $Anio - 1;
        }
        $M2 = $MesaDeclarar - 1;
        if ($M2 == 0) {
            $M2 = 12;
            $Anio2 = $Anio - 1;
        } else {
            $Anio2 = $Anio;
        }
        if ($MesaDeclarar == 12) {
            $Anio2 = $Anio - 1;
        }
        foreach ($INPC as $INPC1) {
            if ($M1 == $INPC1->Mes && $Anio1 == $INPC1->Anio) {
                $Cantidad1 = $INPC1->Cantidades;
            }
        }
        foreach ($INPC as $INPC1) {
            if ($M2 == $INPC1->Mes && $Anio2 == $INPC1->Anio) {
                $Cantidad2 = $INPC1->Cantidades;
            }
        }

        $factor = ($Cantidad1 / $Cantidad2) - 1;
        $res = $Impuestos * $factor;

        $resultado = round($res, 4);
        ?>
        <input class="form-control" name="Actualizaciones" id="Actualizaciones" type="number" step="0.01" value="<?php echo $resultado ?>" required="required">
        <br>
        <?php
    }

    public function C_Recargos() {
        $MesaDeclarar = $_POST["MesaDeclarar"];
        $MesActual = $_POST["MesActual"];
        $Impuestos = $_POST["Impuestos"];
        $Anio = date("Y");
        $this->load->model("modelo", "INPC");
        $INPC = $this->INPC->getINPCs();
        $this->load->model("modelo", "Recar");
        $Recar = $this->Recar->getRecargos();

        $M1 = $MesActual - 1;
        if ($M1 == 0) {
            $M1 = 12;
            $Anio1 = $Anio - 1;
        } else {
            $Anio1 = $Anio;
        }
        if ($M1 == 12) {
            $Anio2 = $Anio - 1;
        }
        $M2 = $MesaDeclarar - 1;
        if ($M2 == 0) {
            $M2 = 12;
            $Anio2 = $Anio - 1;
        } else {
            $Anio2 = $Anio;
        }
        if ($MesaDeclarar == 12) {
            $Anio2 = $Anio - 1;
        }
        foreach ($INPC as $INPC1) {
            if ($M1 == $INPC1->Mes && $Anio1 == $INPC1->Anio) {
                $Cantidad1 = $INPC1->Cantidades;
            }
        }
        foreach ($INPC as $INPC1) {
            if ($M2 == $INPC1->Mes && $Anio2 == $INPC1->Anio) {
                $Cantidad2 = $INPC1->Cantidades;
            }
        }

        $factor = ($Cantidad1 / $Cantidad2) - 1;
        $actualizacion = $Impuestos * $factor;



        if ($MesaDeclarar == 12) {
            $Anio = $Anio - 1;
        }
        foreach ($Recar as $Recar1) {
            if ($MesaDeclarar == $Recar1->Mes && $Anio == $Recar1->Anio) {
                $indicador = $Recar1->ID;
            }
        }
        $suma = 0;
        foreach ($Recar as $Recar2) {
            if ($indicador <= $Recar2->ID) {
                $suma = $suma + ($Recar2->Tasa_Recargos);
            }
        }

        $recargos = $suma / 100;
        $res = ($Impuestos + $actualizacion) * $recargos;

        $resultado = round($res, 4);
        ?>
        <input class="form-control" name="Recargos" id="Recargos" type="number" step="0.01" value="<?php echo $resultado ?>" required="required">
        <br>		  <?php
    }

    public function Suma() {
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        ?>
        <input class="form-control" name="Total" id="Total" value="<?php echo $suma ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function Utilidad() {
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $Utilidad = $suma * $Coeficiente;
        ?>
        <input  class="form-control" name="Utilidad" id="Utilidad" value="<?php echo $Utilidad ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function Base() {
        $perdidas = $_POST["perdidas"];
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $utilidad = $suma * $Coeficiente;
        if ($utilidad > $perdidas) {
            $Base = $utilidad - $perdidas;
        } else {
            $Base = 0;
        }
        ?>
        <input  class="form-control" name="Base" id="Base" value="<?php echo $Base ?>" readonly="readonly">
        <?php
    }

    public function ISRcausado() {
        $perdidas = $_POST["perdidas"];
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $utilidad = $suma * $Coeficiente;
        if ($utilidad > $perdidas) {
            $Base = $utilidad - $perdidas;
        } else {
            $Base = 0;
        }
        $ISRcausado = $Base * .3
        ?>
        <input  class="form-control" name="ISRcausado" id="ISRcausado" value="<?php echo $ISRcausado ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function ImpuestoP() {
        $perdidas = $_POST["perdidas"];
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $utilidad = $suma * $Coeficiente;
        if ($utilidad > $perdidas) {
            $Base = $utilidad - $perdidas;
        } else {
            $Base = 0;
        }
        $ISRcausado = $Base * .3
        ?>
        <input  class="form-control" name="ImpuestoP" id="ImpuestoP" value="<?php echo $ISRcausado ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function ImpuestoCargo() {
        $perdidas = $_POST["perdidas"];
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $Pagos = $_POST["Pagos"];
        $ImpuestoB = $_POST["ImpuestoB"];
        $utilidad = $suma * $Coeficiente;
        if ($utilidad > $perdidas) {
            $Base = $utilidad - $perdidas;
        } else {
            $Base = 0;
        }
        $ISRcausado = $Base * .3;

        $ImpuestoCargo = $ISRcausado - $Pagos - $ImpuestoB;
        ?>
        <input  class="form-control" name="ImpuestoCargo" id="ImpuestoCargo" value="<?php echo $ImpuestoCargo ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function CantPagar() {
        $perdidas = $_POST["perdidas"];
        $ingresosAnt = $_POST["suma1"];
        $ingresosAct = $_POST["suma2"];
        $suma = $ingresosAnt + $ingresosAct;
        $Coeficiente = $_POST["coeficiente"];
        $Pagos = $_POST["Pagos"];
        $ImpuestoB = $_POST["ImpuestoB"];
        $utilidad = $suma * $Coeficiente;
        if ($utilidad > $perdidas) {
            $Base = $utilidad - $perdidas;
        } else {
            $Base = 0;
        }
        $ISRcausado = $Base * .3;

        $ImpuestoCargo = $ISRcausado - $Pagos - $ImpuestoB;

        $ParteAct = $_POST["parteact"];
        $IEPS = $_POST["ieps"];
        $ParteRecargos = $_POST["parterecargos"];
        $Disel = $_POST["disel"];
        $subsidioEmp = $_POST["subsidioEmp"];
        $IDE = $_POST["ide"];
        $S1 = $ImpuestoCargo + $ParteAct + $ParteRecargos;
        $Totalapp = $IEPS + $Disel + $subsidioEmp + $IDE;
        if ($S1 > $Totalapp) {
            $St = $S1 - $Totalapp;
        } else {
            $St = 0;
        }

        $St = ceil($St);
        ?>
        <input  class="form-control" name="CantPagar" id="CantPagar" value="<?php echo $St ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

    public function TotalApp() {
        $IEPS = $_POST["ieps"];
        $Disel = $_POST["disel"];
        $subsidioEmp = $_POST["subsidioEmp"];
        $IDE = $_POST["ide"];
        $Totalapp = $IEPS + $Disel + $subsidioEmp + $IDE;
        ?>
        <input  class="form-control" name="TotalApp" id="TotalApp" value="<?php echo $Totalapp ?>" readonly="readonly">
        <br>
        <br>
        <?php
    }

//funciones administracion 2 

    public function Cargo_R1() {
        $Cargo_R = $_POST["Cargo_R"];
        $ParteAct_R = $_POST["ParteAct_R"];
        $ParteRec_R = $_POST["ParteRec_R"];
        $Suma = $Cargo_R + $ParteAct_R + $ParteRec_R;
        ?>
        <input  class="form-control" name="TotalCont_R" id="TotalCont_R" value="<?php echo $Suma ?>" readonly="readonly">
        <br>
        <?php
    }

    public function CantCargo_R() {
        $Cargo_R = $_POST["Cargo_R"];
        $ParteAct_R = $_POST["ParteAct_R"];
        $ParteRec_R = $_POST["ParteRec_R"];
        $TotalCont_R = $Cargo_R + $ParteAct_R + $ParteRec_R;
        $IEPS_R = $_POST["IEPS_R"];
        $Disel_R = $_POST["Disel_R"];
        $OtrosEst_R = $_POST["OtrosEst_R"];
        $TESOFE_R = $_POST["TESOFE_R"];
        $CreditoSal_R = $_POST["CreditoSal_R"];
        $DiselMinero_R = $_POST["DiselMinero_R"];
        $Subsidio_R = $_POST["Subsidio_R"];
        $IDE_R = $_POST["IDE_R"];
        $Compensaciones_R = $_POST["Compensaciones_R"];
        $TotalApp_R = $IEPS_R + $Disel_R + $OtrosEst_R + $TESOFE_R + $CreditoSal_R + $DiselMinero_R + $Subsidio_R + $IDE_R + $Compensaciones_R;
        if ($TotalCont_R > $TotalApp_R) {
            $Resta = $TotalCont_R - $TotalApp_R;

            $Resta = ceil($Resta);
            ?>
            <input  class="form-control" name="CantCargo_R" id="CantCargo_R" value="<?php echo $Resta ?>" readonly="readonly">
            <br>
            <?php
        } else {
            $Resta = 0;
            ?>
            <input  class="form-control" name="CantCargo_R" id="CantCargo_R" value="<?php echo $Resta ?>" readonly="readonly">
            <br>
            <?php
        }
    }

    public function TotalApp_R1() {
        $IEPS_R = $_POST["IEPS_R"];
        $Disel_R = $_POST["Disel_R"];
        $OtrosEst_R = $_POST["OtrosEst_R"];
        $TESOFE_R = $_POST["TESOFE_R"];
        $CreditoSal_R = $_POST["CreditoSal_R"];
        $DiselMinero_R = $_POST["DiselMinero_R"];
        $Subsidio_R = $_POST["Subsidio_R"];
        $IDE_R = $_POST["IDE_R"];
        $Compensaciones_R = $_POST["Compensaciones_R"];
        $Suma = $IEPS_R + $Disel_R + $OtrosEst_R + $TESOFE_R + $CreditoSal_R + $DiselMinero_R + $Subsidio_R + $IDE_R + $Compensaciones_R;
        ?>
        <input  class="form-control" name="TotalApp_R" id="TotalApp_R" value="<?php echo $Suma ?>" readonly="readonly">
        <br>
        <?php
    }

//funciones IVA

    public function IVAretenciones4() {
        $Importe = $_POST["Importe"];
        $resultado = $Importe * 0.04;
        ?>
        <input  class="form-control" name="IVAretenciones4" id="IVAretenciones4" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVAretenciones10() {
        $Importe = $_POST["Importe"];
        $resultado = $Importe * 0.1066;
        ?>
        <input  class="form-control" name="IVAretenciones10" id="IVAretenciones10" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVAretenciones() {
        $Importe = $_POST["Importe"];
        $resultado = $Importe * 0.1466;
        ?>
        <input  class="form-control" name="IVAretenciones" id="IVAretenciones" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op0() {
        $meses = $_POST["meses"];
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $GastosAnt = $_POST["GastosAnt"];
        $GastosAct = $_POST["GastosAct"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();
        $base = $Suma_Ing + $Ing - $GastosAnt - $GastosAct;
        $resultado = '-';

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado = $resultado1 + $Limites->Cuota;
            }
        }
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op1() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $resultado = $Suma_Ing + $Ing;
        ?>
        <input  class="form-control" name="Total_Ing" id="Total_Ing" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op2() {
        $GastosAnt = $_POST["GastosAnt"];
        $GastosAct = $_POST["GastosAct"];
        $resultado = $GastosAnt + $GastosAct;
        ?>
        <input  class="form-control" name="TotalGastos" id="TotalGastos" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op3() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $resultado = $ACargo + $ParteAct + $Recargos;
        ?>
        <input  class="form-control" name="TotalGastos" id="TotalGastos" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op4() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];

        $Credito_sal = $_POST["Credito_sal"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Depositos = $_POST["Imp_Depositos"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carreteras = $_POST["Carreteras"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $Monto_Ant = $_POST["Monto_Ant"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];
        $Total_Cont = $ACargo + $ParteAct + $Recargos;
        $deducciones = $Credito_sal + $Sub_Empleo + $Imp_Depositos + $Compensaciones + $IEPS + $Diesel + $Carreteras + $Otros + $Diesel_Marino;

        $resultado = $Total_Cont - $deducciones - $Monto_Ant - $Imp_UltHrs;

        if ($resultado < 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }
        ?>
        <input  class="form-control" name="CFavor" id="CFavor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R7_Op5() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];

        $Credito_sal = $_POST["Credito_sal"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Depositos = $_POST["Imp_Depositos"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carreteras = $_POST["Carreteras"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $Monto_Ant = $_POST["Monto_Ant"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];
        $Total_Cont = $ACargo + $ParteAct + $Recargos;
        $deducciones = $Credito_sal + $Sub_Empleo + $Imp_Depositos + $Compensaciones + $IEPS + $Diesel + $Carreteras + $Otros + $Diesel_Marino;

        $resultado = $Total_Cont - $deducciones - $Monto_Ant - $Imp_UltHrs;

        if ($resultado >= 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }

        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="CPagar" id="CPagar" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_OpB() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $Ing_Externos = $_POST["Ing_Externos"];
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $Part_Utilidad = $_POST["Part_Utilidad"];
        $Perdidas = $_POST["Perdidas"];
        $resultado = $Suma_Ing + $Ing - $Ing_Externos - $Suma_Deduc - $Deduc_Auto - $Part_Utilidad - $Perdidas;

        $Ingresos = $Suma_Ing + $Ing;
        $Deducciones = $Suma_Deduc + $Deduc_Auto;
        if ($Deducciones > $Ingresos) {
            $resultado = 0;
        }
        ?>
        <input  class="form-control" name="Base" id="Base" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_OpD() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $Ing_Externos = $_POST["Ing_Externos"];
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $Part_Utilidad = $_POST["Part_Utilidad"];
        $Perdidas = $_POST["Perdidas"];
        $base = $Suma_Ing + $Ing - $Ing_Externos - $Suma_Deduc - $Deduc_Auto - $Part_Utilidad - $Perdidas;

        $Ingresos = $Suma_Ing + $Ing;
        $Deducciones = $Suma_Deduc + $Deduc_Auto;
        if ($Deducciones > $Ingresos) {
            $base = 0;
        }

        $resultado = $base * 0.3;
        ?>
        <input  class="form-control" name="ISR_Det" id="ISR_Det" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_OpC() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $Ing_Externos = $_POST["Ing_Externos"];
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $Part_Utilidad = $_POST["Part_Utilidad"];
        $Perdidas = $_POST["Perdidas"];
        $reducciones = $_POST["Reducciones"];
        $base = $Suma_Ing + $Ing - $Ing_Externos - $Suma_Deduc - $Deduc_Auto - $Part_Utilidad - $Perdidas;

        $Ingresos = $Suma_Ing + $Ing;
        $Deducciones = $Suma_Deduc + $Deduc_Auto;
        if ($Deducciones > $Ingresos) {
            $base = 0;
        }

        $retenido = $base * 0.3;
        $resultado = $retenido - $reducciones;
        ?>
        <input  class="form-control" name="ISR_Causado" id="ISR_Causado" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_OpA() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $Ing_Externos = $_POST["Ing_Externos"];
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $Part_Utilidad = $_POST["Part_Utilidad"];
        $Perdidas = $_POST["Perdidas"];
        $reducciones = $_POST["Reducciones"];
        $Pagos_Prov = $_POST["Pagos_Prov"];
        $Imp_Ret = $_POST["Imp_Ret"];
        $OtrasCargo = $_POST["OtrasCargo"];
        $OtrasFavor = $_POST["OtrasFavor"];
        $base = $Suma_Ing + $Ing - $Ing_Externos - $Suma_Deduc - $Deduc_Auto - $Part_Utilidad - $Perdidas;

        $Ingresos = $Suma_Ing + $Ing;
        $Deducciones = $Suma_Deduc + $Deduc_Auto;
        if ($Deducciones > $Ingresos) {
            $base = 0;
        }

        $retenido = $base * 0.3;
        $causado = $retenido - $reducciones;
        $resultado = $causado - $Pagos_Prov - $Imp_Ret + $OtrasCargo - $OtrasFavor;
        ?>
        <input  class="form-control" name="Imp_Cargo" id="Imp_Cargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_OpA2() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $Ing_Externos = $_POST["Ing_Externos"];
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $Part_Utilidad = $_POST["Part_Utilidad"];
        $Perdidas = $_POST["Perdidas"];
        $reducciones = $_POST["Reducciones"];
        $Pagos_Prov = $_POST["Pagos_Prov"];
        $Imp_Ret = $_POST["Imp_Ret"];
        $OtrasCargo = $_POST["OtrasCargo"];
        $OtrasFavor = $_POST["OtrasFavor"];
        $base = $Suma_Ing + $Ing - $Ing_Externos - $Suma_Deduc - $Deduc_Auto - $Part_Utilidad - $Perdidas;

        $Ingresos = $Suma_Ing + $Ing;
        $Deducciones = $Suma_Deduc + $Deduc_Auto;
        if ($Deducciones > $Ingresos) {
            $base = 0;
        }

        $retenido = $base * 0.3;
        $causado = $retenido - $reducciones;
        $resultado = $causado - $Pagos_Prov - $Imp_Ret + $OtrasCargo - $OtrasFavor;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op1() {
        $Suma_Ing = $_POST["Suma_Ing"];
        $Ing = $_POST["Ing"];
        $resultado = $Suma_Ing + $Ing;
        ?>
        <input  class="form-control" name="Total_Ing" id="Total_Ing" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op2() {
        $Suma_Deduc = $_POST["Suma_Deduc"];
        $Deduc_Auto = $_POST["Deduc_Auto"];
        $resultado = $Suma_Deduc + $Deduc_Auto;
        ?>
        <input  class="form-control" name="Total_Deduc" id="Total_Deduc" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op3() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $resultado = $ACargo + $ParteAct + $Recargos + $Multas;
        ?>
        <input  class="form-control" name="Total_Cont" id="Total_Cont" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op4() {
        $Sub_Emple = $_POST["Sub_Emple"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Otros = $_POST["Otros"];
        $Diesel = $_POST["Diesel"];

        $resultado = $Sub_Emple + $Compensaciones + $IEPS + $Otros + $Diesel;
        ?>
        <input  class="form-control" name="TotalApp" id="TotalApp" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op5() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Sub_Emple = $_POST["Sub_Emple"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Otros = $_POST["Otros"];
        $Diesel = $_POST["Diesel"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Sub_Emple + $Compensaciones + $IEPS + $Otros + $Diesel;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;
        ?>
        <input  class="form-control" name="CantCargo" id="CantCargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op6() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Sub_Emple = $_POST["Sub_Emple"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Otros = $_POST["Otros"];
        $Diesel = $_POST["Diesel"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Sub_Emple + $Compensaciones + $IEPS + $Otros + $Diesel;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;

        if ($resultado < 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }
        ?>
        <input  class="form-control" name="CantFavor" id="CantFavor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R97_Op7() {
        $ACargo = $_POST["ACargo"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Sub_Emple = $_POST["Sub_Emple"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Otros = $_POST["Otros"];
        $Diesel = $_POST["Diesel"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Sub_Emple + $Compensaciones + $IEPS + $Otros + $Diesel;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;

        if ($resultado >= 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }

        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="CantPagar" id="CantPagar" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op_1_1() {
        $DeduccionOp = $_POST["DeduccionOp"];
        if ($DeduccionOp == 'Sí') {
            ?>
            <input  class="form-control" type="number" step="0.01" value="0" name="Deducciones" id="Deducciones" readonly="readonly">
            <br />
            <?php
        } else {
            ?>
            <input  class="form-control" type="number" step="0.01" value="0" name="Deducciones" id="Deducciones" required="required">
            <br />
            <?php
        }
    }

    public function ISR_R10_Op_1_2() {
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $resultado = 0;
        if ($DeduccionOp == 'Sí') {
            $resultado = $Ing * 0.35;
        }
        ?>
        <input  class="form-control" name="D_Opc" id="D_Opc" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op_1_3() {
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];
        $resultado = 0;
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $resultado = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;
        ?>
        <input  class="form-control" name="Base" id="Base" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op_1_4() {
        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado = $resultado1 + $Limites->Cuota;
            }
        }
        ?>
        <input  class="form-control" name="Imp_Cargo" id="Imp_Cargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op_1_5() {
        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $resultado = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;
        ?>
        <input  class="form-control" name="Imp_ACargo" id="Imp_ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op_1_52() {
        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $resultado = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" required="required">
        <br />
        <?php
    }

    public function ISR_R10_Op3() {
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        $meses = $_POST["meses"];
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $ACargo = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;

        $resultado = $ACargo + $ParteAct + $Recargos + $Multas;
        ?>
        <input  class="form-control" name="Total_Cont" id="Total_Cont" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op4() {
        $Credito = $_POST["Credito"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Dep = $_POST["Imp_Dep"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carretera = $_POST["Carretera"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $resultado = $Credito + $Sub_Empleo + $Imp_Dep + $Compensaciones + $IEPS + $Diesel + $Carretera + $Otros + $Diesel_Marino;
        ?>
        <input  class="form-control" name="TotalApp" id="TotalApp" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op5() {
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Credito = $_POST["Credito"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Dep = $_POST["Imp_Dep"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carretera = $_POST["Carretera"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $ACargo = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Credito + $Sub_Empleo + $Imp_Dep + $Compensaciones + $IEPS + $Diesel + $Carretera + $Otros + $Diesel_Marino;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;
        ?>
        <input  class="form-control" name="CantCargo" id="CantCargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op6() {
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Credito = $_POST["Credito"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Dep = $_POST["Imp_Dep"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carretera = $_POST["Carretera"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $ACargo = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Credito + $Sub_Empleo + $Imp_Dep + $Compensaciones + $IEPS + $Diesel + $Carretera + $Otros + $Diesel_Marino;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;

        if ($resultado < 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }
        ?>
        <input  class="form-control" name="CantFavor" id="CantFavor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function ISR_R10_Op7() {
        $ParteAct = $_POST["ParteAct"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];

        $Credito = $_POST["Credito"];
        $Sub_Empleo = $_POST["Sub_Empleo"];
        $Imp_Dep = $_POST["Imp_Dep"];
        $Compensaciones = $_POST["Compensaciones"];
        $IEPS = $_POST["IEPS"];
        $Diesel = $_POST["Diesel"];
        $Carretera = $_POST["Carretera"];
        $Otros = $_POST["Otros"];
        $Diesel_Marino = $_POST["Diesel_Marino"];

        $MontoPagado = $_POST["MontoPagado"];
        $Imp_UltHrs = $_POST["Imp_UltHrs"];

        $meses = $_POST["meses"];
        $DeduccionOp = $_POST["DeduccionOp"];
        $Ing = $_POST["Ing"];
        $Deducciones = $_POST["Deducciones"];
        $DImp_Local = $_POST["DImp_Local"];
        $Predial = $_POST["Predial"];
        $D_PrimerEm = $_POST["D_PrimerEm"];

        $Imp_Rete = $_POST["Imp_Rete"];
        $Otras_Cargo = $_POST["Otras_Cargo"];
        $Otras_Favor = $_POST["Otras_Favor"];
        //Abriendo BD Cuentas
        $this->load->model("modelo", "tablas");
        $tablas = $this->tablas->getTablas();

        $resultado2 = '0';
        $DO = 0;
        if ($DeduccionOp == 'Sí') {
            $DO = $Ing * 0.35;
        }
        $base = $Ing - $Deducciones - $DImp_Local - $DO - $Predial - $D_PrimerEm;

        foreach ($tablas as $Limites) {
            $inferior = ($Limites->L_Inferior) * $meses;
            $superior = ($Limites->L_Superior) * $meses;
            if ($base >= $inferior && $base <= $superior) {
                $resultado1 = (($base - $inferior) * $Limites->Porcentaje) / 100;
                $resultado2 = $resultado1 + $Limites->Cuota;
            }
        }
        $ACargo = $resultado2 - $Imp_Rete + $Otras_Cargo - $Otras_Favor;

        $suma1 = $ACargo + $ParteAct + $Recargos + $Multas;
        $suma2 = $Credito + $Sub_Empleo + $Imp_Dep + $Compensaciones + $IEPS + $Diesel + $Carretera + $Otros + $Diesel_Marino;

        $resultado = $suma1 - $suma2 - $MontoPagado - $Imp_UltHrs;

        if ($resultado >= 0) {
            $resultado = abs($resultado);
        } else {
            $resultado = 0;
        }

        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="CantPagar" id="CantPagar" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVA_R21_Op1() {
        $Imp_Cobrado = $_POST["Imp_Cobrado"];
        $Imp_Pagado = $_POST["Imp_Pagado"];
        $Imp_Retenido = $_POST["Imp_Retenido"];
        $temporal = $Imp_Cobrado - $Imp_Pagado - $Imp_Retenido;
        if ($temporal >= 0) {
            $resultado = $temporal;
        } else {
            $resultado = 0;
        }
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVA_R21_Op2() {
        $Imp_Cobrado = $_POST["Imp_Cobrado"];
        $Imp_Pagado = $_POST["Imp_Pagado"];
        $Imp_Retenido = $_POST["Imp_Retenido"];
        $temporal = $Imp_Cobrado - $Imp_Pagado - $Imp_Retenido;
        if ($temporal >= 0) {
            $resultado = 0;
        } else {
            $resultado = abs($temporal);
        }
        ?>
        <input  class="form-control" name="AFavor" id="AFavor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVA_R21_Op3() {
        $Imp_Cobrado = $_POST["Imp_Cobrado"];
        $Imp_Pagado = $_POST["Imp_Pagado"];
        $Imp_Retenido = $_POST["Imp_Retenido"];
        $Parte_Act = $_POST["Parte_Act"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];
        $temporal = $Imp_Cobrado - $Imp_Pagado - $Imp_Retenido;
        if ($temporal >= 0) {
            $resultado = $temporal;
        } else {
            $resultado = 0;
        }

        $resultado = $resultado + $Parte_Act + $Recargos + $Multas;
        ?>
        <input  class="form-control" name="Total_Cont" id="Total_Cont" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVA_R21_Op4() {
        $Imp_Cobrado = $_POST["Imp_Cobrado"];
        $Imp_Pagado = $_POST["Imp_Pagado"];
        $Imp_Retenido = $_POST["Imp_Retenido"];
        $Parte_Act = $_POST["Parte_Act"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];
        $Disminucion_Cont = $_POST["Disminucion_Cont"];
        $Pagado_Ant = $_POST["Pagado_Ant"];
        $Imp_UltHoras = $_POST["Imp_UltHoras"];
        $temporal = $Imp_Cobrado - $Imp_Pagado - $Imp_Retenido;
        if ($temporal >= 0) {
            $resultado = $temporal;
        } else {
            $resultado = 0;
        }

        $resultado = $resultado + $Parte_Act + $Recargos + $Multas - $Disminucion_Cont - $Pagado_Ant - $Imp_UltHoras;
        if ($resultado < 0) {
            $resultado = 0;
        }

        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="Cant_Pagar" id="Cant_Pagar" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVA_R21_Op5() {
        $Imp_Cobrado = $_POST["Imp_Cobrado"];
        $Imp_Pagado = $_POST["Imp_Pagado"];
        $Imp_Retenido = $_POST["Imp_Retenido"];
        $Parte_Act = $_POST["Parte_Act"];
        $Recargos = $_POST["Recargos"];
        $Multas = $_POST["Multas"];
        $Disminucion_Cont = $_POST["Disminucion_Cont"];
        $Pagado_Ant = $_POST["Pagado_Ant"];
        $Imp_UltHoras = $_POST["Imp_UltHoras"];
        $temporal = $Imp_Cobrado - $Imp_Pagado - $Imp_Retenido;
        if ($temporal >= 0) {
            $resultado = $temporal;
        } else {
            $resultado = 0;
        }

        $resultado = $resultado + $Parte_Act + $Recargos + $Multas - $Disminucion_Cont - $Pagado_Ant - $Imp_UltHoras;
        if ($resultado >= 0) {
            $resultado = 0;
        } else {
            $resultado = abs($resultado);
        }
        ?>
        <input  class="form-control" name="Cant_Favor" id="Cant_Favor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

//funciones Impuesto Cedular  

    public function Cedular_Op1() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $resultado = $Ingresos - $Deducciones - $Perdidas;
        ?>
        <input  class="form-control" name="Base" id="Base" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_Op2() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = $temporal * 0.02;
        ?>
        <input  class="form-control" name="ImpRet" id="ImpRet" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_Op3() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_Op4() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv - $Imp_pagado;
        ?>
        <input  class="form-control" name="ACargo2" id="ACargo2" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_C1() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv - $Imp_pagado;
        ?>
        <input  class="form-control" name="Imp_Cedular" id="Imp_Cedular" value="<?php echo $resultado ?>"  type="number" step="0.01" required>
        <br />
        <?php
    }

    public function Cedular_Op5() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado;

        $resultado = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        ?>
        <input  class="form-control" name="SubTotal" id="SubTotal" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_Op6() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = round($redondeado - $temporal, 2);
        ?>
        <input  class="form-control" name="Redondeo" id="Redondeo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_Op7() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = $redondeado;
        ?>
        <input  class="form-control" name="Total_Impuesto" id="Total_Impuesto" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpA8() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv - $TotalRetenido;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpA9() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv - $Imp_pagado - $TotalRetenido;
        ?>
        <input  class="form-control" name="ACargo2" id="ACargo2" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpAC9() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $resultado = ($temporal * 0.02) - $PagoProv - $Imp_pagado - $TotalRetenido;
        ?>
        <input  class="form-control" name="Imp_Cedular" id="Imp_Cedular" value="<?php echo $resultado ?>" required>
        <br />
        <?php
    }

    public function Cedular_OpA5() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado - $TotalRetenido;

        $resultado = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        ?>
        <input  class="form-control" name="SubTotal" id="SubTotal" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpA6() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado - $TotalRetenido;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = round($redondeado - $temporal, 2);
        ?>
        <input  class="form-control" name="Redondeo" id="Redondeo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpA7() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $Perdidas = $_POST["Perdidas"];
        $PagoProv = $_POST["PagoProv"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones - $Perdidas;
        $Imp_Cedular = ($temporal * 0.02) - $PagoProv - $Imp_pagado - $TotalRetenido;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = $redondeado;
        ?>
        <input  class="form-control" name="Total_Impuesto" id="Total_Impuesto" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH1() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $resultado = $Ingresos - $Deducciones;
        ?>
        <input  class="form-control" name="Base" id="Base" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH2() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $temporal = $Ingresos - $Deducciones;
        $resultado = $temporal * 0.02;
        ?>
        <input  class="form-control" name="ImpRet" id="ImpRet" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH3() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $temporal = $Ingresos - $Deducciones;
        $resultado = ($temporal * 0.02) - $TotalRetenido;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH4() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones;
        $resultado = ($temporal * 0.02) - $TotalRetenido - $Imp_pagado;
        ?>
        <input  class="form-control" name="ACargo2" id="ACargo2" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpHC4() {
        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones;
        $resultado = ($temporal * 0.02) - $TotalRetenido - $Imp_pagado;
        ?>
        <input  class="form-control" name="Imp_Cedular" id="Imp_Cedular" value="<?php echo $resultado ?>" required>
        <br />
        <?php
    }

    public function Cedular_OpH5() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones;
        $Imp_Cedular = ($temporal * 0.02) - $TotalRetenido - $Imp_pagado;

        $resultado = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        ?>
        <input  class="form-control" name="SubTotal" id="SubTotal" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH6() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones;
        $Imp_Cedular = ($temporal * 0.02) - $TotalRetenido - $Imp_pagado;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = round($redondeado - $temporal, 2);
        ?>
        <input  class="form-control" name="Redondeo" id="Redondeo" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Cedular_OpH7() {
        //$Imp_Cedular= $_POST["Imp_Cedular"];
        $Actualizacion = $_POST["Actualizacion"];
        $Recargos = $_POST["Recargos"];
        $Multa_Pagos = $_POST["Multa_Pagos"];
        $Compensacion = $_POST["Compensacion"];

        $Ingresos = $_POST["Ingresos"];
        $Deducciones = $_POST["Deducciones"];
        $TotalRetenido = $_POST["TotalRetenido"];
        $Imp_pagado = $_POST["Imp_pagado"];
        $temporal = $Ingresos - $Deducciones;
        $Imp_Cedular = ($temporal * 0.02) - $TotalRetenido - $Imp_pagado;

        $temporal = $Imp_Cedular + $Actualizacion + $Recargos + $Multa_Pagos - $Compensacion;
        $redondeado = ceil($temporal);
        $resultado = $redondeado;
        ?>
        <input  class="form-control" name="Total_Impuesto" id="Total_Impuesto" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

//funciones Impuesto sobre la nomina    

    public function SNomina() {
        $Importe = $_POST["Importe"];
        $Actualizaciones = $_POST["Actualizaciones"];
        $Recargos = $_POST["Recargos"];
        $Importe2 = $Importe * 0.02;
        $resultado = $Importe2 + $Actualizaciones + $Recargos;
        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="S_nomina" id="S_nomina" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function SNomina_2() {
        $Importe = $_POST["Importe"];
        $Importe2 = $Importe * 0.02;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $Importe2 ?>" readonly="readonly">
        <br />
        <?php
    }

//funciones Impuesto sobre hospedaje 

    public function Hospedj() {
        $Importe = $_POST["Importe"];
        $Actualizaciones = $_POST["Actualizaciones"];
        $Recargos = $_POST["Recargos"];
        $Importe2 = $Importe * 0.02;
        $resultado = $Importe2 + $Actualizaciones + $Recargos;

        $resultado = ceil($resultado);
        ?>
        <input  class="form-control" name="Hospedaje" id="Hospedaje" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Hospedj_2() {
        $Importe = $_POST["Importe"];
        $Importe2 = $Importe * 0.02;
        ?>
        <input  class="form-control" name="ACargo" id="ACargo" value="<?php echo $Importe2 ?>" readonly="readonly">
        <br />
        <?php
    }

//funciones R21 IVA

    public function SumaIngresos() {
        $Ingresos = $_POST["Ingresos"];
        $Otrosingresos = $_POST["Otrosingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $resultado = $Ingresos + $Otrosingresos + $Ingresoscobrados - $Ingresosnocobrados;
        ?>
        <input class="form-control" name="TotalIngresos" id="TotalIngresos" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVAtrasladado() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado = $suma * 0.16;
        ?>
        <input class="form-control" name="IVAtrasladado" id="IVAtrasladado" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function GastosConIVA() {
        $ivaacreditable = $_POST["ivaacreditable"];
        $resultado = $ivaacreditable / 0.16;
        ?>
        <input class="form-control" name="GastosconIVA" id="GastosconIVA" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function GastossinIVA() {
        $ivaacreditable = $_POST["ivaacreditable"];
        $Totalgastos = $_POST["Totalgastos"];
        $resultado1 = $ivaacreditable / 0.16;
        $resultado = $Totalgastos - $resultado1;
        ?>
        <input class="form-control" name="GastossinIVA" id="GastossinIVA" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVAFavor() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;
        ?>
        <input class="form-control" name="IVAFavor" id="IVAFavor" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function IVAPagar() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;
        ?>
        <input class="form-control" name="IVApagar" id="IVApagar" value="<?php echo $respuesta ?>" readonly="readonly">
        <br />
        <?php
    }

    public function GastosConIVA2() {
        $ivaacreditable = $_POST["ivaacreditable"];
        $resultado = $ivaacreditable / 0.16;
        ?>
        <input class="form-control" name="Total_actos16" id="Total_actos16" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function GastosConIVA3() {
        $ivaacreditable = $_POST["ivaacreditable"];
        $resultado = $ivaacreditable;
        ?>
        <input class="form-control" name="DTotal_actos16" id="DTotal_actos16" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function GastosSinIVA3() {
        $ivaacreditable = $_POST["ivaacreditable"];
        $Totalgastos = $_POST["Totalgastos"];
        $resultado1 = $ivaacreditable / 0.16;
        $resultado = $Totalgastos - $resultado1;
        ?>
        <input class="form-control" name="Total_actos0" id="Total_actos0" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function Valor_actos16() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $resultado = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        ?>
        <input class="form-control" name="Valor_actos16" id="Valor_actos16" value="<?php echo $resultado ?>" readonly="readonly">
        <br />
        <?php
    }

    public function PA_Cargo() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $Acredit_Saldo_favor = $_POST["Acredit_Saldo_favor"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;

        $resp = $respuesta - $Acredit_Saldo_favor;
        ?>
        <input class="form-control" name="PA_Cargo" id="PA_Cargo" value="<?php echo $resp ?>" readonly="readonly">
        <br />
        <?php
    }

    public function CantPagar2() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $Acredit_Saldo_favor = $_POST["Acredit_Saldo_favor"];
        $Pparte_Actualizada = $_POST["Pparte_Actualizada"];
        $PParte_recargos = $_POST["PParte_recargos"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;

        $resp = $respuesta - $Acredit_Saldo_favor + $PParte_recargos + $Pparte_Actualizada;
        ?>
        <input class="form-control" name="PTotal_contribuciones" id="PTotal_contribuciones" value="<?php echo $resp ?>" readonly="readonly">
        <br />
        <?php
    }

    public function CantPagar21() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $Acredit_Saldo_favor = $_POST["Acredit_Saldo_favor"];
        $Pparte_Actualizada = $_POST["Pparte_Actualizada"];
        $PParte_recargos = $_POST["PParte_recargos"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;

        $resp = $respuesta - $Acredit_Saldo_favor + $PParte_recargos + $Pparte_Actualizada;
        ?>
        <input class="form-control" name="PTotal_contribuciones" id="PTotal_contribuciones" value="<?php echo $resp ?>" readonly="readonly">
        <br />
        <?php
    }

    public function CantPagar22() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $Acredit_Saldo_favor = $_POST["Acredit_Saldo_favor"];
        $Pparte_Actualizada = $_POST["Pparte_Actualizada"];
        $PParte_recargos = $_POST["PParte_recargos"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;

        $resp = $respuesta - $Acredit_Saldo_favor + $PParte_recargos + $Pparte_Actualizada;
        ?>
        <input class="form-control" name="PCant_cargo" id="PCant_cargo" value="<?php echo $resp ?>" readonly="readonly">
        <br />
        <?php
    }

    public function CantPagar23() {
        $Ingresos = $_POST["Ingresos"];
        $Ingresoscobrados = $_POST["Ingresoscobrados"];
        $Ingresosnocobrados = $_POST["Ingresosnocobrados"];
        $ivaacreditable = $_POST["ivaacreditable"];
        $Acredit_Saldo_favor = $_POST["Acredit_Saldo_favor"];
        $Pparte_Actualizada = $_POST["Pparte_Actualizada"];
        $PParte_recargos = $_POST["PParte_recargos"];
        $suma = $Ingresos + $Ingresoscobrados - $Ingresosnocobrados;
        $resultado1 = $suma * 0.16;
        if ($resultado1 < $ivaacreditable) {
            $resultado = $ivaacreditable - $resultado1;
        } else
            $resultado = 0;

        if ($resultado1 > $ivaacreditable) {
            $respuesta = $ivaacreditable - $resultado1 - $resultado;
            if ($respuesta < 0) {
                $respuesta = abs($respuesta);
            }
        } else
            $respuesta = 0;

        $resp = $respuesta - $Acredit_Saldo_favor + $PParte_recargos + $Pparte_Actualizada;

        $resp = ceil($resp);
        ?>
        <input class="form-control" name="PCant_pagar" id="PCant_pagar" value="<?php echo $resp ?>" readonly="readonly">
        <br />
        <?php
    }

//************************************************________Fin Calculo de impuestos__________***********************************************  
//************************************************____________Referenciados__________**************************************************
    public function do_upload() {
        $Numero = $this->input->post('Numero');
        $config['upload_path'] = $this->folder;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Numero;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su información con número de Folio:\n' . $Numero . ' \n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Tipo = $this->input->post('Tipo');
                $Numero = $this->input->post('Numero');
                $Sinnumero = $this->input->post('Sinnumero');
                $Categoria = $this->input->post('Categoria');
                $CopiConocimiento = $this->input->post('CopiConocimiento');
                $Asunto = $this->input->post('Asunto');
                $Prioridad = $this->input->post('Prioridad');
                $FechaDocumento = $this->input->post('FechaDocumento');
                $NombreExterno = $this->input->post('NombreExterno');
                $Cliente = $this->input->post('Cliente');
                $RemitenteExterno = $this->input->post('RemitenteExterno');
                $AreaInterno = $this->input->post('AreaInterno');
                $PuestoInterno = $this->input->post('PuestoInterno');
                $NombreInterno = $this->input->post('NombreInterno');
                $Servicio = $this->input->post('Servicio');
                $Actividad = $this->input->post('Actividad');
                $AreaDestinatario = $this->input->post('AreaDestinatario');
                $PuestoDestinatario = $this->input->post('PuestoDestinatario');
                $NombreDestinatario = $this->input->post('NombreDestinatario');
                $NombreRecibe = $this->input->post('NombreRecibe');
                $AreaRecibe = $this->input->post('AreaRecibe');
                $PuestoRecibe = $this->input->post('PuestoRecibe');
                $FechaRecibe = $this->input->post('FechaRecibe');
                $HoraRecibe = $this->input->post('HoraRecibe');
                $FormatoDocumento = $this->input->post('FormatoDocumento');
                $AreaUbicacion = $this->input->post('AreaUbicacion');
                $Ubicacion = $this->input->post('Ubicacion');
                $datos = $this->datos->getReferenciados(
                        $Tipo, $Numero, $Sinnumero, $Categoria, $CopiConocimiento, $Asunto, $Prioridad, $FechaDocumento, $NombreExterno, $Cliente, $RemitenteExterno, $AreaInterno, $PuestoInterno, $NombreInterno, $Servicio, $Actividad, $AreaDestinatario, $PuestoDestinatario, $NombreDestinatario, $NombreRecibe, $AreaRecibe, $PuestoRecibe, $FechaRecibe, $HoraRecibe, $FormatoDocumento, $AreaUbicacion, $Ubicacion
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $indiceuser = $this->input->post('user');
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo2");
            $d_RefTipo2 = $this->RefTipo2->getRefTipo2($where);
            $data['RefTipo2'] = $d_RefTipo2;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD Categoria
            $where = '';
            $this->load->model("modelo", "RefCategoria");
            $d_RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $data['RefCategoria'] = $d_RefCategoria;

            $data['contentView'] = 'Referenciados';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Tipo = $this->input->post('Tipo');
            $Numero = $this->input->post('Numero');
            $Sinnumero = $this->input->post('Sinnumero');
            $Categoria = $this->input->post('Categoria');
            $CopiConocimiento = $this->input->post('CopiConocimiento');
            $Asunto = $this->input->post('Asunto');
            $Prioridad = $this->input->post('Prioridad');
            $FechaDocumento = $this->input->post('FechaDocumento');
            $NombreExterno = $this->input->post('NombreExterno');
            $Cliente = $this->input->post('Cliente');
            $RemitenteExterno = $this->input->post('RemitenteExterno');
            $AreaInterno = $this->input->post('AreaInterno');
            $PuestoInterno = $this->input->post('PuestoInterno');
            $NombreInterno = $this->input->post('NombreInterno');
            $Servicio = $this->input->post('Servicio');
            $Actividad = $this->input->post('Actividad');
            $AreaDestinatario = $this->input->post('AreaDestinatario');
            $PuestoDestinatario = $this->input->post('PuestoDestinatario');
            $NombreDestinatario = $this->input->post('NombreDestinatario');
            $NombreRecibe = $this->input->post('NombreRecibe');
            $AreaRecibe = $this->input->post('AreaRecibe');
            $PuestoRecibe = $this->input->post('PuestoRecibe');
            $FechaRecibe = $this->input->post('FechaRecibe');
            $HoraRecibe = $this->input->post('HoraRecibe');
            $FormatoDocumento = $this->input->post('FormatoDocumento');
            $AreaUbicacion = $this->input->post('AreaUbicacion');
            $Ubicacion = $this->input->post('Ubicacion');
            $datos = $this->datos->getReferenciados(
                    $Tipo, $Numero, $Sinnumero, $Categoria, $CopiConocimiento, $Asunto, $Prioridad, $FechaDocumento, $NombreExterno, $Cliente, $RemitenteExterno, $AreaInterno, $PuestoInterno, $NombreInterno, $Servicio, $Actividad, $AreaDestinatario, $PuestoDestinatario, $NombreDestinatario, $NombreRecibe, $AreaRecibe, $PuestoRecibe, $FechaRecibe, $HoraRecibe, $FormatoDocumento, $AreaUbicacion, $Ubicacion
            );
            echo '<script>alert("El documento ha sido registrado con número de Folio:\n' . $Numero . ' \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $indiceuser = $this->input->post('user');
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo2");
            $d_RefTipo2 = $this->RefTipo2->getRefTipo2($where);
            $data['RefTipo2'] = $d_RefTipo2;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD Categoria
            $where = '';
            $this->load->model("modelo", "RefCategoria");
            $d_RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $data['RefCategoria'] = $d_RefCategoria;
            $data['scripts'] = array('upload_data' => $this->upload->data());
            $data['contentView'] = 'Referenciados';
            $this->_renderView($data);
        }
    }

    public function VG_Referenciados() {
        //Cargando usuarios
        $indiceuser = $this->input->get('i');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        //Abriendo BD estatus
        $this->load->model("modelo", "RefEstatus");
        $RefEstatus = $this->RefEstatus->getEstatusRef();
        $data['RefEstatus'] = $RefEstatus;
        //Abriendo BD Categoria
        $this->load->model("modelo", "RefCategoria");
        $d_RefCategoria = $this->RefCategoria->getRefCategoria();
        $data['RefCategoria'] = $d_RefCategoria;
        //Abriendo BD referenciados
        $this->load->model("modelo", "Referenciados");
        $Referenciados = $this->Referenciados->getRefTipo2();
        $data['Referenciados'] = $Referenciados;
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Estadisticas_Ref';
        $this->_renderView($data);
    }

    public function ResultadoRef() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "cliente");
        if ($ID[0] == 'D') {
            $datos = $this->cliente->getResultadoRef2($ID);
        } else {
            $datos = $this->cliente->getResultadoRef($ID);
        }
        if ($ID == '0') {
            $where = '';
            $data = $this->cliente->getResultadoRefALL();
            $this->load->model("modelo", "RefCategoria");
            $RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            ?> 
            <table width="100%" border="1" bordercolor="#9c9a9a">
            <?php foreach ($data as $cliente1) { ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-xs-12 col-sm-4" align="center">
                <?php echo $cliente1->Numero; ?>
                            </div>
                            <div class="col-xs-12 col-sm-4"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Estatus as $Estatus1) {
                    if ($Estatus1->id_estatus == $cliente1->Estatus) {
                        $respuesta = $Estatus1->dsc_estatus;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-xs-12 col-sm-4"  align="center">
                <?php
                $respuesta = '-';
                foreach ($RefCategoria as $RefCategoria1) {
                    if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                        $respuesta = $RefCategoria1->dsc_categoria;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>
            </table>
            <?php
        }
        if (!empty($datos)) {
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $this->load->model("modelo", "RefTipo");
            $RefTipo = $this->RefTipo->getRefTipo($where);
            $this->load->model("modelo", "RefCategoria");
            $RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $this->load->model("modelo", "Responsables");
            $responsables = $this->Responsables->getResponsable($where);
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            foreach ($datos as $cliente1)
                $nombre = $cliente1->Numero;
            $extension = '.pdf';
            $archivo = $nombre . $extension;
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
            <?php echo $cliente1->Numero; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Tipo:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($RefTipo as $RefTipo1) {
                if ($RefTipo1->id_tipo == $cliente1->Tipo) {
                    $respuesta = $RefTipo1->dsc_tipo;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Categoría:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($RefCategoria as $RefCategoria1) {
                if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                    $respuesta = $RefCategoria1->dsc_categoria;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Prioridad:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->Prioridad; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Estatus:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Estatus as $Estatus1) {
                if ($Estatus1->id_estatus == $cliente1->Estatus) {
                    $respuesta = $Estatus1->dsc_estatus;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            REMITENTE EXTERNO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($ID_cliente as $clientes1) {
                if ($clientes1->Folio == $cliente1->Cliente) {
                    $respuesta = $clientes1->NombreC;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>

                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->RemitenteExterno; ?> 
                            </div>
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->NombreExterno; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            REMITENTE INTERNO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreInterno) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $cliente1->PuestoInterno) {
                    $respuesta = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaInterno) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            RECEPCION
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreRecibe) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaRecibe) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $cliente1->PuestoRecibe) {
                    $respuesta = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->FechaRecibe; ?> 
                            </div>
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->HoraRecibe; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            DESTINATARIO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreDestinatario) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaDestinatario) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $cliente1->PuestoDestinatario) {
                    $respuesta = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->Actividad; ?> 
                            </div>
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->Servicio; ?>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            ARCHIVO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->FormatoDocumento; ?>
                            </div>
                            <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaUbicacion) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?> 
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
                            <div class="col-md-6 col-xs-12"  style="color:#ff6600">
            <?php echo $cliente1->Ubicacion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php
            $files = get_filenames($this->folder, FALSE);
            foreach ($files as $file) {
                $ext = substr($file, strpos($file, ".") + strlen("."));
                $name = substr($file, 0, strpos($file, "."));
                if ($name == $nombre) {
                    ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                    echo anchor('controlador/downloads/' . $file, $file) . br(1);
                    ?>
                                    </div>
                                    <div class="col-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Referenciados/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                <?php }
            }
            ?>
                        </div>
                    </td>
                </tr>
            </table>
            <?php
        }
    }

    public function View_Referenciados() {
        //Cargando usuarios
        $indiceuser = $this->input->get('i');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getFuncionConsultaRef();
        $data['datos'] = $datos;
        //Gráfica
        $this->load->model("modelo", "RefTipo");
        $RefTipo = $this->RefTipo->getRefTipo($where);
        $data['RefTipo'] = $RefTipo;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'V_Referenciados';
        $this->_renderView($data);
    }

//************************************************____________Fin Referenciados__________**************************************************
//************************************************____________Metas__________**************************************************

    public function Metas() {
        $this->load->model("modelo", "datos");
        $Ponderacion = $this->input->post('Ponderacion');
        $Descripcion = $this->input->post('Descripcion');
        $Meta = $this->input->post('Meta');
        $Estrategias = $this->input->post('Estrategias');
        $FormaEvidencia = $this->input->post('FormaEvidencia');
        $A = $this->input->post('A');
        $B = $this->input->post('B');
        $R = $this->input->post('R');
        $Sentido = $this->input->post('Sentido');
        $Frecuencia = $this->input->post('Frecuencia');
        $Unidad = $this->input->post('Unidad');
        $Situacion = $this->input->post('Situacion');
        $MetaxMes = $this->input->post('MetaxMes');
        $Meta1anos = $this->input->post('Meta1anos');
        $Meta5anos = $this->input->post('Meta5anos');
        $Responsable = $this->input->post('Responsable');
        $Fecha = $this->input->post('Fecha');
        $MesInicial = date("m");
        $AnioInicial = date("Y");
        $datos = $this->datos->getMetas(
                $Ponderacion, $Descripcion, $Meta, $Estrategias, $FormaEvidencia, $A, $B, $R, $Sentido, $Frecuencia, $Unidad, $Situacion, $MetaxMes, $Meta1anos, $Meta5anos, $Responsable, $Fecha, $MesInicial, $AnioInicial
        );
        echo '<script>alert("Se ha registrado su meta")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD tipo referenciado
        $where = '';
        $this->load->model("modelo", "RefTipo");
        $d_RefTipo = $this->RefTipo->getRefTipo($where);
        $data['RefTipo'] = $d_RefTipo;
        //Abriendo BD estatus
        $where = '';
        $this->load->model("modelo", "Estatus");
        $Estatus = $this->Estatus->getEstatusRef($where);
        $data['Estatus'] = $Estatus;
        //Abriendo BD responsables
        $where = '';
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Metas';
        $this->_renderView($data);
    }

    public function ActMetas() {
        $this->load->model("modelo", "datos");
        $IDMeta = $this->input->post('IDMeta');
        $Ponderacion = $this->input->post('Ponderacion');
        $Descripcion = $this->input->post('Descripcion');
        $Meta = $this->input->post('Meta');
        $Estrategias = $this->input->post('Estrategias');
        $FormaEvidencia = $this->input->post('FormaEvidencia');
        $A = $this->input->post('A');
        $B = $this->input->post('B');
        $R = $this->input->post('R');
        $Sentido = $this->input->post('Sentido');
        $Frecuencia = $this->input->post('Frecuencia');
        $Unidad = $this->input->post('Unidad');
        $Situacion = $this->input->post('Situacion');
        $MetaxMes = $this->input->post('MetaxMes');
        $Meta1anos = $this->input->post('Meta1anos');
        $Meta5anos = $this->input->post('Meta5anos');
        $Responsable = $this->input->post('Responsable');
        $Fecha = $this->input->post('Fecha');
        $datos = $this->datos->getACTMetas(
                $IDMeta, $Ponderacion, $Descripcion, $Meta, $Estrategias, $FormaEvidencia, $A, $B, $R, $Sentido, $Frecuencia, $Unidad, $Situacion, $MetaxMes, $Meta1anos, $Meta5anos, $Responsable, $Fecha
        );
        echo '<script>alert("Se ha actualizado la meta")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD tipo referenciado
        $where = '';
        $this->load->model("modelo", "RefTipo");
        $d_RefTipo = $this->RefTipo->getRefTipo($where);
        $data['RefTipo'] = $d_RefTipo;
        //Abriendo BD estatus
        $where = '';
        $this->load->model("modelo", "Estatus");
        $Estatus = $this->Estatus->getEstatusRef($where);
        $data['Estatus'] = $Estatus;
        //Abriendo BD responsables
        $where = '';
        $this->load->model("modelo", "Responsables");
        $d_responsables = $this->Responsables->getResponsable($where);
        $data['Responsables'] = $d_responsables;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Metas';
        $this->_renderView($data);
    }

    public function View_Metas() {
        $this->load->model("modelo", "datos");
        $ID = $this->input->post('ID');
        $indiceuser = $this->input->post('user');
        if ($ID == 1) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Gráfica
            $this->load->model("modelo", "Metas");
            $Metas = $this->Metas->getListaMetas();
            $data['Metas'] = $Metas;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'V_Metas';
            $this->_renderView($data);
        }
        if ($ID == 2) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Gráfica
            $this->load->model("modelo", "Metas");
            $Metas = $this->Metas->getListaMetas();
            $data['Metas'] = $Metas;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'V_Avance';
            $this->_renderView($data);
        }
        if ($ID == 3) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD tipo referenciado
            $where = '';
            $this->load->model("modelo", "RefTipo");

            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD estatus
            $where = '';
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            $data['Estatus'] = $Estatus;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Indicadores';
            $this->_renderView($data);
        }
        if ($ID == 4) {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Gráfica
            $this->load->model("modelo", "Metas");
            $Metas = $this->Metas->getListaMetas();
            $data['Metas'] = $Metas;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'IndicadoresEditar';
            $this->_renderView($data);
        }
    }

    public function AgregaEvidencia() {
        //Cargando usuarios
        $Meta = $this->input->get('M');
        $indiceuser = $this->input->get('i');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $this->load->model("modelo", "Meta");
        $Meta = $this->Meta->getMeta($Meta);
        $data['Meta'] = $Meta;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Evidencias';
        $this->_renderView($data);
    }

    public function VerEvidencia() {
        //Cargando usuarios
        $Meta = $this->input->get('M');
        $indiceuser = $this->input->get('i');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $this->load->model("modelo", "Meta");
        $Meta = $this->Meta->getMeta($Meta);
        $data['Meta'] = $Meta;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Avance';
        $this->_renderView($data);
    }

    public function ActualizarEvidencias() {
        $this->load->model("modelo", "datos");
        $Meta = $this->input->post('Meta');
        $Situacion = $this->input->post('Situacion');
        $Encargado = $this->input->post('Encargado');
        $An = $this->input->post('An');
        $Bn = $this->input->post('Bn');
        $FechaActualizaEvidencia = date("d/m/Y");
        $MesActualizaEvidencia = date("m");
        $AnioActualizaEvidencia = date("Y");
        if (empty($Encargado)) {
            if (empty($An) || empty($Bn)) {
                echo '<script>alert("Faltan las variables independientes")</script>';
            } else {
                $Rn = ($An / $Situacion) * 100;
                $datos = $this->datos->getActualizarEvidencias1(
                        $Meta, $An, $Bn, $Rn, $FechaActualizaEvidencia, $MesActualizaEvidencia, $AnioActualizaEvidencia
                );
                $datas = $this->datos->getHistActualizarEvidencias1(
                        $Meta, $Situacion, $An, $Bn, $Rn, $FechaActualizaEvidencia, $MesActualizaEvidencia, $AnioActualizaEvidencia
                );
                echo '<script>alert("Se ha actualizado correctamente")</script>';
            }
        } else {
            if (empty($An) || empty($Bn)) {
                $datos = $this->datos->getActualizarEvidencias2(
                        $Meta, $Encargado, $FechaActualizaEvidencia
                );
                echo '<script>alert("Se ha actualizado correctamente")</script>';
            } else {
                $Rn = ($An / $Situacion) * 100;
                $datos = $this->datos->getActualizarEvidencias(
                        $Meta, $Encargado, $An, $Bn, $Rn, $FechaActualizaEvidencia, $MesActualizaEvidencia, $AnioActualizaEvidencia
                );
                $datas = $this->datos->getHistActualizarEvidencias1(
                        $Meta, $Situacion, $An, $Bn, $Rn, $FechaActualizaEvidencia, $MesActualizaEvidencia, $AnioActualizaEvidencia
                );
                echo '<script>alert("Se ha actualizado correctamente")</script>';
            }
        }
        //Cargando usuarios
        $indiceuser = $this->input->post('user');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $this->load->model("modelo", "Meta");
        $Meta = $this->Meta->getMeta($Meta);
        $data['Meta'] = $Meta;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Evidencias';
        $this->_renderView($data);
    }

    public function ResultadoMetas() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getIDMetas($ID);
        foreach ($datos as $cliente1)
            
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
        <?php echo $cliente1->Ponderacion; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-xs-3 col-sm-3" align="right">
                            Descripción:
                        </div>
                        <div class="col-xs-3 col-sm-3" align="left" style="color:#ff6600">
        <?php echo $cliente1->Descripcion; ?>
                        </div>
                        <div class="col-xs-3 col-sm-3" align="right">
                            Meta:
                        </div>
                        <div class="col-xs-3 col-sm-3" align="left" style="color:#ff6600">
        <?php echo $cliente1->Meta; ?>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <?php
    }

    public function do_upload3() {
        $NameEvidencia = $this->input->post('NameEvidencia');
        $Numero = $this->input->post('Meta');
        $D = date("d");
        $M = date("m");
        $Y = date("Y");
        $config['upload_path'] = $this->folder3;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = "Meta_" . $Numero . "-" . $NameEvidencia . ' (' . $D . '-' . $M . '-' . $Y . ')';
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Es necesario un archivo adjunto \n")</script>';
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $indiceuser = $this->input->post('user');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Gráfica
            $this->load->model("modelo", "Meta");
            $Meta = $this->Meta->getMeta($Numero);
            $data['Meta'] = $Meta;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Evidencias';
            $this->_renderView($data);
        } else {
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            //Cargando usuarios
            $indiceuser = $this->input->post('user');
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Gráfica
            $this->load->model("modelo", "Meta");
            $Meta = $this->Meta->getMeta($Numero);
            $data['Meta'] = $Meta;
            // View render
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Evidencias';
            $this->_renderView($data);
        }
    }

    public function EditarMetas() {
        //Cargando usuarios
        $IDMeta = $this->input->post('IDMeta');
        $indiceuser = $this->input->post('user');
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Gráfica
        $this->load->model("modelo", "Meta");
        $Meta = $this->Meta->getIDMeta($IDMeta);
        $data['Meta'] = $Meta;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'IndicadoresActualizar';
        $this->_renderView($data);
    }

//************************************************____________Fin Metas__________**************************************************    
//******************************************__________Notificacion_____________________********************************************************
    public function Notificar() {
        //Cargando usuarios
        $where = '';
        $indiceuser = $this->input->post('user');
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo el  id del Cliente
        $this->load->model("modelo", "datos");
        $cliente = $this->input->post('ID_cliente');
        //Abriendo BD Cliente
        $this->load->model("modelo", "InfCliente");
        $d_InfCliente = $this->InfCliente->getInfCliente($cliente);
        $data['InfCliente'] = $d_InfCliente;
        //Abriendo BD declaraciones
        $where = '';
        $this->load->model("modelo", "Declaraciones");
        $d_Declaraciones = $this->Declaraciones->getTotalesDeclaracionesID2($cliente);
        $data['DeclaracionesSN'] = $d_Declaraciones;
        //Abriendo BD meses
        $where = '';
        $this->load->model("modelo", "Meses");
        $Meses = $this->Meses->getMeses($where);
        $data['Meses'] = $Meses;
        //Abriendo BD Rama
        $this->load->model("modelo", "Rama");
        $d_Rama = $this->Rama->getRama();
        $data['Rama'] = $d_Rama;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Notificar';
        $this->_renderView($data);
    }

    public function NotificandoISR() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "ISR");
        $datos = $this->ISR->getISRNotificacionR($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R = $cliente1->CantCargo_R;

        if (empty($R))
            $R = 0;
        $datos = $this->ISR->getISRNotificacionAGASIPE($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $RAg = $cliente1->CantPagar;

        if (empty($RAg))
            $RAg = 0;
        $datos = $this->ISR->getISRNotificacionR1($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R1 = $cliente1->CantPagar;
        if (empty($R1))
            $R1 = 0;
        $datos = $this->ISR->getISRNotificacionR5($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R5 = $cliente1->CantCargo_R;
        if (empty($R5))
            $R5 = 0;
        $datos = $this->ISR->getISRNotificacionR12($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R12 = $cliente1->CantCargo_R;
        if (empty($R12))
            $R12 = 0;
        $datos = $this->ISR->getISRNotificacionR14($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R14 = $cliente1->CPagar;
        if (empty($R14))
            $R14 = 0;

        $datos = $this->ISR->getISRNotificacionR7($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R7 = $cliente1->CPagar;
        if (empty($R7))
            $R7 = 0;

        $datos = $this->ISR->getISRNotificacionR10($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R10 = $cliente1->CantPagar;
        if (empty($R10))
            $R10 = 0;

        $datos = $this->ISR->getISRNotificacionR15($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R15 = $cliente1->CantCargo_R;
        if (empty($R15))
            $R15 = 0;
        //echo "R=".$R.", R1=".$R1.", R5=".$R5.", R12=".$R12.", R14=".$R14.", R15=".$R15;
        $RTotal = $R + $R1 + $RAg + $R5 + $R12 + $R14 + $R7 + $R10 + $R15;
        ?>
        <input class="form-control" name="ISR" id="ISR"  value="<?php echo $RTotal ?>">
        <br />
        <?php
    }

    public function NotificandoIVA() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "IVA");
        $datos = $this->IVA->getIVANotificacionR21($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R21 = $cliente1->PCant_pagar;
        if (empty($R21))
            $R21 = 0;
        $datos = $this->IVA->getIVANotificacionR24($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R24 = $cliente1->Cant_Pagar;
        if (empty($R24))
            $R24 = 0;
        $IVATotal = $R21 + $R24;
        ?>
        <input class="form-control" name="IVA" id="IVA"  value="<?php echo $IVATotal ?>">
        <br />
        <?php
    }

    public function NotificandoNomina() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "Nomina");
        $datos = $this->Nomina->getNotificacionNomina($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $Nomina = $cliente1->S_nomina;
        if (empty($Nomina))
            $Nomina = 0;
        ?>
        <input class="form-control" name="NOMINA" id="NOMINA"  value="<?php echo $Nomina ?>">
        <br />
        <?php
    }

    public function NotificandoCedular() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "Cedular");
        $datos = $this->Cedular->getNotificacionCedularA($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularA = $cliente1->Total_Impuesto;
        if (empty($CedularA))
            $CedularA = 0;
        $datos = $this->Cedular->getNotificacionCedularG($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularG = $cliente1->Total_Impuesto;
        if (empty($CedularG))
            $CedularG = 0;
        $datos = $this->Cedular->getNotificacionCedularH($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularH = $cliente1->Total_Impuesto;
        if (empty($CedularH))
            $CedularH = 0;
        $CedularTotal = $CedularA + $CedularG + $CedularH;
        ?>
        <input class="form-control" name="CEDULAR" id="CEDULAR"  value="<?php echo $CedularTotal ?>">
        <br />
        <?php
    }

    public function NotificandoHospedaje() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "Hospedaje");
        $datos = $this->Hospedaje->getNotificacionHospedaje($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $Hospedaje = $cliente1->Hospedaje;
        if (empty($Hospedaje))
            $Hospedaje = 0;
        ?>
        <input class="form-control" name="HOSPEDAJE" id="HOSPEDAJE"  value="<?php echo $Hospedaje ?>">
        <br />
        <?php
    }

    public function NotificandoFederal() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "ISR");
        $datos = $this->ISR->getISRNotificacionR($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R = $cliente1->CantCargo_R;

        if (empty($R))
            $R = 0;
        $datos = $this->ISR->getISRNotificacionAGASIPE($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $RAg = $cliente1->CantPagar;

        if (empty($RAg))
            $RAg = 0;
        $datos = $this->ISR->getISRNotificacionR1($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R1 = $cliente1->CantPagar;
        if (empty($R1))
            $R1 = 0;
        $datos = $this->ISR->getISRNotificacionR5($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R5 = $cliente1->CantCargo_R;
        if (empty($R5))
            $R5 = 0;
        $datos = $this->ISR->getISRNotificacionR12($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R12 = $cliente1->CantCargo_R;
        if (empty($R12))
            $R12 = 0;
        $datos = $this->ISR->getISRNotificacionR14($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R14 = $cliente1->CPagar;
        if (empty($R14))
            $R14 = 0;

        $datos = $this->ISR->getISRNotificacionR7($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R7 = $cliente1->CPagar;
        if (empty($R7))
            $R7 = 0;

        $datos = $this->ISR->getISRNotificacionR10($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R10 = $cliente1->CantPagar;
        if (empty($R10))
            $R10 = 0;

        $datos = $this->ISR->getISRNotificacionR15($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R15 = $cliente1->CantCargo_R;
        if (empty($R15))
            $R15 = 0;
        //echo "R=".$R.", R1=".$R1.", R5=".$R5.", R12=".$R12.", R14=".$R14.", R15=".$R15;
        $RTotal = $R + $R1 + $RAg + $R5 + $R12 + $R14 + $R7 + $R10 + $R15;
        $this->load->model("modelo", "IVA");
        $datos = $this->IVA->getIVANotificacionR21($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R21 = $cliente1->PCant_pagar;
        if (empty($R21))
            $R21 = 0;
        $datos = $this->IVA->getIVANotificacionR24($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R24 = $cliente1->Cant_Pagar;
        if (empty($R24))
            $R24 = 0;
        $IVATotal = $R21 + $R24;
        $Federales = $RTotal + $IVATotal;
        ?>
        <input class="form-control" name="FEDERALES" id="FEDERALES"  value="<?php echo $Federales ?>">
        <br />
                        <?php
                    }

                    public function NotificandoEstatal() {
                        $Anio = $_POST["Anio"];
                        $meses = $_POST["meses"];
                        $Folio = $_POST["Folio"];
                        $this->load->model("modelo", "Nomina");
                        $datos = $this->Nomina->getNotificacionNomina($Anio, $meses, $Folio);
                        foreach ($datos as $cliente1)
                            $Nomina = $cliente1->S_nomina;
                        if (empty($Nomina))
                            $Nomina = 0;
                        $this->load->model("modelo", "Cedular");
                        $datos = $this->Cedular->getNotificacionCedularA($Anio, $meses, $Folio);
                        foreach ($datos as $cliente1)
                            $CedularA = $cliente1->Total_Impuesto;
                        if (empty($CedularA))
                            $CedularA = 0;
                        $datos = $this->Cedular->getNotificacionCedularG($Anio, $meses, $Folio);
                        foreach ($datos as $cliente1)
                            $CedularG = $cliente1->Total_Impuesto;
                        if (empty($CedularG))
                            $CedularG = 0;
                        $datos = $this->Cedular->getNotificacionCedularH($Anio, $meses, $Folio);
                        foreach ($datos as $cliente1)
                            $CedularH = $cliente1->Total_Impuesto;
                        if (empty($CedularH))
                            $CedularH = 0;
                        $CedularTotal = $CedularA + $CedularG + $CedularH;
                        $this->load->model("modelo", "Hospedaje");
                        $datos = $this->Hospedaje->getNotificacionHospedaje($Anio, $meses, $Folio);
                        foreach ($datos as $cliente1)
                            $Hospedaje = $cliente1->Hospedaje;
                        if (empty($Hospedaje))
                            $Hospedaje = 0;
                        $Estatales = $Nomina + $CedularTotal + $Hospedaje;
                        ?>
        <input class="form-control" name="ESTATALES" id="ESTATALES"  value="<?php echo $Estatales ?>">
        <br />
        <?php
    }

    public function NotificandoTotal() {
        $Anio = $_POST["Anio"];
        $meses = $_POST["meses"];
        $Folio = $_POST["Folio"];
        $this->load->model("modelo", "ISR");
        $datos = $this->ISR->getISRNotificacionR($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R = $cliente1->CantCargo_R;

        if (empty($R))
            $R = 0;
        $datos = $this->ISR->getISRNotificacionAGASIPE($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $RAg = $cliente1->CantPagar;

        if (empty($RAg))
            $RAg = 0;
        $datos = $this->ISR->getISRNotificacionR1($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R1 = $cliente1->CantPagar;
        if (empty($R1))
            $R1 = 0;
        $datos = $this->ISR->getISRNotificacionR5($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R5 = $cliente1->CantCargo_R;
        if (empty($R5))
            $R5 = 0;
        $datos = $this->ISR->getISRNotificacionR12($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R12 = $cliente1->CantCargo_R;
        if (empty($R12))
            $R12 = 0;
        $datos = $this->ISR->getISRNotificacionR14($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R14 = $cliente1->CPagar;
        if (empty($R14))
            $R14 = 0;

        $datos = $this->ISR->getISRNotificacionR7($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R7 = $cliente1->CPagar;
        if (empty($R7))
            $R7 = 0;

        $datos = $this->ISR->getISRNotificacionR10($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R10 = $cliente1->CantPagar;
        if (empty($R10))
            $R10 = 0;

        $datos = $this->ISR->getISRNotificacionR15($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R15 = $cliente1->CantCargo_R;
        if (empty($R15))
            $R15 = 0;
        //echo "R=".$R.", R1=".$R1.", R5=".$R5.", R12=".$R12.", R14=".$R14.", R15=".$R15;
        $RTotal = $R + $R1 + $RAg + $R5 + $R12 + $R14 + $R7 + $R10 + $R15;
        $this->load->model("modelo", "IVA");
        $datos = $this->IVA->getIVANotificacionR21($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R21 = $cliente1->PCant_pagar;
        if (empty($R21))
            $R21 = 0;
        $datos = $this->IVA->getIVANotificacionR24($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $R24 = $cliente1->Cant_Pagar;
        if (empty($R24))
            $R24 = 0;
        $IVATotal = $R21 + $R24;
        $Federales = $RTotal + $IVATotal;
        $this->load->model("modelo", "Nomina");
        $datos = $this->Nomina->getNotificacionNomina($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $Nomina = $cliente1->S_nomina;
        if (empty($Nomina))
            $Nomina = 0;
        $this->load->model("modelo", "Cedular");
        $datos = $this->Cedular->getNotificacionCedularA($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularA = $cliente1->Total_Impuesto;
        if (empty($CedularA))
            $CedularA = 0;
        $datos = $this->Cedular->getNotificacionCedularG($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularG = $cliente1->Total_Impuesto;
        if (empty($CedularG))
            $CedularG = 0;
        $datos = $this->Cedular->getNotificacionCedularH($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $CedularH = $cliente1->Total_Impuesto;
        if (empty($CedularH))
            $CedularH = 0;
        $CedularTotal = $CedularA + $CedularG + $CedularH;
        $this->load->model("modelo", "Hospedaje");
        $datos = $this->Hospedaje->getNotificacionHospedaje($Anio, $meses, $Folio);
        foreach ($datos as $cliente1)
            $Hospedaje = $cliente1->Hospedaje;
        if (empty($Hospedaje))
            $Hospedaje = 0;
        $Estatales = $Nomina + $CedularTotal + $Hospedaje;
        $Total = $Federales + $Estatales;
        ?>
        <input class="form-control" name="TOTAL" id="TOTAL"  value="<?php echo $Total ?>">
        <br />
        <?php
    }

    public function Enviar_mail2() {
        $indiceuser = $this->input->post('user');
        $this->load->model("modelo", "datos");
        $Folio = $this->input->post('Folio');
        $Mes = $this->input->post('meses');
        $ISR = $this->input->post('ISR');
        $IVA = $this->input->post('IVA');
        $NOMINA = $this->input->post('NOMINA');
        $CEDULAR = $this->input->post('CEDULAR');
        $HOSPEDAJE = $this->input->post('HOSPEDAJE');
        $FEDERALES = $this->input->post('FEDERALES');
        $ESTATALES = $this->input->post('ESTATALES');
        $TOTAL = $this->input->post('TOTAL');
        $FECHA = date("d/m/Y");
        $datos = $this->datos->getTotalCalculo(
                $Folio, $Mes, $ISR, $IVA, $NOMINA, $CEDULAR, $HOSPEDAJE, $FEDERALES, $ESTATALES, $TOTAL, $FECHA
        );
        foreach ($datos as $ultimo) {
            $Identificador = $ultimo->id;
        }
        $datos = $this->datos->getenvcorreo2($Folio, $Identificador);
        echo '<script>alert("Se ha enviado un correo electrónico para que regrese en una próxima ocasión")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CalculoImpuestos';
        $this->_renderView($data);
    }

//***************************************_________Fin Notificacion___________********************************************************************	
//********************************************_________Cobranza____________*******************************************************   
    public function Cobranza() {
        $this->load->model("modelo", "datos");
        $CobranzaID = $this->input->post('CobranzaID');
        $indiceuser = $this->input->post('user');
        $IDcobranza = $this->input->post('PagoPendiente');
        $where = '';
        if ($CobranzaID == 'C1') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD cliente
            $Tarifa = $this->ID_cliente->getTarifa();
            $data['Tarifa'] = $Tarifa;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaOrden';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C2') {
            $this->load->model("modelo", "General");
            $USUARIOS = $this->General->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $d_ID_cliente = $this->General->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaTramitePendientes';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C3') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaRecibos';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C4') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            $data['scripts'] = array('cliente');
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['contentView'] = 'CobranzaEdoCuenta';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C5') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaEdoDeposito';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C6') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaEdoIngreso';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C7') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaTabulador';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C8') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "Clientes");
            $d_ID_cliente = $this->Clientes->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD meses
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaHonorarios';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C9') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "Clientes");
            $d_ID_cliente = $this->Clientes->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD meses
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaTotal';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'CP') {
            $this->load->model("modelo", "General");
            $USUARIOS = $this->General->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo cobranza
            $Cobranza = $this->General->getCobranzaxID($IDcobranza);
            $data['Cobranza'] = $Cobranza;
            //Abriendo BD Cuentas
            $this->load->model("modelo", "Cuentas");
            $Cuentas = $this->Cuentas->getCuentasALL();
            $data['Cuentas'] = $Cuentas;
            //Abriendo BD cliente
            $d_ID_cliente = $this->General->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo Tarifa
            $Tarifa = $this->General->getTarifa();
            $data['Tarifa'] = $Tarifa;
            //Abriendo BD ultimopago
            $UltimoPago = $this->General->getUltimoPago($IDcobranza);
            $data['UltimoPago'] = $UltimoPago;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaTramite';
            $this->_renderView($data);
        }
        if ($CobranzaID == 'C10') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Responsables	
            $data['Responsables'] = $USUARIOS;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'CobranzaBorrar';
            $this->_renderView($data);
        }
    }

    public function BorrarCobroPen() {
        $Fecha = date("d/m/y");
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $PagosP = $this->input->post('CobroPendiente');
        $IDCliente = $this->input->post('ID_cliente');

        //Abriendo BD cliente
        $this->load->model("modelo", "recibos");
        $recibos = $this->recibos->getRecibos($PagosP);
        foreach ($recibos as $recibos1) {
            
        }
        $folio = $recibos1->ID_cliente;
        $mes = $recibos1->mes;
        $anio = $recibos1->anio;

        $datos = $this->datos->getBorrarPagoPendiente(
                $PagosP
        );
        $honorariosborra = $this->datos->getBorrardeHonorarios(
                $folio, $mes, $anio
        );

        echo '<script>alert("Se ha borrado el cobro ")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Responsables	
        $data['Responsables'] = $USUARIOS;
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CobranzaBorrar';
        $this->_renderView($data);
    }

    public function OrdenCobro() {
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $ID_cliente = $this->input->post('ID_cliente');
        $ConceptoCobro = $this->input->post('ConceptoCobro');
        $Id_tarifa = $this->input->post('Id_tarifa');
        $MontoPagar = $this->input->post('MontoPagar');
        $FechaCobro = $this->input->post('FechaCobro');
        $IdResponsableServicio = $this->input->post('IdResponsableServicio');
        $IdResponsableOrden = $this->input->post('IdResponsableOrden');
        $FolioCobranza = $ID_cliente . date("-ymd-His");
        $Mes = date("m");
        $Anio = date("Y");
        $datos = $this->datos->getOrdenCobro(
                $ID_cliente, $ConceptoCobro, $Id_tarifa, $MontoPagar, $FechaCobro, $IdResponsableServicio, $IdResponsableOrden, $FolioCobranza, $Mes, $Anio
        );
        echo '<script>alert("Registrada la orden de cobro")</script>';
        //Abriendo usuarios
        $this->load->model("modelo", "General");
        $USUARIOS = $this->General->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cobranza';
        $this->_renderView($data);
    }

    public function HonoOrdenCobro() {
        $where = '';
        $this->load->model("modelo", "General");
        $indiceuser = $this->input->post('user');
        $Mes = $this->input->post('meses');
        $Anio = $this->input->post('anio');
        //Abriendo BD cliente
        //$Clientes = $this->General->getHonorariosCliente($indiceuser);

        $Clientes = $this->General->getHonorariosCliente2();
        //Abriendo BD honorarios cobrados
        $HClientesCobros = $this->General->getHonorariosCobrados2($Mes, $Anio);
        //Abriendo BD meses
        $this->load->model("modelo", "Meses");
        $IDMeses = $this->Meses->getMeses($where);
        $respuesta = '-';
        foreach ($IDMeses as $IDMeses1) {
            if ($IDMeses1->id_meses == $Mes) {
                $respuesta = $IDMeses1->dsc_meses;
            }
        }


        $i = 0;
        foreach ($Clientes as $Clientes1) {
            $encontrado = 'No';
            foreach ($HClientesCobros as $HClientesCobros1) {
                if ($HClientesCobros1->IDCliente == $Clientes1->Folio) {
                    $encontrado = 'Sí';
                }
            }
            if ($encontrado == 'No') {
                $ID_cliente = $Clientes1->Folio;
                $ConceptoCobro = 'Honorarios mensuales ' . $respuesta . ' ' . $Anio;
                $Id_tarifa = '1';
                $MontoPagar = $Clientes1->PagoDespacho;
                $FechaCobro = date("d/m/Y");
                $IdResponsableServicio = $Clientes1->id_responsable;
                $IdResponsableOrden = $indiceuser;
                $FolioCobranza = $ID_cliente . date("-ymd-His");
                $datos = $this->General->getOrdenCobro(
                        $ID_cliente, $ConceptoCobro, $Id_tarifa, $MontoPagar, $FechaCobro, $IdResponsableServicio, $IdResponsableOrden, $FolioCobranza, $Mes, $Anio
                );
                $IDCliente = $Clientes1->Folio;
                $MesHonorarios = $Mes;
                $AnioHonorarios = $Anio;
                $IDResponsable = $indiceuser;
                $datas = $this->General->getHonorariosCobro(
                        $IDCliente, $MesHonorarios, $AnioHonorarios, $IDResponsable
                );
                $i = $i + 1;
            }
        }
        echo '<script>alert("Registrada la orden de cobro por honorarios mensuales\n' . $i . ' cobros \n")</script>';
        //Abriendo usuarios
        $USUARIOS = $this->General->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cobranza';
        $this->_renderView($data);
    }

    public function IDHonoOrdenCobro() {
        $where = '';
        $this->load->model("modelo", "General");
        $indiceuser = $this->input->post('user2');
        $ID_cliente = $this->input->post('ID_cliente');
        $Mes = $this->input->post('meses2');
        $Anio = $this->input->post('anio2');
        //Abriendo BD cliente
        $this->load->model("modelo", "ID_cliente");
        $Clientes = $this->ID_cliente->getHIDCliente($ID_cliente);
        //Abriendo BD honorarios cobrados
        $HClientesCobros = $this->General->getHonorariosCobrados($indiceuser, $Mes, $Anio);
        //Abriendo BD meses
        $this->load->model("modelo", "Meses");
        $IDMeses = $this->Meses->getMeses($where);
        $respuesta = '-';

        foreach ($IDMeses as $IDMeses1) {
            if ($IDMeses1->id_meses == $Mes) {
                $respuesta = $IDMeses1->dsc_meses;
            }
        }

        $i = 0;
        foreach ($Clientes as $Clientes1) {
            $encontrado = 'No';
            foreach ($HClientesCobros as $HClientesCobros1) {
                if ($HClientesCobros1->IDCliente == $Clientes1->Folio) {
                    $encontrado = 'Sí';
                }
            }
            if ($encontrado == 'No') {
                $ID_cliente = $Clientes1->Folio;
                $ConceptoCobro = 'Honorarios mensuales ' . $respuesta . ' ' . $Anio;
                $Id_tarifa = '1';
                $MontoPagar = $Clientes1->PagoDespacho;
                $FechaCobro = date("d/m/Y");
                $IdResponsableServicio = $Clientes1->id_responsable;
                $IdResponsableOrden = $indiceuser;
                $FolioCobranza = $ID_cliente . date("-ymd-His");
                $datos = $this->General->getOrdenCobro(
                        $ID_cliente, $ConceptoCobro, $Id_tarifa, $MontoPagar, $FechaCobro, $IdResponsableServicio, $IdResponsableOrden, $FolioCobranza, $Mes, $Anio
                );
                $IDCliente = $Clientes1->Folio;
                $MesHonorarios = $Mes;
                $AnioHonorarios = $Anio;
                $IDResponsable = $indiceuser;
                $datas = $this->General->getHonorariosCobro(
                        $IDCliente, $MesHonorarios, $AnioHonorarios, $IDResponsable
                );
                $i = $i + 1;
            }
        }
        echo '<script>alert("Registrada la orden de cobro por honorarios mensuales\n' . $i . ' cobros \n")</script>';
        //Abriendo usuarios
        $USUARIOS = $this->General->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cobranza';
        $this->_renderView($data);
    }

    public function OrdenPago() {
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $CobranzaID = $this->input->post('CobranzaID');
        $FechaPago = $this->input->post('FechaPago');
        $UltimoPago = $this->input->post('UltimoPago');
        $FormaPago = $this->input->post('FormaPago');
        $BancoPago = $this->input->post('BancoPago');
        $CuentaPago = $this->input->post('CuentaPago');
        $Factura = $this->input->post('Factura');
        $NoFactura = $this->input->post('NoFactura');
        $FormaConsignarPago = $this->input->post('FormaConsignarPago');
        $FechaEntregaEfectivo = $this->input->post('FechaEntregaEfectivo');
        $FolioAcuseEntrega = $this->input->post('FolioAcuseEntrega');
        $CuentaDepositoBancario = $this->input->post('CuentaDepositoBancario');
        $FechaDepositoBancario = $this->input->post('FechaDepositoBancario');
        $ResponsabledeCobro = $this->input->post('ResponsabledeCobro');
        $Cobrado = $this->input->post('Cobrado');
        $Resto = $this->input->post('Resto');
        $Deposito = $this->input->post('Deposito');
        $Cliente = $this->input->post('Cliente');
        $datos = $this->datos->getOrdenPago(
                $CobranzaID, $FechaPago, $UltimoPago, $FormaPago, $BancoPago, $CuentaPago, $Factura, $NoFactura, $FormaConsignarPago, $FechaEntregaEfectivo, $FolioAcuseEntrega, $CuentaDepositoBancario, $FechaDepositoBancario, $ResponsabledeCobro, $Cobrado, $Resto, $Deposito, $Cliente
        );

        $Start = date_create_from_format('d/m/Y', $FechaDepositoBancario);
        $Fecha = date_format($Start, 'd/m/y');
        $CuentaFuente = $CuentaDepositoBancario;
        $monto = $this->input->post('Monto');
        if ($CuentaDepositoBancario != '0') {
            //Abriendo BD Cuentas
            $this->load->model("modelo", "HoySaldos");
            $HoySaldos = $this->HoySaldos->getHoySaldosALL($Fecha);
            foreach ($HoySaldos as $HoySaldos1) {
                if ($HoySaldos1->IDCuenta == $CuentaDepositoBancario) {
                    $Saldo = $HoySaldos1->Saldo;
                    $SaldoActual = $Saldo + $monto;
                }
            }
            if (!empty($HoySaldos)) {
                $datix = $this->datos->getRestaSaldoCuenta(
                        $SaldoActual, $CuentaFuente, $Fecha);
            }
        }

        echo '<script>alert("Cobro registrado ' . $monto . '")</script>';
        //Abriendo usuarios
        $this->load->model("modelo", "General");
        $USUARIOS = $this->General->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cobranza';
        $this->_renderView($data);
    }

    public function ResultadoPagoPendiente() {
        $Folio = $_POST["ID"];
        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        $cobrospendientes = $this->General->getCobranza2($Folio);
        //Abriendo BD cliente
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>
        <table width="100%">
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" align="center">
                        <div class="col-md-2 col-xs-12" style="background-color:#99A79A">
                            <br>
                        </div>
                        <div class="col-md-4 col-xs-12" style="background-color:#99A79A">
                            Cliente
                        </div>
                        <div class="col-md-2 col-xs-12" style="background-color:#99A79A">
                            Concepto
                        </div>
                        <div class="col-md-2 col-xs-12" style="background-color:#99A79A">
                            Monto
                        </div>
                        <div class="col-md-2 col-xs-12" style="background-color:#99A79A">
                            Fecha
                        </div>
                    </div> 
                </td>
            </tr>   
        <?php foreach ($cobrospendientes as $cobrospendientes1) {
            if ($cobrospendientes1->Cobrado != 'Sí') {
                ?> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" align="center">
                                <div class="col-md-2 col-xs-12">
                                    <input type="radio" value="<?php echo $cobrospendientes1->ID; ?>" name="PagoPendiente" id="PagoPendiente" required/>
                                </div>
                                <div class="col-md-4 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($d_ID_cliente as $d_ID_cliente1) {
                    if ($d_ID_cliente1->Folio == $cobrospendientes1->ID_cliente) {
                        $respuesta = $d_ID_cliente1->NombreC;
                    }
                }
                echo $respuesta;
                ?>
                                </div>
                                <div class="col-md-2 col-xs-12">
                <?php echo $cobrospendientes1->ConceptoCobro; ?>
                                </div>
                                <div class="col-md-2 col-xs-12">
                <?php echo $cobrospendientes1->MontoPagar; ?>
                                </div>
                                <div class="col-md-2 col-xs-12">
                <?php echo $cobrospendientes1->FechaCobro; ?>
                                </div>
                            </div> 
                        </td>
                    </tr>

            <?php }
        }
        ?> </table> <?php
    }

    public function ResultadoRecibo() {
        $Folio = $_POST["ID"];
        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        $cobrospendientes = $this->General->getCobranza2($Folio);
        //Abriendo BD cliente
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?> 	
        <div class="col-md-2 col-xs-12" align="right">
            <label for="NFolio" class="control-label">Cobros pendientes</label><br>
        </div>  		  
        <div class="col-md-6 col-xs-12" align="left">
            <select class="form-control" id="CobroPendiente" name="CobroPendiente"  required>
                <option value="0">Selecciona</option>
        <?php foreach ($cobrospendientes as $cobrospendientes1) {
            if ($cobrospendientes1->Cobrado != 'Sí') {
                ?> 
                        <option value="<?php echo $cobrospendientes1->ID; ?>"><?php echo $cobrospendientes1->FechaCobro . " " . $cobrospendientes1->ConceptoCobro; ?></option>
            <?php }
        } ?>
            </select>
        </div>
        <?php
    }

    public function PaguitosRecibo() {
        $Total = $_POST["ReciboCantidad"];
        ;
        $IVA = $Total * 0.16;
        $Subtotal = $Total - $IVA;
        ?>
        <table width="100%">

            <tr>
                <td>
                    <div class="col-md-8 col-xs-12">

                    </div>
                    <div class="col-md-2 col-xs-12" align="right">
                        <label class="control-label">Total:</label>
                    </div>
                    <div class="col-md-2 col-xs-12">
                        <input class="form-control" type="text" name="ReciboTotal" id="ReciboTotal" value="<?php echo $Total ?>">		
                    </div>
                </td>
            </tr>
        </table>   

        <?php
    }

    public function LlenadoRecibo() {
        $IDcobranza = $_POST["CobroPendiente"];
        $where = '';
        $this->load->model("modelo", "General");
        if ($IDcobranza != 0) {
            //Abriendo ID Recibos
            $NoRecibos = $this->General->getNoRecibos();
            if (empty($NoRecibos)) {
                $Indicador = 0;
            } else
                foreach ($NoRecibos as $NoRecibos1) {
                    $Indicador = $NoRecibos1->ReciboNoRecibo;
                }
            $Recibos = 1 + $Indicador;
            //Abriendo cobranza
            $cobropendientes = $this->General->getCobranzaxID($IDcobranza);
            foreach ($cobropendientes as $cobropendientes1) {
                
            }
            $Total = $cobropendientes1->Resto;
            $Subtotal = $Total * 0.84;
            $IVA = $Total * 0.16;
            //Abriendo BD cliente
            $d_ID_cliente = $this->General->getID_Cliente($where);
            $respuesta = '-';
            foreach ($d_ID_cliente as $d_ID_cliente1) {
                if ($d_ID_cliente1->Folio == $cobropendientes1->ID_cliente) {
                    $respuesta = $d_ID_cliente1->RazonS;
                }
            }
            ?> 
            <table width="100%">    
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <input class="form-control" type="hidden" name="CobranzaID" id="CobranzaID"  value="<?php echo $cobropendientes1->ID ?>">
                            </br>
                        </div>
                    </td>
                </tr>
                <tr valign="middle">
                    <td valign="middle">  
                        <div class="col-md-4 col-xs-12" align="center">
                            <img src="<?php echo base_url(); ?>media/logo.png" width="80%" height="auto">
                            <p class="span6">
                                Calle Aldama No. 6-A<br>
                                Zona Centro<br>
                                Silao, GTO. México. <br>
                                Tel. +52 (472) 722 23 24<br>
                                "TU PROTECCION NUESTRA MISION"<br>
                            </p>
                        </div>
                        <div class="col-md-8 col-xs-12" align="center" style="vertical-align:middle">
                            <div class="col-md-6 col-xs-12" align="right">
                                <label for="NoRecibo" class="control-label">No. de Recibo:</label><br>
                            </div>
                            <div class="col-md-6 col-xs-12" align="left">
                                <input  style="text-transform:uppercase; color:#F30" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="ReciboNoRecibo" id="NoRecibo" value="<?php echo $Recibos ?>">
                                </br>
                            </div>
                            <div class="col-md-12 col-xs-12" align="right">
                                </br>
                            </div>        
                            <div class="col-md-6 col-xs-12" align="right">
                                <label for="ReciboFechaPago" class="control-label">Fecha de pago:</label><br>
                            </div>
                            <div class="col-md-6 col-xs-12" align="right">
                                <input  style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="ReciboFechaPago" id="datepicker2" value="<?php echo date("d/m/Y") ?>" required>
                                </br>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-2 col-xs-12" align="right">
                                <label for="ReciboNombre" class="control-label">Recibí de:</label><br>
                            </div>
                            <div class="col-md-6 col-xs-12">
                                <input  style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="ReciboNombre" id="ReciboNombre" value="<?php echo $respuesta ?>">		
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-2 col-xs-12" align="right">
                                <label for="ReciboCantidad" class="control-label">La cantidad de:</label><br>
                            </div>
                            <div class="col-md-6 col-xs-12">
                                <input  style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="ReciboCantidad" id="ReciboCantidad" value="<?php echo $cobropendientes1->Resto ?>">		
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-2 col-xs-12" align="right">
                                <label for="ReciboHonorarios" class="control-label">Como honorarios por concepto de: </label><br>
                            </div>
                            <div class="col-md-6 col-xs-12">
                                <input  style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()" class="form-control" type="text" name="ReciboHonorarios" id="ReciboHonorarios" value="<?php echo $cobropendientes1->ConceptoCobro ?>">		
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div id="ModificarRecibo">
                            <table width="100%">

                                <tr>
                                    <td>
                                        <div class="col-md-8 col-xs-12">

                                        </div>
                                        <div class="col-md-2 col-xs-12" align="right">
                                            <label class="control-label">Total:</label>
                                        </div>
                                        <div class="col-md-2 col-xs-12">
                                            <input class="form-control" type="text" name="ReciboTotal" id="ReciboTotal" value="<?php echo $Total ?>">		
                                        </div>
                                    </td>
                                </tr>
                            </table>   
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            </br>    
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-12 col-xs-12">
                                <button class="btn btn-lg btn-primary btn-block" type="submit"  id="generar" name="generar">Registrar pago</button>
                            </div>
                            <div class="col-md-8 col-xs-12">
                                <input type="hidden" name="CobranzaID" id="CobranzaID" value="<?php echo $cobropendientes1->ID ?>">
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
            <?php
        }
    }

    public function Recibo() {
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $CobranzaID = $this->input->post('CobranzaID');
        $ReciboNoRecibo = $this->input->post('ReciboNoRecibo');
        $ReciboFechaPago = $this->input->post('ReciboFechaPago');
        $ReciboNombre = $this->input->post('ReciboNombre');
        $ReciboCantidad = $this->input->post('ReciboCantidad');
        $ReciboHonorarios = $this->input->post('ReciboHonorarios');
        $ReciboSubtotal = $this->input->post('ReciboSubTotal');
        $ReciboIVA = $this->input->post('ReciboIVA');
        $ReciboTotal = $this->input->post('ReciboTotal');
        $datos = $this->datos->getRecibo(
                $CobranzaID, $ReciboNoRecibo, $ReciboFechaPago, $ReciboNombre, $ReciboCantidad, $ReciboHonorarios, $ReciboSubtotal, $ReciboIVA, $ReciboTotal
        );
        //Abriendo usuarios
        $this->load->model("modelo", "General");
        $USUARIOS = $this->General->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo ID Recibos
        $NoRecibos = $this->General->getNoRecibos();
        $data['NoRecibos'] = $NoRecibos;
        $data['Recibo'] = $ReciboNoRecibo;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'CobranzaReciboPDF';
        $this->_renderView($data);
    }

    public function EdoCuenta() {
        $Folio = $_POST["Cliente"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');
        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        $Edocuenta = $this->General->getCobranza($Folio);
        //Abriendo BD cliente
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>     
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Cuenta de Cliente
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Concepto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de Cobro (Vencimiento)
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de pago
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Estado del cobro
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto pagado
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        No. de Recibo
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        No. de Factura
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Saldo total final a pagar
                    </div>
                </td>
            </tr>
        <?php
        $Total = 0;
        $TotalPagado = 0;
        $TotalDeuda = 0;
        foreach ($Edocuenta as $Edocuenta1) {
            //$Valor=$Edocuenta1->FechaCobro;
            $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
            $fecha = date_format($Valor, 'Ymd');
            //$fecha = strtotime($Valor);
            if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                $Total = $Total + $Edocuenta1->MontoPagar;
                $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                $TotalPagado = $Total - $TotalDeuda;
                ?>
                    <tr>
                        <td>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->ID ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->ConceptoCobro ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->MontoPagar ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->FechaCobro ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->FechaPago ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->Cobrado ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Pagado ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php
                $IDcobranza = $Edocuenta1->ID;
                //Abriendo BD recibos
                $UltimosRecibos = $this->General->getUltimoPago($IDcobranza);
                $ConcatenadoRecibos = '-';
                foreach ($UltimosRecibos as $UltimosRecibos1) {
                    if ($ConcatenadoRecibos != '-') {
                        $ConcatenadoRecibos = $ConcatenadoRecibos . ',' . $UltimosRecibos1->ReciboNoRecibo;
                    } else
                        $ConcatenadoRecibos = $UltimosRecibos1->ReciboNoRecibo;
                }
                echo $ConcatenadoRecibos
                ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->NoFactura ?>
                            </div>
                            <div class="col-md-1 col-xs-12" align="center">
                <?php echo $Edocuenta1->Resto ?>
                            </div>
                            </div>
                        </td>
                    </tr>

                <?php
            }
        }
        ?>    
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total del saldo por servicios prestados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right">
        <?php echo '$ ' . $Total ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios prestados pagados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#ff6600">
        <?php echo '$ ' . $TotalPagado ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios pendiente de pagar:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#F00">
        <?php echo '$ ' . $TotalDeuda ?>
                        </div>
                    </div>        
                </td>
            </tr>
        </table>
        <?php
    }

    public function EdoCuentaDepositos() {
        $Folio = $_POST["Cliente"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');
        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        //$Edocuenta = $this->General->getCobranzaDepositos($Folio); 
        //Abriendo BD cliente 
        $Edocuenta = $this->General->getCDepositosALL();
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Cuenta de Cliente 
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Concepto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de Cobro (Vencimiento)
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de pago
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Estado del cobro
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto pagado
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Banco
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Cuenta
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Saldo total final a pagar
                    </div>
                </td>
            </tr>
        <?php
        $Total = 0;
        $TotalPagado = 0;
        $TotalDeuda = 0;
        if ($Folio != '0') {
            foreach ($Edocuenta as $Edocuenta1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
                $fecha = date_format($Valor, 'Ymd');
                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha && $Folio == $Edocuenta1->ID_cliente) {
                    $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                    $Total = $Total + $Edocuenta1->MontoPagar;
                    $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                    $TotalPagado = $Total - $TotalDeuda;
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $Resp = '-';
                    foreach ($d_ID_cliente as $temp1) {
                        if ($temp1->Folio == $Edocuenta1->ID_cliente) {
                            $Resp = $temp1->NombreC;
                        }
                    }
                    echo $Resp;
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->ConceptoCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->MontoPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Cobrado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Pagado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->BancoPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->CuentaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Resto ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        } else {
            foreach ($Edocuenta as $Edocuenta1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
                $fecha = date_format($Valor, 'Ymd');
                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                    $Total = $Total + $Edocuenta1->MontoPagar;
                    $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                    $TotalPagado = $Total - $TotalDeuda;
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $Resp = '-';
                    foreach ($d_ID_cliente as $temp1) {
                        if ($temp1->Folio == $Edocuenta1->ID_cliente) {
                            $Resp = $temp1->NombreC;
                        }
                    }
                    echo $Resp;
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->ConceptoCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->MontoPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Cobrado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Pagado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->BancoPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->CuentaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Resto ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total del saldo por servicios prestados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right">
        <?php echo '$ ' . $Total ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios prestados pagados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#ff6600">
        <?php echo '$ ' . $TotalPagado ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios pendiente de pagar:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#F00">
        <?php echo '$ ' . $TotalDeuda ?>
                        </div>
                    </div>        
                </td>
            </tr>
        </table>
        <?php
    }

    public function EdoCuentaIngresos() {
        $Folio = $_POST["Cliente"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');
        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        //$Edocuenta = $this->General->getCobranzaIngresos($Folio); 
        //Abriendo BD cliente
        $Edocuenta = $this->General->getCIngresosALL();
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Cuenta de Cliente 
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Concepto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de Cobro (Vencimiento)
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Fecha de pago
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Estado del cobro
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Monto pagado
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        No. de Recibo
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        No. de Factura
                    </div>
                    <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                        Saldo total final a pagar
                    </div>
                </td>
            </tr>
        <?php
        $Total = 0;
        $TotalPagado = 0;
        $TotalDeuda = 0;
        if ($Folio != '0') {
            foreach ($Edocuenta as $Edocuenta1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
                $fecha = date_format($Valor, 'Ymd');

                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha && $Folio == $Edocuenta1->ID_cliente) {
                    $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                    $Total = $Total + $Edocuenta1->MontoPagar;
                    $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                    $TotalPagado = $Total - $TotalDeuda;
                    ?>
                        <tr>
                            <td>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $Resp = '-';
                    foreach ($d_ID_cliente as $temp1) {
                        if ($temp1->Folio == $Edocuenta1->ID_cliente) {
                            $Resp = $temp1->NombreC;
                        }
                    }
                    echo $Resp;
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->ConceptoCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->MontoPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Cobrado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Pagado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $IDcobranza = $Edocuenta1->ID;
                    //Abriendo BD recibos
                    $UltimosRecibos = $this->General->getUltimoPago($IDcobranza);
                    $ConcatenadoRecibos = '-';
                    foreach ($UltimosRecibos as $UltimosRecibos1) {
                        if ($ConcatenadoRecibos != '-') {
                            $ConcatenadoRecibos = $ConcatenadoRecibos . ',' . $UltimosRecibos1->ReciboNoRecibo;
                        } else
                            $ConcatenadoRecibos = $UltimosRecibos1->ReciboNoRecibo;
                    }
                    echo $ConcatenadoRecibos
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->NoFactura ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Resto ?>
                                </div>
                            </td>
                        </tr>
                    <?php
                }
            }
        }
        else {
            foreach ($Edocuenta as $Edocuenta1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
                $fecha = date_format($Valor, 'Ymd');

                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                    $Total = $Total + $Edocuenta1->MontoPagar;
                    $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                    $TotalPagado = $Total - $TotalDeuda;
                    ?>
                        <tr>
                            <td>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $Resp = '-';
                    foreach ($d_ID_cliente as $temp1) {
                        if ($temp1->Folio == $Edocuenta1->ID_cliente) {
                            $Resp = $temp1->NombreC;
                        }
                    }
                    echo $Resp;
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->ConceptoCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->MontoPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaCobro ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Cobrado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Pagado ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $IDcobranza = $Edocuenta1->ID;
                    //Abriendo BD recibos
                    $UltimosRecibos = $this->General->getUltimoPago($IDcobranza);
                    $ConcatenadoRecibos = '-';
                    foreach ($UltimosRecibos as $UltimosRecibos1) {
                        if ($ConcatenadoRecibos != '-') {
                            $ConcatenadoRecibos = $ConcatenadoRecibos . ',' . $UltimosRecibos1->ReciboNoRecibo;
                        } else
                            $ConcatenadoRecibos = $UltimosRecibos1->ReciboNoRecibo;
                    }
                    echo $ConcatenadoRecibos
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->NoFactura ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $Edocuenta1->Resto ?>
                                </div>
                            </td>
                        </tr>
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total del saldo por servicios prestados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right">
        <?php echo '$ ' . $Total ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios prestados pagados:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#ff6600">
        <?php echo '$ ' . $TotalPagado ?>
                        </div>
                    </div>        
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-4 col-xs-12">

                        </div>
                        <div class="col-md-6 col-xs-12" align="right">
                            Total de saldo por servicios pendiente de pagar:
                        </div>
                        <div class="col-md-2 col-xs-12" align="right" style="color:#F00">
        <?php echo '$ ' . $TotalDeuda ?>
                        </div>
                    </div>        
                </td>
            </tr>
        </table>
        <?php
    }

//********************************************_________Final cobranza____________*******************************************************   
//********************************************____________Contabilidad______________*****************************************************  
    public function Contabilidad() {
        $this->load->model("modelo", "datos");
        $ContabilidadID = $this->input->post('ContabilidadID');
        $indiceuser = $this->input->post('user');
        $where = '';
        if ($ContabilidadID == 'Cont0') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadExpediente';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont1') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadRevision';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont2') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadBalance';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont3') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadEstado';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont4') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadVProceso';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont5') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadVConcluidos';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont6') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadBalanceCP';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont7') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadAnual';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont8') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadDIOT';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont9') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getContTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadAgrega';
            $this->_renderView($data);
        }
        if ($ContabilidadID == 'Cont10') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite	
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadVEstatus';
            $this->_renderView($data);
        }
    }

    public function Cont_9() {
        $Cliente = $this->input->post('Cliente');
        $Mes = $this->input->post('Mes');
        $Tramite = $this->input->post('Tramite');
        $Nombre = $Cliente . '-' . $Mes . '-' . $Tramite . date("ydHis");
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder10;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '2048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su documento\n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $Cliente = $this->input->post('Cliente');
                $Mes = $this->input->post('Mes');
                $Tramite = $this->input->post('Tramite');
                $FechaSolicitud = $this->input->post('FechaSolicitud');
                $Evidencia = $this->input->post('Evidencia');
                $datos = $this->datos->getCont_9(
                        $Cliente, $Mes, $Tramite, $FechaSolicitud, $Evidencia, $Nombre
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getContTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadAgrega';
            $this->_renderView($data);
        } else {
            $this->load->model("modelo", "datos");
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Tramite = $this->input->post('Tramite');
            $FechaSolicitud = $this->input->post('FechaSolicitud');
            $Evidencia = $this->input->post('Evidencia');
            $datos = $this->datos->getCont_9(
                    $Cliente, $Mes, $Tramite, $FechaSolicitud, $Evidencia, $Nombre
            );
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $where = '';
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD SStramite
            $this->load->model("modelo", "SSTramite");
            $SSTramite = $this->SSTramite->getContTramite($where);
            $data['SSTramite'] = $SSTramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadAgrega';
            $this->_renderView($data);
        }
    }

    public function SSTramitesE() {
        $datos = 0;
        $datos2 = 0;
        $ID = $_POST["Cliente"];
        if ($ID != 0) {
            $this->load->model("modelo", "cliente");
            $datos = $this->cliente->getResultadoSSTramite($ID);
            $this->load->model("modelo", "cliente");
            $datos2 = $this->cliente->getResultadoContTramite2($ID);
        }

        $this->load->model("modelo", "ALLdocumentos");
        $datas = $this->ALLdocumentos->getALLdocumentosSST($ID);

        $this->load->model("modelo", "ALLdocumentosC");
        $datasCont = $this->ALLdocumentosC->getALLdocumentosSSTCont($ID);

        $this->load->model("modelo", "clienteC");
        $datosCont = $this->clienteC->getResultadoSSTramiteCont($ID);
        $this->load->model("modelo", "TramitesContC");
        $TramitesCont = $this->TramitesContC->getResultadoSSTramiteALLCont();


        $where = '';
        if ($ID == '0') {
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses();
            $this->load->model("modelo", "Tramites");
            $Tramites = $this->Tramites->getResultadoSSTramiteALL();
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $IDCliente = $this->ID_cliente->getID_Cliente($where);
            ?> 
            <table width="100%" border="1" bordercolor="#9c9a9a">
            <?php foreach ($datas as $cliente1) { ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($IDCliente as $IDCliente1) {
                    if ($IDCliente1->Folio == $cliente1->Cliente) {
                        $respuesta = $IDCliente1->NombreC;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Meses as $Meses1) {
                    if ($Meses1->id_meses == $cliente1->Mes) {
                        $respuesta = $Meses1->dsc_meses;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Tramites as $Tramites1) {
                    if ($Tramites1->id_tramite == $cliente1->Tramite) {
                        $respuesta = $Tramites1->dsc_tramite;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->FechaSolicitud; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->Evidencia; ?>
                            </div>
                <?php
                $nombre = $cliente1->NDocumento;
                $files = get_filenames($this->folder10, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsSSEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                    <?php }
                }
                ?>
                        </td>
                    </tr>
            <?php } ?>
            <?php foreach ($datasCont as $cliente1) { ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($IDCliente as $IDCliente1) {
                    if ($IDCliente1->Folio == $cliente1->Cliente) {
                        $respuesta = $IDCliente1->NombreC;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Meses as $Meses1) {
                    if ($Meses1->id_meses == $cliente1->Mes) {
                        $respuesta = $Meses1->dsc_meses;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($TramitesCont as $Tramites1) {
                    if ($Tramites1->id_tramite == $cliente1->Tramite) {
                        $respuesta = $Tramites1->dsc_tramite;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->FechaSolicitud; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->Evidencia; ?>
                            </div>
                <?php
                $nombre = $cliente1->NDocumento;
                $files = get_filenames($this->folder10, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsSSEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                    <?php }
                }
                ?>
                        </td>
                    </tr>
            <?php } ?>
            </table>
            <?php
        }


        if ($datos != 0 || $datos2 != 0) {
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses();
            $this->load->model("modelo", "Tramites");
            $Tramites = $this->Tramites->getResultadoSSTramiteALL();
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
            <?php foreach ($datos as $cliente1) { ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Meses as $Meses1) {
                    if ($Meses1->id_meses == $cliente1->Mes) {
                        $respuesta = $Meses1->dsc_meses;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Tramites as $Tramites1) {
                    if ($Tramites1->id_tramite == $cliente1->Tramite) {
                        $respuesta = $Tramites1->dsc_tramite;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->FechaSolicitud; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->Evidencia; ?>
                            </div>
                <?php
                $nombre = $cliente1->NDocumento;
                $files = get_filenames($this->folder10, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsSSEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="right"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/SSExpediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                    <?php }
                }
                ?>
                        </td>
                    </tr>
            <?php } ?>

            <?php foreach ($datos2 as $cliente1) { ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Meses as $Meses1) {
                    if ($Meses1->id_meses == $cliente1->Mes) {
                        $respuesta = $Meses1->dsc_meses;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($TramitesCont as $Tramites1) {
                    if ($Tramites1->id_tramite == $cliente1->Tramite) {
                        $respuesta = $Tramites1->dsc_tramite;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->FechaSolicitud; ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->Evidencia; ?>
                            </div>
                <?php
                $nombre = $cliente1->NDocumento;
                $files = get_filenames($this->folder10, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsSSEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="right"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/SSExpediente/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                    <?php }
                }
                ?>
                        </td>
                    </tr>
                <?php } ?>

            </table>
                <?php }
            ?>
            <?php
        }

        public function ContabilidadRevision() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Poliza = $this->input->post('Poliza');
            $ObservacionesPoliza = $this->input->post('ObservacionesPoliza');
            $ComprobanteI = $this->input->post('ComprobanteI');
            $ObservacionesComprobantes = $this->input->post('ObservacionesComprobantes');
            $PolizaEgreso = $this->input->post('PolizaEgreso');
            $ObservacionesPolizaEgreso = $this->input->post('ObservacionesPolizaEgreso');
            $ComprobanteE = $this->input->post('ComprobanteE');
            $ObservacionesComprobante2 = $this->input->post('ObservacionesComprobante2');
            $PolizaDiario = $this->input->post('PolizaDiario');
            $ObservacionesPolizaDiario = $this->input->post('ObservacionesPolizaDiario');
            $Estados = $this->input->post('Estados');
            $ObservacionesEstados = $this->input->post('ObservacionesEstados');
            $SAT = $this->input->post('SAT');
            $ObservacionesSAT = $this->input->post('ObservacionesSAT');
            $Cuotas = $this->input->post('Cuotas');
            $ObservacionesCuotas = $this->input->post('ObservacionesCuotas');
            $IMSS = $this->input->post('IMSS');
            $ObservacionesIMSS = $this->input->post('ObservacionesIMSS');
            $INFONAVIT = $this->input->post('INFONAVIT');
            $ObservacionesINFONAVIT = $this->input->post('ObservacionesINFONAVIT');
            $Nomina = $this->input->post('Nomina');
            $ObservacionesNomina = $this->input->post('ObservacionesNomina');
            $Fecha = date("d/m/y");
            $datos = $this->datos->getContRevision(
                    $Cliente, $Mes, $Poliza, $ObservacionesPoliza, $ComprobanteI, $ObservacionesComprobantes, $PolizaEgreso, $ObservacionesPolizaEgreso, $ComprobanteE, $ObservacionesComprobante2, $PolizaDiario, $ObservacionesPolizaDiario, $Estados, $ObservacionesEstados, $SAT, $ObservacionesSAT, $Cuotas, $ObservacionesCuotas, $IMSS, $ObservacionesIMSS, $INFONAVIT, $ObservacionesINFONAVIT, $Nomina, $ObservacionesNomina, $Fecha
            );
            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadRevision';
            $this->_renderView($data);
        }

        public function EBalance() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Balance = $this->input->post('Balance');
            $ObservacionesBG = $this->input->post('ObservacionesBG');
            $datos = $this->datos->getEBalance(
                    $Cliente, $Mes, $Balance
            );

            if ($Balance == '1') {
                $Estatus = '3';
                $estatus = $this->datos->getCont_Estatus($Cliente, $Estatus
                );
            }

            $Tramite = 'Emisión de balanza general';
            $Hora = date("H:i:s");
            $Fecha = date("d/m/y");
            $historico = $this->datos->getCont_Historico(
                    $Cliente, $Tramite, $Balance, $ObservacionesBG, $Mes, $Fecha, $Hora
            );

            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadBalance';
            $this->_renderView($data);
        }

        public function EBalanceCP() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Balance = $this->input->post('Balance');
            $ObservacionesBG = $this->input->post('ObservacionesBG');
            $datos = $this->datos->getEBalanceCP(
                    $Cliente, $Mes, $Balance
            );

            $Tramite = 'Emisión de balanza de comprobación de pagos';
            $Hora = date("H:i:s");
            $Fecha = date("d/m/y");
            $historico = $this->datos->getCont_Historico(
                    $Cliente, $Tramite, $ObservacionesBG, $Balance, $Mes, $Fecha, $Hora
            );

            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadBalanceCP';
            $this->_renderView($data);
        }

        public function EEstadoR() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Estado = $this->input->post('Estado');
            $ObservacionesBG = $this->input->post('ObservacionesBG');
            $datos = $this->datos->getEEstadoR(
                    $Cliente, $Mes, $Estado
            );

            $Tramite = 'Emisión de estado de resultados';
            $Hora = date("H:i:s");
            $Fecha = date("d/m/y");
            $Balance = $Estado;
            $historico = $this->datos->getCont_Historico(
                    $Cliente, $Tramite, $ObservacionesBG, $Balance, $Mes, $Fecha, $Hora
            );

            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadEstado';
            $this->_renderView($data);
        }

        public function CAnual() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Estado = $this->input->post('Estado');
            $ObservacionesBG = $this->input->post('ObservacionesBG');
            $datos = $this->datos->getCAnual(
                    $Cliente, $Mes, $Estado
            );

            $Tramite = 'Declaración Anual';
            $Hora = date("H:i:s");
            $Fecha = date("d/m/y");
            $Balance = $Estado;
            $historico = $this->datos->getCont_Historico(
                    $Cliente, $Tramite, $ObservacionesBG, $Balance, $Mes, $Fecha, $Hora
            );

            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadAnual';
            $this->_renderView($data);
        }

        public function CDIOT() {
            $this->load->model("modelo", "datos");
            $indiceuser = $this->input->post('user');
            $where = '';
            $Cliente = $this->input->post('Cliente');
            $Mes = $this->input->post('Mes');
            $Estado = $this->input->post('Estado');
            $ObservacionesBG = $this->input->post('ObservacionesBG');
            $datos = $this->datos->getCDIOT(
                    $Cliente, $Mes, $Estado
            );

            $Tramite = 'Declaración DIOT';
            $Hora = date("H:i:s");
            $Fecha = date("d/m/y");
            $Balance = $Estado;
            $historico = $this->datos->getCont_Historico(
                    $Cliente, $Tramite, $ObservacionesBG, $Balance, $Mes, $Fecha, $Hora
            );

            echo '<script>alert("Se ha registrado correctamente")</script>';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'ContabilidadDIOT';
            $this->_renderView($data);
        }

        public function InformacionB() {
            //Abriendo BD Sub-cliente
            $idcliente = $_POST["idcliente"];
            $this->load->model("modelo", "general");
            $datos2 = $this->general->getInformacion($idcliente);
            //Abriendo BD estatus
            $d_estatus = $this->general->getestatusSS();

            foreach ($datos2 as $cliente2) {
                echo "RFC: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
                            echo "</p>";
                            echo "Nombre comercial: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
                            echo "</p>";
                            echo "Razón social: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
                            echo "</p>";
                            echo "Teléfono: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
                            echo "</p>";
                            echo "Correo: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
                            echo "</p>";
                            $r = 0;
                            foreach ($d_estatus as $temporal) {
                                if ($cliente2->CBalance == $temporal->id_estatusSS) {
                                    $resultado = $temporal->dsc_estatusSS;
                                    $r = 1;
                                }if ($r == 0) {
                                    $resultado = "-";
                                }
                            }
                            echo "Estatus del trámite: ";
                            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
                        }
                    }

                    public function InformacionBCP() {
                        //Abriendo BD Sub-cliente
                        $idcliente = $_POST["idcliente"];
                        $this->load->model("modelo", "general");
                        $datos2 = $this->general->getInformacion($idcliente);
                        //Abriendo BD estatus
                        $d_estatus = $this->general->getestatusSS();

                        foreach ($datos2 as $cliente2) {
                            echo "RFC: ";
                            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
                echo "</p>";
                echo "Nombre comercial: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->CBalanceCP == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function InformacionCAnual() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
                                echo "</p>";
                                $r = 0;
                                foreach ($d_estatus as $temporal) {
                                    if ($cliente2->CEdoAnual == $temporal->id_estatusSS) {
                                        $resultado = $temporal->dsc_estatusSS;
                                        $r = 1;
                                    }if ($r == 0) {
                                        $resultado = "-";
                                    }
                                }
                                echo "Estatus del trámite: ";
                                ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function InformacionCDIOT() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
            echo "</p>";
            echo "Nombre comercial: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
            echo "</p>";
            echo "Razón social: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
            echo "</p>";
            echo "Teléfono: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
            echo "</p>";
            $r = 0;
            foreach ($d_estatus as $temporal) {
                if ($cliente2->CEdoDIOT == $temporal->id_estatusSS) {
                    $resultado = $temporal->dsc_estatusSS;
                    $r = 1;
                }if ($r == 0) {
                    $resultado = "-";
                }
            }
            echo "Estatus del trámite: ";
            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
        }
    }

    public function InformacionE() {
        //Abriendo BD Sub-cliente
        $idcliente = $_POST["idcliente"];
        $this->load->model("modelo", "general");
        $datos2 = $this->general->getInformacion($idcliente);
        //Abriendo BD estatus
        $d_estatus = $this->general->getestatusSS();

        foreach ($datos2 as $cliente2) {
            echo "RFC: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->RFC; ?> </strong><?php
                echo "</p>";
                echo "Nombre comercial: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->NombreC; ?> </strong><?php
                echo "</p>";
                echo "Razón social: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->RazonS; ?> </strong><?php
                echo "</p>";
                echo "Teléfono: ";
                ?>	<strong style="color:#ff6600"><?php echo $cliente2->C_Lada . " " . $cliente2->C_Tel; ?> </strong><?php
            echo "</p>";
            echo "Correo: ";
            ?>	<strong style="color:#ff6600"><?php echo $cliente2->Correo; ?> </strong><?php
                            echo "</p>";
                            $r = 0;
                            foreach ($d_estatus as $temporal) {
                                if ($cliente2->CEstado == $temporal->id_estatusSS) {
                                    $resultado = $temporal->dsc_estatusSS;
                                    $r = 1;
                                }if ($r == 0) {
                                    $resultado = "-";
                                }
                            }
                            echo "Estatus del trámite: ";
                            ?>	<strong style="color:#ff6600"><?php echo $resultado; ?> </strong><?php
                        }
                    }

                    public function ReporteCProceso() {
                        $Mes = $_POST["Mes"];
                        $this->load->model("modelo", "General");
                        //Abriendo Directorio
                        $Directorio = $this->General->getTramitesCont();
                        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-4 col-xs-12" align="center">
                        Nombre del Cliente 
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Trámite
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Mes
                    </div>
                </td>
            </tr>

                        <?php
                        if ($Mes == '0') {
                            foreach ($Directorio as $Directorio1) {
                                if ($Directorio1->CBalance == 1) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Trámite de balanza general' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_B ?>
                                </div>
                            </td>
                        </tr>    
                        <?php
                    }
                    if ($Directorio1->CBalanceCP == 1) {
                        ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_BCP ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }
                                if ($Directorio1->CEstado == 1) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo 'Trámite de estado de resultados ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_E ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }

                                if ($Directorio1->CEdoAnual == 1) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo 'Declaración Anual' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_Anual ?>
                                </div>
                            </td>
                        </tr>    
                                    <?php
                                }

                                if ($Directorio1->CEdoDIOT == 1) {
                                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Declaración DIOT' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_DIOT ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>

        <?php
        if ($Mes != '0') {
            foreach ($Directorio as $Directorio1) {
                if ($Directorio1->CBalance == 1) {

                    if ($Directorio1->CMes_B == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza general' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_B ?>
                                    </div>
                                </td>
                            </tr>    
                                            <?php
                                        }
                                    }
                                    if ($Directorio1->CBalanceCP == 1) {

                                        if ($Directorio1->CMes_BCP == $Mes) {
                                            ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                                            <?php echo $Directorio1->CMes_BCP ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
                if ($Directorio1->CEstado == 1) {

                    if ($Directorio1->CMes_E == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de estado de resultados ' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_E ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }

                if ($Directorio1->CEdoAnual == 1) {

                    if ($Directorio1->CMes_Anual == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Declaración Anual' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_Anual ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }

                if ($Directorio1->CEdoDIOT == 1) {

                    if ($Directorio1->CMes_DIOT == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Declaración DIOT' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_DIOT ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function ReporteCConcluidos() {
        $Mes = $_POST["Mes"];
        $this->load->model("modelo", "General");
        //Abriendo Directorio
        $Directorio = $this->General->getTramitesCont();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-4 col-xs-12" align="center">
                        Nombre del Cliente 
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Trámite
                    </div>
                    <div class="col-md-4 col-xs-12" align="center">
                        Mes
                    </div>
                </td>
            </tr>
        <?php
        if ($Mes == '0') {
            foreach ($Directorio as $Directorio1) {
                if ($Directorio1->CBalance == 2) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Trámite de balanza general' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_B ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
                if ($Directorio1->CBalanceCP == 2) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_BCP ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
                if ($Directorio1->CEstado == 2) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Trámite de estado de resultados ' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_E ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }

                if ($Directorio1->CEdoAnual == 2) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración Anual' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_Anual ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }

                if ($Directorio1->CEdoDIOT == 2) {
                    ?>   
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->NombreC ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo 'Declaración DIOT' ?>
                                </div>
                                <div class="col-md-4 col-xs-12" align="center">
                    <?php echo $Directorio1->CMes_DIOT ?>
                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>




        <?php
        if ($Mes != '0') {
            foreach ($Directorio as $Directorio1) {
                if ($Directorio1->CBalance == 2) {

                    if ($Directorio1->CMes_B == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza general' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_B ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
                if ($Directorio1->CBalanceCP == 2) {

                    if ($Directorio1->CMes_BCP == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_BCP ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
                if ($Directorio1->CEstado == 2) {

                    if ($Directorio1->CMes_E == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Trámite de estado de resultados ' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_E ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }

                if ($Directorio1->CEdoAnual == 2) {

                    if ($Directorio1->CMes_Anual == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Declaración Anual' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_Anual ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }

                if ($Directorio1->CEdoDIOT == 2) {

                    if ($Directorio1->CMes_DIOT == $Mes) {
                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo 'Declaración DIOT' ?>
                                    </div>
                                    <div class="col-md-4 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_DIOT ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function ReporteCEstado() {
        $Folio = $_POST["Folio"];
        $Mes = $_POST["Mes"];
        $this->load->model("modelo", "General");
        //Abriendo Directorio
        $Directorio = $this->General->getTramitesCont();
        $Estatus = $this->General->getEstatusCont();
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-3 col-xs-12" align="center">
                        Nombre del Cliente 
                    </div>
                    <div class="col-md-3 col-xs-12" align="center">
                        Trámite
                    </div>
                    <div class="col-md-3 col-xs-12" align="center">
                        Estado
                    </div>
                    <div class="col-md-3 col-xs-12" align="center">
                        Mes
                    </div>
                </td>
            </tr>
                        <?php
                        if ($Folio == 0) {
                            foreach ($Directorio as $Directorio1) {

                                if ($Directorio1->CBalance != 0) {
                                    if ($Directorio1->CMes_B == $Mes) {
                                        ?> 
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza general' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CBalance) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_B; ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                    if ($Mes == '0') {
                                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza general' ?>
                                    </div>    
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php
                                        foreach ($Estatus as $Estatus1)
                                            if ($Estatus1->id_estatusSS == $Directorio1->CBalance) {
                                                echo $Estatus1->dsc_estatusSS;
                                            }
                                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->CMes_B; ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                }

                                if ($Directorio1->CBalanceCP != 0) {
                                    if ($Directorio1->CMes_BCP == $Mes) {
                                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CBalanceCP) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_BCP ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                    if ($Mes == '0') {
                                        ?>  
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CBalanceCP) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_BCP; ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                }

                                if ($Directorio1->CEstado != 0) {
                                    if ($Directorio1->CMes_E == $Mes) {
                                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo 'Trámite de estado de resultados' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CEstado) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_E ?>
                                    </div>
                                </td>
                            </tr>    
                                    <?php
                                }
                                if ($Mes == '0') {
                                    ?>   
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                    <?php echo 'Trámite de estado de resultados' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEstado) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->CMes_E; ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                }

                                if ($Directorio1->CEdoAnual != 0) {
                                    if ($Directorio1->CMes_Anual == $Mes) {
                                        ?>  
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php echo 'Declaración Anual' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                        <?php
                                        foreach ($Estatus as $Estatus1)
                                            if ($Estatus1->id_estatusSS == $Directorio1->CEdoAnual) {
                                                echo $Estatus1->dsc_estatusSS;
                                            }
                                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                                    <?php echo $Directorio1->CMes_Anual ?>
                                    </div>
                                </td>
                            </tr>    
                                        <?php
                                    }
                                    if ($Mes == '0') {
                                        ?>   
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Declaración Anual' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CEdoAnual) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_Anual; ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }

                if ($Directorio1->CEdoDIOT != 0) {
                    if ($Directorio1->CMes_DIOT == $Mes) {
                        ?>  
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Declaración DIOT' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CEdoDIOT) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_DIOT ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                    if ($Mes == '0') {
                        ?>    
                            <tr>
                                <td>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->NombreC; ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo 'Declaración DIOT' ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php
                        foreach ($Estatus as $Estatus1)
                            if ($Estatus1->id_estatusSS == $Directorio1->CEdoDIOT) {
                                echo $Estatus1->dsc_estatusSS;
                            }
                        ?>
                                    </div>
                                    <div class="col-md-3 col-xs-12" align="center">
                        <?php echo $Directorio1->CMes_DIOT; ?>
                                    </div>
                                </td>
                            </tr>    
                        <?php
                    }
                }
            }
        }
        // ahora por un cliente en específico
        if ($Folio != 0) {
            foreach ($Directorio as $Directorio1) {
                if ($Directorio1->Folio == $Folio) {

                    if ($Directorio1->CBalance != 0) {
                        if ($Directorio1->CMes_B == $Mes) {
                            ?>   
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de balanza general' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CBalance) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_B; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                        if ($Mes == '0') {
                            ?>   
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de balanza general' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CBalance) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_B; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                    }

                    if ($Directorio1->CBalanceCP != 0) {
                        if ($Directorio1->CMes_BCP == $Mes) {
                            ?>   
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CBalanceCP) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_BCP ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                        if ($Mes == '0') {
                            ?>    
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de balanza de comprobación de pagos' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CBalanceCP) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_BCP; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                    }

                    if ($Directorio1->CEstado != 0) {
                        if ($Directorio1->CMes_E == $Mes) {
                            ?>   
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de estado de resultados' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEstado) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_E ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                        if ($Mes == '0') {
                            ?>  
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Trámite de estado de resultados' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEstado) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_E; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                    }

                    if ($Directorio1->CEdoAnual != 0) {
                        if ($Directorio1->CMes_Anual == $Mes) {
                            ?>  
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Declaración Anual' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEdoAnual) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_Anual ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                        if ($Mes == '0') {
                            ?>    
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Declaración Anual' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEdoAnual) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_Anual; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                    }

                    if ($Directorio1->CEdoDIOT != 0) {
                        if ($Directorio1->CMes_DIOT == $Mes) {
                            ?>  
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Declaración DIOT' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEdoDIOT) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_DIOT ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                        if ($Mes == '0') {
                            ?>   
                                <tr>
                                    <td>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->NombreC; ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo 'Declaración DIOT' ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php
                            foreach ($Estatus as $Estatus1)
                                if ($Estatus1->id_estatusSS == $Directorio1->CEdoDIOT) {
                                    echo $Estatus1->dsc_estatusSS;
                                }
                            ?>
                                        </div>
                                        <div class="col-md-3 col-xs-12" align="center">
                            <?php echo $Directorio1->CMes_DIOT; ?>
                                        </div>
                                    </td>
                                </tr>    
                            <?php
                        }
                    }
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

//**************************************************__________Fin contabilidad_________________*****************************************














    public function EnProceso() {
        $Folio = $_POST["Cliente"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');

        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        $Edocuenta = $this->General->getCobranza($Folio);
        //Abriendo BD cliente
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>     
        <table width="100%">    
            <tr>
                <td width="20%" bgcolor="#999999" align="center">
                    Cuenta de Cliente 
                </td>
                <td width="20%" bgcolor="#999999" align="center">
                    Nombre del cliente
                </td>
                <td width="20%" bgcolor="#999999" align="center">
                    Trámite contable
                </td>
                <td width="20%" bgcolor="#999999" align="center">
                    Fecha de entrega del expediente
                </td>
                <td width="20%" bgcolor="#999999" align="center">
                    Fecha de inicio de elaboración
                </td>
            </tr>
        </table>
        <?php
        $Total = 0;
        $TotalPagado = 0;
        $TotalDeuda = 0;
        foreach ($Edocuenta as $Edocuenta1) {
            //$Valor=$Edocuenta1->FechaCobro;
            $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
            $fecha = date_format($Valor, 'Ymd');

            //$fecha = strtotime($Valor);
            if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                $Total = $Total + $Edocuenta1->MontoPagar;
                $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                $TotalPagado = $Total - $TotalDeuda;
                ?>
                <table width="100%">    
                    <tr>
                        <td width="20%"  align="center">
                <?php echo $Edocuenta1->ID ?>
                        </td>
                        <td width="20%"  align="center">
                <?php echo $Edocuenta1->ConceptoCobro ?>
                        </td>
                        <td width="20%"  align="center">
                <?php echo $Edocuenta1->MontoPagar ?>
                        </td>
                        <td width="20%"  align="center">
                <?php echo $Edocuenta1->FechaCobro ?>
                        </td>
                        <td width="20%"  align="center">
                <?php echo $Edocuenta1->FechaPago ?>
                        </td>
                    </tr>
                </table>
                <?php
            }
        }
    }

    public function Concluidos() {
        $Folio = $_POST["Cliente"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');

        $where = '';
        $this->load->model("modelo", "General");
        //Abriendo cobranza
        $Edocuenta = $this->General->getCobranza($Folio);
        //Abriendo BD cliente
        $d_ID_cliente = $this->General->getID_Cliente($where);
        ?>     
        <table width="100%">    
            <tr>
                <td width="10%" bgcolor="#999999" align="center">
                    Cuenta de Cliente 
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Nombre del cliente
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Trámite contable
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de entrega del expediente
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de inicio de elaboración
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de conclusión
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de entrega al área fiscal
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de notificación al cliente
                </td>
                <td width="10%" bgcolor="#999999" align="center">
                    Fecha de integración del trámite
                </td>
            </tr>
        </table>
        <?php
        $Total = 0;
        $TotalPagado = 0;
        $TotalDeuda = 0;
        foreach ($Edocuenta as $Edocuenta1) {
            //$Valor=$Edocuenta1->FechaCobro;
            $Valor = date_create_from_format('d/m/Y', $Edocuenta1->FechaCobro);
            $fecha = date_format($Valor, 'Ymd');

            //$fecha = strtotime($Valor);
            if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                $Pagado = $Edocuenta1->MontoPagar - $Edocuenta1->Resto;
                $Total = $Total + $Edocuenta1->MontoPagar;
                $TotalDeuda = $TotalDeuda + $Edocuenta1->Resto;
                $TotalPagado = $Total - $TotalDeuda;
                ?>
                <table width="100%">    
                    <tr>
                        <td width="10%"  align="center">
                    <?php echo $Edocuenta1->ID ?>
                        </td>
                        <td width="10%"  align="center">
                    <?php echo $Edocuenta1->ConceptoCobro ?>
                        </td>
                        <td width="10%"  align="center">
                    <?php echo $Edocuenta1->MontoPagar ?>
                        </td>
                        <td width="10%"  align="center">
                                <?php echo $Edocuenta1->FechaCobro ?>
                        </td>
                        <td width="10%"  align="center">
                                <?php echo $Edocuenta1->FechaPago ?>
                        </td>
                        <td width="10%"  align="center">
                                <?php echo $Edocuenta1->Cobrado ?>    </td>
                        <td width="10%"  align="center">
                <?php echo $Pagado ?>
                        </td>
                        <td width="10%"  align="center">
                    <?php echo $Edocuenta1->NoFactura ?>
                        </td>
                        <td width="10%"  align="center">
                    <?php echo $Edocuenta1->Resto ?>
                        </td>
                    </tr>
                </table>
                                <?php
                            }
                        }
                    }

//***********************************************___________________Controlador Regresar________________*************************************

                    public function Regresar() {
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        //Abriendo BD responsables
                        $usuario = $indiceuser;
                        $this->load->model("modelo", "Permisos");
                        $Permisos = $this->Permisos->getPermisos($usuario);
                        $data['Permisos'] = $Permisos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Menu';
                        $this->_renderView($data);
                    }

                    public function Regresar2() {
                        $indiceuser = $this->input->get('i');
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD responsables
                        $usuario = $indiceuser;
                        $this->load->model("modelo", "Permisos");
                        $Permisos = $this->Permisos->getPermisos($usuario);
                        $data['Permisos'] = $Permisos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Menu';
                        $this->_renderView($data);
                    }

//*************************************___________Fin controlador regresar___________***********************************************************
//*************************************___________Trámites___________***********************************************************
                    public function RegresarTramite() {
                        $indiceuser = $this->input->get('i');
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD responsables
                        $usuario = $indiceuser;
                        $this->load->model("modelo", "Permisos");
                        $Permisos = $this->Permisos->getPermisos($usuario);
                        $data['Permisos'] = $Permisos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Menu';
                        $this->_renderView($data);
                    }

                    public function do_upload2() {
                        $TramiteFolio = $this->input->post('TramiteFolio');
                        if (!empty($TramiteFolio)) {
                            $indiceuser = $this->input->post('user');
                            $Numero = 'ADC-' . str_pad($TramiteFolio, 6, "0", STR_PAD_LEFT) . '-' . date("Y");
                            $n = str_pad($TramiteFolio, 6, "0", STR_PAD_LEFT);
                            $InicialFolioAsig = 'ADC-' . $n . '-' . date("Y");
                            //DC-<?php echo str_pad($TramiteFolio,6,"0",STR_PAD_LEFT);

                            $this->load->model("modelo", "datos");
                            $config['upload_path'] = $this->folder2;
                            $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
                            $config['remove_spaces'] = TRUE;
                            $config['file_name'] = $Numero;
                            $config['max_size'] = '2048';
                            $this->load->library('upload', $config);
                            if (!$this->upload->do_upload()) {
                                $error = array('error' => $this->upload->display_errors());
                                if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                                    $Asignatario = $this->input->post('user');
                                    $Responsable = $this->input->post('Responsable');
                                    $FolioAsig = $InicialFolioAsig;
                                    $Observaciones = $this->input->post('Observaciones');
                                    $datos = $this->datos->getTramites(
                                            $Asignatario, $TramiteFolio, $Responsable, $FolioAsig, $Observaciones);
                                    echo '<script>alert("El documento ha sido registrado sin archivo adjunto\n ")</script>';
                                } else {
                                    if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                                    } else {
                                        if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                                            echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                                        } else {
                                            echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                                        }
                                    }
                                }
                            } else {
                                $Asignatario = $this->input->post('user');
                                $Responsable = $this->input->post('Responsable');
                                $FolioAsig = $InicialFolioAsig;
                                $Observaciones = $this->input->post('Observaciones');
                                $datos = $this->datos->getTramites(
                                        $Asignatario, $TramiteFolio, $Responsable, $FolioAsig, $Observaciones);
                                echo '<script>alert("El documento ha sido registrado\n ")</script>';
                            }
                        }
                        //Cargando usuarios 
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD tipo referenciado
                        $where = '';
                        $this->load->model("modelo", "RefTipo");
                        $d_RefTipo = $this->RefTipo->getRefTipo($where);
                        $data['RefTipo'] = $d_RefTipo;
                        //Abriendo BD estatus
                        $where = '';
                        $this->load->model("modelo", "Estatus");
                        $Estatus = $this->Estatus->getEstatusRef($where);
                        $data['Estatus'] = $Estatus;
                        //Abriendo BD responsables
                        $where = '';
                        $this->load->model("modelo", "Responsables");
                        $d_responsables = $this->Responsables->getResponsable($where);
                        $data['Responsables'] = $d_responsables;
                        // View render		
                        $data['scripts'] = array('upload_data' => $this->upload->data());
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Tramites';
                        $this->_renderView($data);
                    }

                    public function View_Asignados() {
                        //Cargando usuarios
                        $indiceuser = $this->input->post('user');
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Gráfica
                        $this->load->model("modelo", "cliente");
                        $asignados = $this->cliente->getAsignadosRef($indiceuser);
                        $data['asignados'] = $asignados;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Asignados';
                        $this->_renderView($data);
                    }

                    public function FunConsulta() {
                        $Folio = $_POST["Importe"];
                        $this->load->model("modelo", "cliente");
                        $datos = $this->cliente->getFuncionConsulta($Folio);
                        $where = '';
                        $this->load->model("modelo", "ID_cliente");
                        $ID_cliente = $this->ID_cliente->getID_Cliente($where);
                        $this->load->model("modelo", "Area");
                        $Area = $this->Area->getArea($where);
                        $this->load->model("modelo", "Puesto");
                        $Puesto = $this->Puesto->getPuesto($where);
                        $this->load->model("modelo", "RefTipo");
                        $RefTipo = $this->RefTipo->getRefTipo($where);
                        $this->load->model("modelo", "RefCategoria");
                        $RefCategoria = $this->RefCategoria->getRefCategoria($where);
                        $this->load->model("modelo", "Responsables");
                        $responsables = $this->Responsables->getResponsable($where);
                        $this->load->model("modelo", "Estatus");
                        $Estatus = $this->Estatus->getEstatusRef($where);
                        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center">
                        Elegir
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Estatus
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Folio
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Categoría
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Fecha
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Remitente
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destino
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destinatario
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">

                    </div>
                </td>
            </tr>
        <?php foreach ($datos as $cliente1) { ?> 
                <tr>
                    <td>
                        <div class="col-md-1 col-xs-12" align="center">
                            <input type="radio" value="<?php echo $cliente1->ID; ?>" name="TramiteFolio" id="TramiteFolio" required>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($Estatus as $Estatus1) {
                if ($Estatus1->id_estatus == $cliente1->Estatus) {
                    $respuesta = $Estatus1->dsc_estatus;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php echo $cliente1->Numero; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($RefTipo as $RefTipo1) {
                                if ($RefTipo1->id_tipo == $cliente1->Tipo) {
                                    $respuesta = $RefTipo1->dsc_tipo;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($RefCategoria as $RefCategoria1) {
                    if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                        $respuesta = $RefCategoria1->dsc_categoria;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php echo $cliente1->FechaRecibe; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            if ($cliente1->Cliente != 0) {
                echo $cliente1->Cliente;
            } else {
                echo $cliente1->NombreExterno;
            }
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaDestinatario) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreDestinatario) {
                    $respuesta = $responsables1->nombre;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">

                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table> <?php
                    }

                    public function FunConsulta2() {
                        $Folio = $_POST["Importe"];
                        $this->load->model("modelo", "cliente");
                        $datos = $this->cliente->getFuncionConsulta2($Folio);
                        $where = '';
                        $this->load->model("modelo", "ID_cliente");
                        $ID_cliente = $this->ID_cliente->getID_Cliente($where);
                        $this->load->model("modelo", "Area");
                        $Area = $this->Area->getArea($where);
                        $this->load->model("modelo", "Puesto");
                        $Puesto = $this->Puesto->getPuesto($where);
                        $this->load->model("modelo", "RefTipo");
                        $RefTipo = $this->RefTipo->getRefTipo($where);
                        $this->load->model("modelo", "RefCategoria");
                        $RefCategoria = $this->RefCategoria->getRefCategoria($where);
                        $this->load->model("modelo", "Responsables");
                        $responsables = $this->Responsables->getResponsable($where);
                        $this->load->model("modelo", "Estatus");
                        $Estatus = $this->Estatus->getEstatusRef($where);
                        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center">
                        Elegir
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Estatus
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Folio
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Categoría
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Fecha
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Remitente
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destino
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destinatario
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">

                    </div>
                </td>
            </tr>
                        <?php foreach ($datos as $cliente1) { ?> 
                <tr>
                    <td>
                        <div class="col-md-1 col-xs-12" align="center">
                            <input type="radio" value="<?php echo $cliente1->ID; ?>" name="TramiteFolio" id="TramiteFolio" required/>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Estatus as $Estatus1) {
                                if ($Estatus1->id_estatus == $cliente1->Estatus) {
                                    $respuesta = $Estatus1->dsc_estatus;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php echo $cliente1->Numero; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($RefTipo as $RefTipo1) {
                if ($RefTipo1->id_tipo == $cliente1->Tipo) {
                    $respuesta = $RefTipo1->dsc_tipo;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($RefCategoria as $RefCategoria1) {
                    if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                        $respuesta = $RefCategoria1->dsc_categoria;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php echo $cliente1->FechaRecibe; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            if ($cliente1->Cliente != 0) {
                echo $cliente1->Cliente;
            } else {
                echo $cliente1->NombreExterno;
            }
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaDestinatario) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreDestinatario) {
                    $respuesta = $responsables1->nombre;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">

                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table> <?php
    }

    public function FunConsulta3() {
        $Folio = $_POST["Importe"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getFuncionConsulta3($Folio);
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $this->load->model("modelo", "Area");
        $Area = $this->Area->getArea($where);
        $this->load->model("modelo", "Puesto");
        $Puesto = $this->Puesto->getPuesto($where);
        $this->load->model("modelo", "RefTipo");
        $RefTipo = $this->RefTipo->getRefTipo($where);
        $this->load->model("modelo", "RefCategoria");
        $RefCategoria = $this->RefCategoria->getRefCategoria($where);
        $this->load->model("modelo", "Responsables");
        $responsables = $this->Responsables->getResponsable($where);
        $this->load->model("modelo", "Estatus");
        $Estatus = $this->Estatus->getEstatusRef($where);
        ?>
        <table width="100%">    
            <tr>
                <td bgcolor="#99A79A">
                    <div class="col-md-1 col-xs-12" align="center">
                        Elegir
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Estatus
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Folio
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Tipo
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Categoría
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Fecha
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Remitente
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destino
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">
                        Destinatario
                    </div>
                    <div class="col-md-1 col-xs-12" align="center">

                    </div>
                </td>
            </tr>
            <?php foreach ($datos as $cliente1) { ?> 
                <tr>
                    <td>
                        <div class="col-md-1 col-xs-12" align="center">
                            <input type="radio" value="<?php echo $cliente1->ID; ?>" name="TramiteFolio" id="TramiteFolio" required/>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Estatus as $Estatus1) {
                                if ($Estatus1->id_estatus == $cliente1->Estatus) {
                                    $respuesta = $Estatus1->dsc_estatus;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                <?php echo $cliente1->Numero; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($RefTipo as $RefTipo1) {
                    if ($RefTipo1->id_tipo == $cliente1->Tipo) {
                        $respuesta = $RefTipo1->dsc_tipo;
                    }
                }
                echo $respuesta;
                ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($RefCategoria as $RefCategoria1) {
                                if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                                    $respuesta = $RefCategoria1->dsc_categoria;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                <?php echo $cliente1->FechaRecibe; ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            if ($cliente1->Cliente != 0) {
                echo $cliente1->Cliente;
            } else {
                echo $cliente1->NombreExterno;
            }
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
                            <?php
                            $respuesta = '-';
                            foreach ($Area as $Area1) {
                                if ($Area1->id_area == $cliente1->AreaDestinatario) {
                                    $respuesta = $Area1->dsc_area;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreDestinatario) {
                    $respuesta = $responsables1->nombre;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-md-1 col-xs-12" align="center">

                        </div>
                    </td>
                </tr>
        <?php } ?>
        </table> <?php
    }

    public function ResultadoTramite() {
        $ID = $_POST["ID"];
        $user = $_POST["user"];
        $this->load->model("modelo", "cliente");
        $datos = $this->cliente->getResultadoRef($ID);
        if ($ID[0] == 'D') {
            $datos = $this->cliente->getResultadoRef2($ID);
        }
        if ($ID == '0') {
            $where = '';
            $data = $this->cliente->getResultadoRefALL();
            $this->load->model("modelo", "RefCategoria");
            $RefCategoria = $this->RefCategoria->getRefCategoria($where);
            $this->load->model("modelo", "Estatus");
            $Estatus = $this->Estatus->getEstatusRef($where);
            ?> 
            <table width="100%" border="1" bordercolor="#9c9a9a">
                            <?php
                            foreach ($data as $cliente1) {
                                if ($user == $cliente1->TramiteAsignado_a) {
                                    ?>
                        <tr>
                            <td bgcolor="#333333">
                                <div class="col-xs-12 col-sm-4" align="center">
                        <?php echo $cliente1->Numero; ?>
                                </div>
                                <div class="col-xs-12 col-sm-4"  align="center">
                                    <?php
                                    $respuesta = '-';
                                    foreach ($Estatus as $Estatus1) {
                                        if ($Estatus1->id_estatus == $cliente1->Estatus) {
                                            $respuesta = $Estatus1->dsc_estatus;
                                        }
                                    }
                                    echo $respuesta;
                                    ?>
                                </div>
                                <div class="col-xs-12 col-sm-4"  align="center">
                                    <?php
                                    $respuesta = '-';
                                    foreach ($RefCategoria as $RefCategoria1) {
                                        if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                                            $respuesta = $RefCategoria1->dsc_categoria;
                                        }
                                    }
                                    echo $respuesta;
                                    ?>
                                </div>
                            </td>
                        </tr>
                                <?php }
                            } ?>
            </table>
                            <?php
                        } else {
                            $where = '';
                            $this->load->model("modelo", "ID_cliente");
                            $ID_cliente = $this->ID_cliente->getID_Cliente($where);
                            $this->load->model("modelo", "Area");
                            $Area = $this->Area->getArea($where);
                            $this->load->model("modelo", "Puesto");
                            $Puesto = $this->Puesto->getPuesto($where);
                            $this->load->model("modelo", "RefTipo");
                            $RefTipo = $this->RefTipo->getRefTipo($where);
                            $this->load->model("modelo", "RefCategoria");
                            $RefCategoria = $this->RefCategoria->getRefCategoria($where);
                            $this->load->model("modelo", "Responsables");
                            $responsables = $this->Responsables->getResponsable($where);
                            $this->load->model("modelo", "Estatus");
                            $Estatus = $this->Estatus->getEstatusRef($where);
                            foreach ($datos as $cliente1)
                                $nombre = $cliente1->Numero;
                            $nombretramite = $cliente1->TramiteFolio;
                            $extension = '.pdf';
                            $archivo = $nombre . $extension;
                            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
                            <?php echo $cliente1->Numero; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Tipo:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                <?php
                $respuesta = '-';
                foreach ($RefTipo as $RefTipo1) {
                    if ($RefTipo1->id_tipo == $cliente1->Tipo) {
                        $respuesta = $RefTipo1->dsc_tipo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Categoría:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($RefCategoria as $RefCategoria1) {
                                if ($RefCategoria1->id_categoria == $cliente1->Categoria) {
                                    $respuesta = $RefCategoria1->dsc_categoria;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Prioridad:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->Prioridad; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Estatus:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($Estatus as $Estatus1) {
                                if ($Estatus1->id_estatus == $cliente1->Estatus) {
                                    $respuesta = $Estatus1->dsc_estatus;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            REMITENTE EXTERNO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($ID_cliente as $clientes1) {
                                if ($clientes1->Folio == $cliente1->Cliente) {
                                    $respuesta = $clientes1->NombreC;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
                            <?php echo $cliente1->RemitenteExterno; ?> 
                            </div>
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
                            <?php echo $cliente1->NombreExterno; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            REMITENTE INTERNO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($responsables as $responsables1) {
                                if ($responsables1->Id == $cliente1->NombreInterno) {
                                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
                <?php
                $respuesta = '-';
                foreach ($Puesto as $Puesto1) {
                    if ($Puesto1->id_puesto == $cliente1->PuestoInterno) {
                        $respuesta = $Puesto1->dsc_puesto;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($Area as $Area1) {
                                if ($Area1->id_area == $cliente1->AreaInterno) {
                                    $respuesta = $Area1->dsc_area;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            RECEPCION
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($responsables as $responsables1) {
                                if ($responsables1->Id == $cliente1->NombreRecibe) {
                                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
                            <?php
                            $respuesta = '-';
                            foreach ($Area as $Area1) {
                                if ($Area1->id_area == $cliente1->AreaRecibe) {
                                    $respuesta = $Area1->dsc_area;
                                }
                            }
                            echo $respuesta;
                            ?>
                            </div>
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $cliente1->PuestoRecibe) {
                    $respuesta = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
                            <?php echo $cliente1->FechaRecibe; ?> 
                            </div>
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
                            <?php echo $cliente1->HoraRecibe; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            DESTINATARIO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->NombreDestinatario) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaDestinatario) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Puesto as $Puesto1) {
                if ($Puesto1->id_puesto == $cliente1->PuestoDestinatario) {
                    $respuesta = $Puesto1->dsc_puesto;
                }
            }
            echo $respuesta;
            ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->Actividad; ?> 
                            </div>
                            <div class="col-md-6 col-xs-12" align="left" style="color:#ff6600">
            <?php echo $cliente1->Servicio; ?>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            ARCHIVO
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12" style="color:#ff6600">
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
            <?php echo $cliente1->FormatoDocumento; ?>
                            </div>
                            <div class="col-xs-6 col-sm-6" align="left" style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($Area as $Area1) {
                if ($Area1->id_area == $cliente1->AreaUbicacion) {
                    $respuesta = $Area1->dsc_area;
                }
            }
            echo $respuesta;
            ?> 
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
                            <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
            <?php echo $cliente1->Ubicacion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                        <?php
                        $files = get_filenames($this->folder, FALSE);
                        foreach ($files as $file) {
                            $ext = substr($file, strpos($file, ".") + strlen("."));
                            $name = substr($file, 0, strpos($file, "."));
                            if ($name == $nombre) {
                                ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                                echo anchor('controlador/downloads/' . $file, $file) . br(1);
                                ?>
                                    </div>
                                    <div class="ccol-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Referenciados/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                <?php }
            }
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                            ASIGNADO POR
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
            <?php
            $respuesta = '-';
            foreach ($responsables as $responsables1) {
                if ($responsables1->Id == $cliente1->Asignatario) {
                    $respuesta = $responsables1->nombre . ' ' . $responsables1->apaterno . ' ' . $responsables1->amaterno;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
                            <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
            <?php echo $cliente1->TramiteFolio; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
                            <div class="col-xs-12 col-sm-12"  style="color:#ff6600">
            <?php echo $cliente1->TramiteObservaciones; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php
            $files = get_filenames($this->folder2, FALSE);
            foreach ($files as $file) {
                $ext = substr($file, strpos($file, ".") + strlen("."));
                $name = substr($file, 0, strpos($file, "."));
                if ($name == $nombretramite) {
                    ?> 
                                    <div class="col-md-6 col-xs-12" align="left"> <?php
                    echo anchor('controlador/downloads/' . $file, $file) . br(1);
                    ?>
                                    </div>
                                    <div class="col-md-6 col-xs-12" align="left"> 
                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/Tramites/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                    </div>
                <?php }
            }
            ?>
                        </div>
                    </td>
                </tr>
            </table>
                        <?php
                    }
                }

                public function Confirmar() {
                    $this->load->model("modelo", "datos");
                    $ID = $this->input->post('Historico');
                    $Estatus = 2;
                    $datos = $this->datos->getConfirmar($ID, $Estatus
                    );
                    echo '<script>alert("Confirmación exitosa")</script>';
                    //Cargando usuarios
                    $indiceuser = $this->input->post('user');
                    $where = '';
                    $this->load->model("modelo", "USUARIOS");
                    $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                    $data['USUARIOS'] = $USUARIOS;
                    $data['User'] = $indiceuser;
                    //Gráfica
                    $this->load->model("modelo", "cliente");
                    $asignados = $this->cliente->getAsignadosRef($indiceuser);
                    $data['asignados'] = $asignados;
                    // View render
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'Asignados';
                    $this->_renderView($data);
                }

                public function VG_Tramite() {
                    //Cargando usuarios
                    $indiceuser = $this->input->get('i');
                    $where = '';
                    $this->load->model("modelo", "USUARIOS");
                    $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                    //Abriendo BD estatus
                    $this->load->model("modelo", "RefEstatus");
                    $RefEstatus = $this->RefEstatus->getEstatusRef();
                    $data['RefEstatus'] = $RefEstatus;
                    //Abriendo BD Categoria
                    $this->load->model("modelo", "RefCategoria");
                    $d_RefCategoria = $this->RefCategoria->getRefCategoria();
                    $data['RefCategoria'] = $d_RefCategoria;
                    //Abriendo BD referenciados
                    $this->load->model("modelo", "Referenciados");
                    $Referenciados = $this->Referenciados->getRefTipo2();
                    $data['Referenciados'] = $Referenciados;
                    $data['USUARIOS'] = $USUARIOS;
                    $data['User'] = $indiceuser;
                    //Gráfica
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'Estadisticas_Ref_2';
                    $this->_renderView($data);
                }

//*************************************___________Fin trámites___________***********************************************************  



                public function Enviar_mail() {
                    $this->load->model("modelo", "datos");
                    $Folio = $this->input->get('Folio');
                    $Cuenta = $this->input->get('Cuenta');
                    $datos = $this->datos->getenvcorreo(
                            $Folio, $Cuenta);
                    echo '<script>alert("Se ha enviado un correo electrónico de notificación")</script>';
                    //Abriendo BD cliente
                    $where = '';
                    $this->load->model("modelo", "ID_cliente");
                    $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
                    $data['ID_cliente'] = $d_ID_cliente;
                    // View render
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'CalculoImpuestos';
                    $this->_renderView($data);
                }

//*************************************___________Recursos___________***********************************************************  
                public function Recursos() {
                    $this->load->model("modelo", "datos");
                    $Recursos = $this->input->get('Recurso');
                    $indiceuser = $this->input->get('i');
                    $where = '';
                    if ($Recursos == 'R1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Recursos';
                        $this->_renderView($data);
                    }
                    if ($Recursos == 'R2') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'RecursosTasas';
                        $this->_renderView($data);
                    }
                    if ($Recursos == 'R3') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'RecursosSitios';
                        $this->_renderView($data);
                    }
                    if ($Recursos == 'R4') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'RecursosRevistas';
                        $this->_renderView($data);
                    }
                }

//*************************************___________Fin Recursos___________***********************************************************  
//******************************************************** Vinculacion****************************************************
                public function Vinculacion() {
                    $this->load->model("modelo", "datos");
                    $vinculacion = $this->input->post('Vinculacion');
                    $indiceuser = $this->input->post('user');
                    $where = '';
                    if ($vinculacion == 'E1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Proyectos
                        $this->load->model("modelo", "Proyectos");
                        $Proyectos = $this->Proyectos->getProyectos();
                        $data['Proyectos'] = $Proyectos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'EstanciaLProyectos';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'E2') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $where = '';
                        //Estancia
                        $this->load->model("modelo", "Estancia");
                        $Estancia = $this->Estancia->getEstancia();
                        $data['Estancia'] = $Estancia;
                        //Estudios
                        $this->load->model("modelo", "Estudios");
                        $Estudios = $this->Estudios->getEstudios();
                        $data['Estudios'] = $Estudios;
                        //Abriendo BD Sector
                        $this->load->model("modelo", "Sector");
                        $Sector = $this->Sector->getRegimen($where);
                        $data['Sector'] = $Sector;
                        //Duracion	
                        $this->load->model("modelo", "Duracion");
                        $Duracion = $this->Duracion->getDuracion();
                        $data['Duracion'] = $Duracion;
                        //Abriendo BD Estado
                        $this->load->model("modelo", "Estado");
                        $d_Estado = $this->Estado->getEstado2($where);
                        $data['Estado'] = $d_Estado;
                        //Abriendo BD Ciudad
                        $this->load->model("modelo", "Ciudad");
                        $d_Ciudad = $this->Ciudad->getCiudad2($where);
                        $data['Ciudad'] = $d_Ciudad;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'EstanciaLSolicitud';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'E3') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Apoyo
                        $this->load->model("modelo", "Apoyo");
                        $Apoyo = $this->Apoyo->getApoyoEconomico();
                        $data['Apoyo'] = $Apoyo;
                        //Abriendo BD Estancias
                        $this->load->model("modelo", "Estancias");
                        $Estancias = $this->Estancias->getEstancias();
                        $data['Estancias'] = $Estancias;
                        //Responsables	
                        $data['Responsables'] = $USUARIOS;
                        $data['scripts'] = array('estancias');
                        $data['contentView'] = 'EstanciaLAprobacion';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'E4') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Estancia
                        $this->load->model("modelo", "Estancia");
                        $Estancia = $this->Estancia->getEstancia();
                        $data['Estancia'] = $Estancia;
                        //Apoyo
                        $this->load->model("modelo", "Apoyo");
                        $Apoyo = $this->Apoyo->getApoyoEconomico();
                        $data['Apoyo'] = $Apoyo;
                        //Abriendo BD Estancias
                        $this->load->model("modelo", "Estancias");
                        $Estancias = $this->Estancias->getEstanciasSI();
                        $data['Estancias'] = $Estancias;
                        //Responsables	
                        $data['Responsables'] = $USUARIOS;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'EstanciaLAprobacionView';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'F1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Formacion
                        $this->load->model("modelo", "Formacion");
                        $Formacion = $this->Formacion->getFormacion();
                        $data['Formacion'] = $Formacion;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'FormacionCTemas';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'F2') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'FormacionCModalidades';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'F3') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Modalidad
                        $this->load->model("modelo", "Modalidad");
                        $Modalidad = $this->Modalidad->getModalidad();
                        $data['Modalidad'] = $Modalidad;
                        //Actividad
                        $this->load->model("modelo", "Actividad");
                        $Actividad = $this->Actividad->getActividad();
                        $data['Actividad'] = $Actividad;
                        $data['contentView'] = 'FormacionCSolicitud';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'F4') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Responsables	
                        $data['Responsables'] = $USUARIOS;
                        //Modalidad
                        $this->load->model("modelo", "Modalidad");
                        $Modalidad = $this->Modalidad->getModalidad();
                        $data['Modalidad'] = $Modalidad;
                        //Modalidad 
                        $this->load->model("modelo", "ActividadS");
                        $ActividadS = $this->ActividadS->getActividadS();
                        $data['ActividadS'] = $ActividadS;
                        //Actividad
                        $this->load->model("modelo", "Actividad");
                        $Actividad = $this->Actividad->getActividad();
                        $data['TipoAct'] = $Actividad;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'FormacionCAprobacion';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'F5') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Modalidad
                        $this->load->model("modelo", "Cursos");
                        $Cursos = $this->Cursos->getCursosAllAprobado();
                        $data['Cursos'] = $Cursos;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'FormacionCEvaluacion';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'O1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        //Jornada
                        $this->load->model("modelo", "Jornada");
                        $Jornada = $this->Jornada->getJornada();
                        $data['Jornada'] = $Jornada;
                        //Contratación
                        $this->load->model("modelo", "Contratacion");
                        $Contratacion = $this->Contratacion->getContratacion();
                        $data['Contratacion'] = $Contratacion;
                        //Nivel de estudios
                        $this->load->model("modelo", "NivelEstudios");
                        $NivelEstudios = $this->NivelEstudios->getNivelEstudios();
                        $data['NivelEstudios'] = $NivelEstudios;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'OportunidadESolicitud';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'O3') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo las oportunidades de empleo
                        $this->load->model("modelo", "general");
                        $Oportunidades = $this->general->getOportunidadesALL($where);
                        $data['Oportunidad'] = $Oportunidades;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'OportunidadEEditar_1';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'S1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Solicitudes de Empleo
                        $this->load->model("modelo", "Solicitud");
                        $Solicitud = $this->Solicitud->getSoliEmAll();
                        $data['Solicitudes'] = $Solicitud;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'SolicitudESolicitudView';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'S2') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Pais
                        $where = '';
                        $this->load->model("modelo", "Pais");
                        $d_Pais = $this->Pais->getPais($where);
                        $data['Pais'] = $d_Pais;
                        //Abriendo BD Estado
                        $where = '';
                        $this->load->model("modelo", "Estado");
                        $d_Estado = $this->Estado->getEstado2($where);
                        $data['Estado'] = $d_Estado;
                        //Abriendo BD Ciudad
                        $where = '';
                        $this->load->model("modelo", "Ciudad");
                        $d_Ciudad = $this->Ciudad->getCiudad2($where);
                        $data['Ciudad'] = $d_Ciudad;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'SolicitudESolicitud';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'A1') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Pais
                        $where = '';
                        $this->load->model("modelo", "Pais");
                        $d_Pais = $this->Pais->getPais($where);
                        $data['Pais'] = $d_Pais;
                        //Abriendo BD Estado
                        $where = '';
                        $this->load->model("modelo", "Estado");
                        $d_Estado = $this->Estado->getEstado2($where);
                        $data['Estado'] = $d_Estado;
                        //Abriendo BD Ciudad
                        $where = '';
                        $this->load->model("modelo", "Ciudad");
                        $d_Ciudad = $this->Ciudad->getCiudad2($where);
                        $data['Ciudad'] = $d_Ciudad;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'ApoyoSSolicitud';
                        $this->_renderView($data);
                    }
                    if ($vinculacion == 'A2') {
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Solicitudes de Empleo
                        $this->load->model("modelo", "Donativo");
                        $Donativo = $this->Donativo->getDonativosAll();
                        $data['Donativos'] = $Donativo;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'ApoyoSSolicitudView';
                        $this->_renderView($data);
                    }
                }

                public function EditarSolicitud() {
                    $this->load->model("modelo", "datos");
                    $indiceuser = $this->input->post('user');
                    $OportunidadID = $this->input->post('Oportunidad');
                    $where = '';
                    $this->load->model("modelo", "USUARIOS");
                    $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                    $data['USUARIOS'] = $USUARIOS;
                    $data['User'] = $indiceuser;
                    //Jornada
                    $this->load->model("modelo", "Jornada");
                    $Jornada = $this->Jornada->getJornada();
                    $data['Jornada'] = $Jornada;
                    //Contratación
                    $this->load->model("modelo", "Contratacion");
                    $Contratacion = $this->Contratacion->getContratacion();
                    $data['Contratacion'] = $Contratacion;
                    //Nivel de estudios
                    $this->load->model("modelo", "NivelEstudios");
                    $NivelEstudios = $this->NivelEstudios->getNivelEstudios();
                    $data['NivelEstudios'] = $NivelEstudios;
                    //Abriendo las oportunidades de empleo
                    $this->load->model("modelo", "general");
                    $Oportunidades = $this->general->getOportunidadesID($OportunidadID);
                    $data['Oportunidad'] = $Oportunidades;
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'OportunidadEEditar';
                    $this->_renderView($data);
                }

                public function EstLabProyectos() {
                    $this->load->model("modelo", "datos");
                    $Tema_1 = $this->input->post('Tema_1');
                    $Tema_2 = $this->input->post('Tema_2');
                    $Tema_3 = $this->input->post('Tema_3');
                    $Tema_4 = $this->input->post('Tema_4');
                    $Tema_5 = $this->input->post('Tema_5');
                    $Tema_6 = $this->input->post('Tema_6');
                    $Tema_7 = $this->input->post('Tema_7');
                    $datos = $this->datos->getEstLabProyectos(
                            $Tema_1, $Tema_2, $Tema_3, $Tema_4, $Tema_5, $Tema_6, $Tema_7
                    );
                    echo '<script>alert("Se han actualizado correctamente")</script>';
                    //Cargando usuarios
                    $where = '';
                    $this->load->model("modelo", "USUARIOS");
                    $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                    $data['USUARIOS'] = $USUARIOS;
                    $indiceuser = $this->input->post('user');
                    $data['User'] = $indiceuser;
                    // View render
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'Vinculacion';
                    $this->_renderView($data);
                }

                public function EstanciaSolicitud() {
                    $this->load->model("modelo", "datos");
                    $NombreProyecto = $this->input->post('NombreProyecto');
                    $Solicitante = $this->input->post('Solicitante');
                    $NivelEstudios = $this->input->post('NivelEstudios');
                    $ProgramaEducativo = $this->input->post('ProgramaEducativo');
                    $Institucion = $this->input->post('Institucion');
                    $Sector = $this->input->post('Sector');
                    $DomicilioInstCalle = $this->input->post('DomicilioInstCalle');
                    $DomicilioInstNumero = $this->input->post('DomicilioInstNumero');
                    $DomicilioInstColonia = $this->input->post('DomicilioInstColonia');
                    $DomicilioInstTelefono = $this->input->post('DomicilioInstTelefono');
                    $Estado = $this->input->post('Estado');
                    $Ciudad = $this->input->post('Ciudad');
                    $Duracion = $this->input->post('Duracion');
                    $Justificacion = $this->input->post('Justificacion');
                    $Objetivo = $this->input->post('Objetivo');
                    $Metas = $this->input->post('Metas');
                    $Actividades = $this->input->post('Actividades');
                    $Aprobacion = 'Pendiente';
                    $datos = $this->datos->getEstanciaSolicitud(
                            $NombreProyecto, $Solicitante, $NivelEstudios, $ProgramaEducativo, $Institucion, $Sector, $DomicilioInstCalle, $DomicilioInstNumero, $DomicilioInstColonia, $DomicilioInstTelefono, $Estado, $Ciudad, $Duracion, $Justificacion, $Objetivo, $Metas, $Actividades, $Aprobacion
                    );
                    echo '<script>alert("Se ha registrado correctamente")</script>';
                    //Cargando usuarios
                    $where = '';
                    $this->load->model("modelo", "USUARIOS");
                    $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                    $data['USUARIOS'] = $USUARIOS;
                    $indiceuser = $this->input->post('user');
                    $data['User'] = $indiceuser;
                    // View render
                    $data['scripts'] = array('cliente');
                    $data['contentView'] = 'Vinculacion';
                    $this->_renderView($data);
                }

                public function EstanciaID() {
                    $Estancia = $_POST["Estancia"];
                    if ($Estancia != 0) {
                        $this->load->model("modelo", "EstanciaID");
                        $datos = $this->EstanciaID->getEstanciaID($Estancia);
                        $where = '';
                        //Estancia
                        $this->load->model("modelo", "Estancia");
                        $Estancia = $this->Estancia->getEstancia();
                        //Estudios
                        $this->load->model("modelo", "Estudios");
                        $Estudios = $this->Estudios->getEstudios();
                        //Abriendo BD Sector
                        $this->load->model("modelo", "Sector");
                        $Sector = $this->Sector->getRegimen($where);
                        //Abriendo BD Estado
                        $this->load->model("modelo", "Estado");
                        $Estado = $this->Estado->getEstado2($where);
                        //Abriendo BD Ciudad
                        $this->load->model("modelo", "Ciudad");
                        $Ciudad = $this->Ciudad->getCiudad2($where);
                        //Duracion	
                        $this->load->model("modelo", "Duracion");
                        $Duracion = $this->Duracion->getDuracion();

                        foreach ($datos as $datos1)
                            
                            ?>
                <table width="100%" border="1" bordercolor="#ee8d6c">
                    <tr>
                        <td>
                            <div class="col-xs-6 col-sm-6">
                                Nombre: 
            <?php
            $respuesta = '-';
            foreach ($Estancia as $Estancia1) {
                if ($Estancia1->id_estancia == $datos1->NombreProyecto) {
                    $respuesta = $Estancia1->dsc_estancia;
                }
            }
            echo $respuesta;
            ?>
                        </div>
                        <div class="col-xs-6 col-sm-6">
                            Solicitante: <?php echo $datos1->Solicitante; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-6 col-sm-6">
                            Nivel de Estudios: 
                            <?php
                            $respuesta = '-';
                            foreach ($Estudios as $Estudios1) {
                                if ($Estudios1->id_estudios == $datos1->NivelEstudios) {
                                    $respuesta = $Estudios1->dsc_estudios;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                        <div class="col-xs-6 col-sm-6">
                            Programa: <?php echo $datos1->ProgramaEducativo; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-6 col-sm-6">
                            Institución: 
                            <?php echo $datos1->Institucion; ?>
                        </div>
                        <div class="col-xs-6 col-sm-6">
                            Sector: 
                            <?php
                            $respuesta = '-';
                            foreach ($Sector as $Sector1) {
                                if ($Sector1->id_regimen == $datos1->Sector) {
                                    $respuesta = $Sector1->dsc_regimen;
                                }
                            }
                            echo $respuesta;
                            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <?php echo $datos1->DomicilioInstCalle . ', ' . $datos1->DomicilioInstNumero . ', ' . $datos1->DomicilioInstColonia . ', (' . $datos1->DomicilioInstTelefono . ')'; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <?php
                            $respuestae = '-';
                            foreach ($Estado as $Estado1) {
                                if ($Estado1->id_estado == $datos1->Estado) {
                                    $respuestae = $Estado1->dsc_estado;
                                }
                            }
                            $respuestac = '-';
                            foreach ($Ciudad as $Ciudad1) {
                                if ($Ciudad1->id_ciudad == $datos1->Ciudad) {
                                    $respuestac = $Ciudad1->dsc_ciudad;
                                }
                            }
                            echo $respuestae . ', ' . $respuestac;
                            ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php echo $datos1->Justificacion; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php echo $datos1->Objetivo; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
            <?php echo $datos1->Metas; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <?php echo $datos1->Actividades; ?>
                        </div>
                    </td>
                </tr>
            </table>
                            <?php
                        } else {
                            echo 'Seleccionar';
                            ?> <?php
                        }
                    }

                    public function EstanciaAprobacion() {
                        $this->load->model("modelo", "datos");
                        $Estanciaid = $this->input->post('Estanciaid');
                        $Aprobacion = $this->input->post('Aprobacion');
                        $Apoyo = $this->input->post('Apoyo');
                        $FormaEntrega = $this->input->post('FormaEntrega');
                        $Periodicidad = $this->input->post('Periodicidad');
                        $Monto = $this->input->post('Monto');
                        $Responsable = $this->input->post('Responsable');
                        $FechaInicio = $this->input->post('FechaInicio');
                        $Horario = $this->input->post('Horario');
                        $datos = $this->datos->getEstanciaAprobacion(
                                $Estanciaid, $Aprobacion, $Apoyo, $FormaEntrega, $Periodicidad, $Monto, $Responsable, $FechaInicio, $Horario
                        );
                        echo '<script>alert("Se ha aprobado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function ForTemas() {
                        $this->load->model("modelo", "datos");
                        $Tema_1 = $this->input->post('Tema_1');
                        $Tema_2 = $this->input->post('Tema_2');
                        $Tema_3 = $this->input->post('Tema_3');
                        $Tema_4 = $this->input->post('Tema_4');
                        $Tema_5 = $this->input->post('Tema_5');
                        $Tema_6 = $this->input->post('Tema_6');
                        $Tema_7 = $this->input->post('Tema_7');
                        $Tema_8 = $this->input->post('Tema_8');
                        $Tema_9 = $this->input->post('Tema_9');
                        $Tema_10 = $this->input->post('Tema_10');
                        $Tema_11 = $this->input->post('Tema_11');
                        $Tema_12 = $this->input->post('Tema_12');
                        $Tema_13 = $this->input->post('Tema_13');
                        $datos = $this->datos->getForTemas(
                                $Tema_1, $Tema_2, $Tema_3, $Tema_4, $Tema_5, $Tema_6, $Tema_7, $Tema_8, $Tema_9, $Tema_10, $Tema_11, $Tema_12, $Tema_13
                        );
                        echo '<script>alert("Se han registrado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function Modalidades() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('Modalidad');
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Modalidad
                        $this->load->model("modelo", "Modalidad");
                        $Modalidad = $this->Modalidad->getModalidad();
                        $data['Modalidad'] = $Modalidad;
                        //Actividad
                        $this->load->model("modelo", "Actividad");
                        $Actividad = $this->Actividad->getActividad();
                        $data['Actividad'] = $Actividad;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'FormacionCSolicitud';
                        $this->_renderView($data);
                    }

                    public function ForSolicitud() {
                        $this->load->model("modelo", "datos");
                        $TipoActividad = $this->input->post('TipoActividad');
                        $NombreActividad = $this->input->post('NombreActividad');
                        $Solicitante = $this->input->post('Solicitante');
                        $ResponsableOrganizacion = $this->input->post('ResponsableOrganizacion');
                        $Objetivo = $this->input->post('Objetivo');
                        $Temas = $this->input->post('Temas');
                        $Ciudad = $this->input->post('Ciudad');
                        $Domicilio = $this->input->post('Domicilio');
                        $Telefono = $this->input->post('Telefono');
                        $Email = $this->input->post('Email');
                        $Pagina = $this->input->post('Pagina');
                        $Modalidad = $this->input->post('Modalidad');
                        $DuracionHoras = $this->input->post('DuracionHoras');
                        $Horario = $this->input->post('Horario');
                        $FechaInicio = $this->input->post('FechaInicio');
                        $FechaTermino = $this->input->post('FechaTermino');
                        $CupoMinimo = $this->input->post('CupoMinimo');
                        $CupoMaximo = $this->input->post('CupoMaximo');
                        $Perfil = $this->input->post('Perfil');
                        $Fecha = date("d/m/Y");
                        $datos = $this->datos->getForSolicitud(
                                $TipoActividad, $NombreActividad, $Solicitante, $ResponsableOrganizacion, $Objetivo, $Temas, $Ciudad, $Domicilio, $Telefono, $Email, $Pagina, $Modalidad, $DuracionHoras, $Horario, $FechaInicio, $FechaTermino, $CupoMinimo, $CupoMaximo, $Perfil, $Fecha
                        );
                        echo '<script>alert("Se ha registrado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function ForAprobacion() {
                        $this->load->model("modelo", "datos");
                        $Formacionid = $this->input->post('Formacionid');
                        $Aprobacion = $this->input->post('Aprobacion');
                        $Costo = $this->input->post('Costo');
                        $Responsable = $this->input->post('Responsable');
                        $NuevoNombreActividad = $this->input->post('NuevoNombreActividad');
                        $Modalidad = $this->input->post('Modalidad');
                        $Duracion = $this->input->post('Duracion');
                        $Horario = $this->input->post('Horario');
                        $FechaInicio = $this->input->post('FechaInicio');
                        $FechaTermino = $this->input->post('FechaTermino');
                        $datos = $this->datos->getForAprobacion(
                                $Formacionid, $Aprobacion, $Costo, $Responsable, $NuevoNombreActividad, $Modalidad, $Duracion, $Horario, $FechaInicio, $FechaTermino
                        );
                        echo '<script>alert("Se ha aprobado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function ForEvaluacion() {
                        $this->load->model("modelo", "datos");
                        $Formacionid = $this->input->post('IDCurso');
                        $Dominio = $this->input->post('Dominio');
                        $Materiales = $this->input->post('Materiales');
                        $Habilidad = $this->input->post('Habilidad');
                        $Estructura = $this->input->post('Estructura');
                        $Objetivos = $this->input->post('Objetivos');
                        $Fundamentos = $this->input->post('Fundamentos');
                        $Practica = $this->input->post('Practica');
                        $Limpieza = $this->input->post('Limpieza');
                        $Mobiliario = $this->input->post('Mobiliario');
                        $Equipo = $this->input->post('Equipo');
                        $CalidadMI = $this->input->post('CalidadMI');
                        $CongruenciaMI = $this->input->post('CongruenciaMI');
                        $EntregaMI = $this->input->post('EntregaMI');
                        $CalidadME = $this->input->post('CalidadME');
                        $CongruenciaME = $this->input->post('CongruenciaME');
                        $EntregaME = $this->input->post('EntregaME');
                        $CalifCurso = $this->input->post('CalifCurso');
                        $CalifInstruc = $this->input->post('CalifInstruc');
                        $datos = $this->datos->getForEvaluacion(
                                $Formacionid, $Dominio, $Materiales, $Habilidad, $Estructura, $Objetivos, $Fundamentos, $Practica, $Limpieza, $Mobiliario, $Equipo, $CalidadMI, $CongruenciaMI, $EntregaMI, $CalidadME, $CongruenciaME, $EntregaME, $CalifCurso, $CalifInstruc
                        );
                        echo '<script>alert("Se ha calificado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function OportESolicitud() {
                        $this->load->model("modelo", "datos");
                        $Puesto = $this->input->post('Puesto');
                        $Funciones = $this->input->post('Funciones');
                        $Actividades = $this->input->post('Actividades');
                        $Metas = $this->input->post('Metas');
                        $Jornada = $this->input->post('Jornada');
                        $Contratacion = $this->input->post('Contratacion');
                        $Sueldo = $this->input->post('Sueldo');
                        $Lugar = $this->input->post('Lugar');
                        $Estudios = $this->input->post('Estudios');
                        $ProgramasE = $this->input->post('ProgramasE');
                        $Competencias = $this->input->post('Competencias');
                        $Experiencia = $this->input->post('Experiencia');
                        $Genero = $this->input->post('Genero');
                        $EstadoCivil = $this->input->post('EstadoCivil');
                        $Edad = $this->input->post('Edad');
                        $Fecha = date("d/m/Y");
                        $datos = $this->datos->getOportESolicitud(
                                $Puesto, $Funciones, $Actividades, $Metas, $Jornada, $Contratacion, $Sueldo, $Lugar, $Estudios, $ProgramasE, $Competencias, $Experiencia, $Genero, $EstadoCivil, $Edad, $Fecha
                        );
                        echo '<script>alert("Se ha registrado su solicitud correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function OportESolicitudActualizada() {
                        $this->load->model("modelo", "datos");
                        $ID = $this->input->post('ID');
                        $Puesto = $this->input->post('Puesto');
                        $Funciones = $this->input->post('Funciones');
                        $Actividades = $this->input->post('Actividades');
                        $Metas = $this->input->post('Metas');
                        $Sueldo = $this->input->post('Sueldo');
                        $Lugar = $this->input->post('Lugar');
                        $ProgramasE = $this->input->post('ProgramasE');
                        $Competencias = $this->input->post('Competencias');
                        $Experiencia = $this->input->post('Experiencia');
                        $Edad = $this->input->post('Edad');
                        $Fecha = date("d/m/Y");
                        $datos = $this->datos->getOportESolicitudAct(
                                $ID, $Puesto, $Funciones, $Actividades, $Metas, $Sueldo, $Lugar, $ProgramasE, $Competencias, $Experiencia, $Edad, $Fecha
                        );
                        echo '<script>alert("Se ha actualizado su solicitud correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function SolicitudEmpleo() {
                        $this->load->model("modelo", "datos");
                        $Nombre = $this->input->post('Nombre');
                        $Genero = $this->input->post('Genero');
                        $EstadoCivil = $this->input->post('EstadoCivil');
                        $CURP = $this->input->post('CURP');
                        $RFC = $this->input->post('RFC');
                        $Cedula = $this->input->post('Cedula');
                        $NSS = $this->input->post('NSS');
                        $NP = $this->input->post('NP');
                        $NA = $this->input->post('NA');
                        $Licencia = $this->input->post('Licencia');
                        $TipoLicencia = $this->input->post('TipoLicencia');
                        $NoLicencia = $this->input->post('NoLicencia');
                        $Calle = $this->input->post('Calle');
                        $No = $this->input->post('No');
                        $Colonia = $this->input->post('Colonia');
                        $Pais = $this->input->post('Pais');
                        $Estado = $this->input->post('Estado');
                        $Ciudad = $this->input->post('Ciudad');
                        $Correo = $this->input->post('Correo');
                        $Cel = $this->input->post('Cel');
                        $Tel = $this->input->post('Tel');
                        $facebook = $this->input->post('facebook');
                        $twitter = $this->input->post('twitter');
                        $linkedin = $this->input->post('linkedin');
                        $Instagram = $this->input->post('Instagram');
                        $Estudios = $this->input->post('Estudios');
                        $Certificado = $this->input->post('Certificado');
                        $Institucion = $this->input->post('Institucion');
                        $Programa = $this->input->post('Programa');
                        $Ingles = $this->input->post('Ingles');
                        $Software = $this->input->post('Software');
                        $Cargo = $this->input->post('Cargo');
                        $Organizacion = $this->input->post('Organizacion');
                        $FechaInicio = $this->input->post('FechaInicio');
                        $FechaTermino = $this->input->post('FechaTermino');
                        $TelTrabajo = $this->input->post('TelTrabajo');
                        $SueldoAnt = $this->input->post('SueldoAnt');
                        $Funciones = $this->input->post('Funciones');
                        $ViveCon = $this->input->post('ViveCon');
                        $Dependientes = $this->input->post('Dependientes');
                        $Auto = $this->input->post('Auto');
                        $DuenioCasa = $this->input->post('DuenioCasa');
                        $Renta = $this->input->post('Renta');
                        $SueldoDeseado = $this->input->post('SueldoDeseado');
                        $Salud = $this->input->post('Salud');
                        $PadeceEnfermedad = $this->input->post('PadeceEnfermedad');
                        $Enfermedad = $this->input->post('Enfermedad');
                        $Discapacidad = $this->input->post('Discapacidad');
                        $TipoDiscapacidad = $this->input->post('TipoDiscapacidad');
                        $ActividadF = $this->input->post('ActividadF');
                        $ActividadFisica = $this->input->post('ActividadFisica');
                        $Estatura = $this->input->post('Estatura');
                        $Peso = $this->input->post('Peso');
                        $Supox = $this->input->post('Supox');
                        $Familiares = $this->input->post('Familiares');
                        $Familiar = $this->input->post('Familiar');
                        $Viajar = $this->input->post('Viajar');
                        $CambiarR = $this->input->post('CambiarR');
                        $FechaPresentarse = $this->input->post('FechaPresentarse');
                        $datos = $this->datos->getSolicitudEmpleo(
                                $Nombre, $Genero, $EstadoCivil, $CURP, $RFC, $Cedula, $NSS, $NP, $NA, $Licencia, $TipoLicencia, $NoLicencia, $Calle, $No, $Colonia, $Pais, $Estado, $Ciudad, $Correo, $Cel, $Tel, $facebook, $twitter, $linkedin, $Instagram, $Estudios, $Certificado, $Institucion, $Programa, $Ingles, $Software, $Cargo, $Organizacion, $FechaInicio, $FechaTermino, $TelTrabajo, $SueldoAnt, $Funciones, $ViveCon, $Dependientes, $Auto, $DuenioCasa, $Renta, $SueldoDeseado, $Salud, $PadeceEnfermedad, $Enfermedad, $Discapacidad, $TipoDiscapacidad, $ActividadF, $ActividadFisica, $Estatura, $Peso, $Supox, $Familiares, $Familiar, $Viajar, $CambiarR, $FechaPresentarse
                        );
                        echo '<script>alert("Se han registrado correctamente")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function Donativos() {
                        $this->load->model("modelo", "datos");
                        $Solicita = $this->input->post('Solicita');
                        $Nombre = $this->input->post('Nombre');
                        $RFC = $this->input->post('RFC');
                        $Domicilio = $this->input->post('Domicilio');
                        $Pais = $this->input->post('Pais');
                        $Estado = $this->input->post('Estado');
                        $Ciudad = $this->input->post('Ciudad');
                        $Representante = $this->input->post('Representante');
                        $CURP = $this->input->post('CURP');
                        $Correo = $this->input->post('Correo');
                        $Cel = $this->input->post('Cel');
                        $Tel = $this->input->post('Tel');
                        $facebook = $this->input->post('facebook');
                        $twitter = $this->input->post('twitter');
                        $linkedin = $this->input->post('linkedin');
                        $Instagram = $this->input->post('Instagram');
                        $Objetivo = $this->input->post('Objetivo');
                        $Servicios = $this->input->post('Servicios');
                        $Logros = $this->input->post('Logros');
                        $Lugar = $this->input->post('Lugar');
                        $Ingresosx = $this->input->post('Ingresosx');
                        $Proyecto = $this->input->post('Proyecto');
                        $Duracion = $this->input->post('Duracion');
                        $Problematica = $this->input->post('Problematica');
                        $ObjGral = $this->input->post('ObjGral');
                        $Metas = $this->input->post('Metas');
                        $Poblacion = $this->input->post('Poblacion');
                        $Metodologia = $this->input->post('Metodologia');
                        $Ltrabajo = $this->input->post('Ltrabajo');
                        $Donativo = $this->input->post('Donativo');
                        $DActividad = $this->input->post('DActividad');
                        $Impacto = $this->input->post('Impacto');
                        $Fecha = date("d/m/y");
                        $datos = $this->datos->getDonativos(
                                $Solicita, $Nombre, $RFC, $Domicilio, $Pais, $Estado, $Ciudad, $Representante, $CURP, $Correo, $Cel, $Tel, $facebook, $twitter, $linkedin, $Instagram, $Objetivo, $Servicios, $Logros, $Lugar, $Ingresosx, $Proyecto, $Duracion, $Problematica, $ObjGral, $Metas, $Poblacion, $Metodologia, $Ltrabajo, $Donativo, $DActividad, $Impacto, $Fecha
                        );
                        echo '<script>alert("Se ha registrado su solicitud")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $indiceuser = $this->input->post('user');
                        $data['User'] = $indiceuser;
                        // View render
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Vinculacion';
                        $this->_renderView($data);
                    }

                    public function InfHojaCV() {
                        $IDHojaCV = $this->input->post('IDHojaCV');
                        $this->load->model("modelo", "General");
                        $where = '';
                        //Abriendo BD Solicitudes
                        $HojaCV = $this->General->getHojaVidaID($IDHojaCV);
                        //Abriendo BD Pais
                        $this->load->model("modelo", "Pais");
                        $d_Pais = $this->Pais->getPais($where);
                        //Abriendo BD Estado
                        $this->load->model("modelo", "Estado");
                        $d_Estado = $this->Estado->getEstado2($where);
                        //Abriendo BD Ciudad
                        $this->load->model("modelo", "Ciudad");
                        $d_Ciudad = $this->Ciudad->getCiudad2($where);

                        foreach ($HojaCV as $HojaCV1)
                            
                            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#809982">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
        <?php echo $HojaCV1->Nombre; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Género:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Genero; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Estado Civil:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->EstadoCivil; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            CURP:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->CURP; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            RFC:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->RFC; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Cédula Profesional:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Cedula; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Número del Seguro Social:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NSS; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Número de pasaporte:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NP; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            Número de afore:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->NA; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Licencia:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TipoLicencia . ' ' . $HojaCV1->NoLicencia; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Datos de localización
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Calle . ' ' . $HojaCV1->No . ', Colonia:' . $HojaCV1->Colonia; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">    
        <?php
        $RespC = '-';
        foreach ($d_Ciudad as $temp1) {
            if ($temp1->id_ciudad == $HojaCV1->Ciudad) {
                $RespC = $temp1->dsc_ciudad;
            }
        }
        ?>
        <?php
        $RespE = '-';
        foreach ($d_Estado as $temp2) {
            if ($temp2->id_estado == $HojaCV1->Estado) {
                $RespE = $temp2->dsc_estado;
            }
        }
        ?>
        <?php
        $RespP = '-';
        foreach ($d_Pais as $temp3) {
            if ($temp3->id_pais == $HojaCV1->Pais) {
                $RespP = $temp3->dsc_pais;
            }
        }
        ?>
        <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Correo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Correo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Celular:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Cel . ' Teléfono: ' . $HojaCV1->Tel; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Redes Sociales
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Facebook:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->facebook; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Twitter:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->twitter; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Linkeind:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->linkedin; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Instagram:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Instagram; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Último nivel de estudios
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Estudios . ' (' . $HojaCV1->Certificado . ')'; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Programa; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Institucion; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Inglés:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Ingles; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Software; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Experiencia
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Cargo . ' - ' . $HojaCV1->Organizacion . ' (' . $HojaCV1->FechaInicio . ' - ' . $HojaCV1->FechaTermino . ')'; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Sueldo anterior:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->SueldoAnt; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Teléfono del trabajo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TelTrabajo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Funciones en el trabajo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Funciones; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información socio-económica
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Vive con:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->ViveCon; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Dependientes económicos:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Dependientes; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Automovil propio:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Auto; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Dueño de su casa:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->DuenioCasa; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Paga renta:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Renta; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Sueldo deseado:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->SueldoDeseado; ?>
                        </div>
                    </div>
                </td>
            </tr>    
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información del estado de salud
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Estatura:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Estatura; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Peso:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Peso; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Estado de salud:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Salud; ?>
                        </div>
                    </div>
                </td>
            </tr> 
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Padece:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Enfermedad; ?>
                        </div>
                    </div>
                </td>
            </tr>  
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Discapacidad:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->TipoDiscapacidad; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Practica:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->ActividadFisica; ?>
                        </div>
                    </div>
                </td>
            </tr>     
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Información del puesto solicitado
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Como supo del trabajo?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Supox; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Tiene familiares laborando en esta organización?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Familiares; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">
        <?php echo $HojaCV1->Familiar; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Tiene disponibilidad para viajar por motivos laborales?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->Viajar; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            ¿Está dispuesto a cambiar de lugar de residencia?
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->CambiarR; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Fecha en que podría presentarse a trabajar
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $HojaCV1->FechaPresentarse; ?>
                        </div>
                    </div>
                </td>
            </tr>

        </table>
        <?php
    }

    public function InfEstancia() {
        $Estanciaid = $this->input->post('Estanciaid');
        $this->load->model("modelo", "General");
        $where = '';
        //Abriendo BD Usuarios
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        //Abriendo BD estancias tipo
        $this->load->model("modelo", "Estancia");
        $TipoEstancia = $this->Estancia->getEstancia();
        //Abriendo BD Solicitudes
        $Estancia = $this->General->getEstanciaID2($Estanciaid);
        //Abriendo BD Pais
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        //Estudios
        $this->load->model("modelo", "Estudios");
        $Estudios = $this->Estudios->getEstudios();
        //Abriendo BD Sector
        $this->load->model("modelo", "Sector");
        $Sector = $this->Sector->getRegimen($where);
        //Duracion	
        $this->load->model("modelo", "Duracion");
        $Duracion = $this->Duracion->getDuracion();
        $this->load->model("modelo", "Apoyo");
        $Apoyo = $this->Apoyo->getApoyoEconomico();

        if ($Estanciaid != '0') {
            foreach ($Estancia as $Estancia1)
                
                ?>
                <table width="100%" border="1" bordercolor="#9c9a9a">
                    <tr>
                        <td bgcolor="#809982">
                            <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
                            <?php
                            $RespT = '-';
                            foreach ($TipoEstancia as $temp2) {
                                if ($temp2->id_estancia == $Estancia1->NombreProyecto) {
                                    $RespT = $temp2->dsc_estancia;
                                }
                            }
                            ?>
            <?php echo $RespT; ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Solicitante:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php echo $Estancia1->Solicitante; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Nivel de estudios:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespN = '-';
            foreach ($Estudios as $temp2) {
                if ($temp2->id_estudios == $Estancia1->NivelEstudios) {
                    $RespN = $temp2->dsc_estudios;
                }
            }
            ?>
            <?php echo $RespN; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Programa Educativo:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
                            <?php echo $Estancia1->ProgramaEducativo; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Institución:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespS = '-';
            foreach ($Sector as $temp2) {
                if ($temp2->id_regimen == $Estancia1->Sector) {
                    $RespS = $temp2->dsc_regimen;
                }
            }
            ?>
            <?php echo '(' . $RespS . ') ' . $Estancia1->Institucion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Domicilio:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->DomicilioInstCalle . ' ' . $Estancia1->DomicilioInstNumero . ' ' . $Estancia1->DomicilioInstColonia; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Teléfono:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->DomicilioInstTelefono; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Estado:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespE = '-';
            foreach ($d_Estado as $temp2) {
                if ($temp2->id_estado == $Estancia1->Estado) {
                    $RespE = $temp2->dsc_estado;
                }
            }
            ?>
            <?php echo $RespE; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Ciudad:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespC = '-';
            foreach ($d_Ciudad as $temp1) {
                if ($temp1->id_ciudad == $Estancia1->Ciudad) {
                    $RespC = $temp1->dsc_ciudad;
                }
            }
            ?>
            <?php echo $RespC; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Duración:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespD = '-';
            foreach ($Duracion as $temp2) {
                if ($temp2->id_duracion == $Estancia1->Duracion) {
                    $RespD = $temp2->dsc_duracion;
                }
            }
            ?>
            <?php echo $RespD; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Justificacion:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->Justificacion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Objetivo:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->Objetivo; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Metas:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->Metas; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Actividades:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->Duracion; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Apoyo:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespF = '-';
            foreach ($Apoyo as $temp2) {
                if ($temp2->id_apoyo == $Estancia1->FormaEntrega) {
                    $RespF = $temp2->dsc_apoyo;
                }
            }
            ?>    
            <?php echo $Estancia1->Apoyo . ' $' . $Estancia1->Monto . ' ' . $RespF . ' ' . $Estancia1->Periodicidad; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Responsable:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php
            $RespU = '-';
            foreach ($USUARIOS as $temp2) {
                if ($temp2->Id == $Estancia1->Responsable) {
                    $RespU = $temp2->nombre . ' ' . $temp2->apaterno . ' ' . $temp2->amaterno;
                }
            }
            ?>
            <?php echo $RespU; ?>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            <div class="col-md-3 col-xs-6" align="right">
                                Fecha de inicio:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->FechaInicio; ?>
                            </div>
                            <div class="col-md-3 col-xs-6" align="right">
                                Horario:
                            </div>
                            <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
            <?php echo $Estancia1->Horario; ?>
                            </div>
                        </div>
                    </td>
                </tr>    
            </table>
            <?php
        } else {
            $EstanciaALL = $this->General->getEstanciasALL();
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#809982">
                        <div class="col-xs-12 col-sm-12" align="center">
            <?php echo 'Listado de Estancias' ?>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($EstanciaALL as $EstanciaALL1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php
                $RespT = '-';
                foreach ($TipoEstancia as $temp2) {
                    if ($temp2->id_estancia == $EstanciaALL1->NombreProyecto) {
                        $RespT = $temp2->dsc_estancia;
                    }
                }
                ?>
                <?php echo $RespT; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo $EstanciaALL1->Solicitante; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php echo 'Aprobación (' . $EstanciaALL1->Aprobacion . ')'; ?>
                            </div>
                            <div class="col-md-3 col-xs-12" align="center">
                <?php
                $RespU = '-';
                foreach ($USUARIOS as $temp2) {
                    if ($temp2->Id == $EstanciaALL1->Responsable) {
                        $RespU = $temp2->nombre . ' ' . $temp2->apaterno . ' ' . $temp2->amaterno;
                    }
                }
                ?>
                <?php echo $RespU; ?>
                            </div>
                        </td>
                    </tr>
                <?php
            }
            ?> </table> <?php
        }
    }

    public function InfDonativo() {
        $IDDonativo = $this->input->post('IDDonativo');
        $this->load->model("modelo", "General");
        //Abriendo BD transportes
        $Donativo = $this->General->getDonativoID($IDDonativo);
        $where = '';
        //Abriendo BD Pais
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);

        foreach ($Donativo as $Donativo1)
            
            ?>
            <table width="100%" border="1" bordercolor="#9c9a9a">
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-xs-12 col-sm-12" align="center" style="color:#ffffff">
        <?php echo $Donativo1->Nombre; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Solicita:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Solicita; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            RFC:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->RFC; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-6 col-xs-6" align="right">
                            Domicilio:
                        </div>
                        <div class="col-md-6 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Domicilio; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12" style="color:#ff6600">    
        <?php
        $RespC = '-';
        foreach ($d_Ciudad as $temp1) {
            if ($temp1->id_ciudad == $Donativo1->Ciudad) {
                $RespC = $temp1->dsc_ciudad;
            }
        }
        ?>
        <?php
        $RespE = '-';
        foreach ($d_Estado as $temp2) {
            if ($temp2->id_estado == $Donativo1->Estado) {
                $RespE = $temp2->dsc_estado;
            }
        }
        ?>
        <?php
        $RespP = '-';
        foreach ($d_Pais as $temp3) {
            if ($temp3->id_pais == $Donativo1->Pais) {
                $RespP = $temp3->dsc_pais;
            }
        }
        ?>
        <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Representante:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Representante; ?>
                        </div>
                        <div class="col-md-3 col-xs-6" align="right">
                            CURP:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->CURP; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-2 col-xs-6" align="right">
                            Correo:
                        </div>
                        <div class="col-md-2 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Correo; ?>
                        </div>
                        <div class="col-md-2 col-xs-6" align="right">
                            Celular:
                        </div>
                        <div class="col-md-2 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Cel; ?>
                        </div>
                        <div class="col-md-2 col-xs-6" align="right">
                            Teléfono:
                        </div>
                        <div class="col-md-2 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Tel; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Redes Sociales
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Facebook:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->facebook; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Twitter:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->twitter; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Linkeind:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->linkedin; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Instagram:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Instagram; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Objetivo social:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Objetivo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Servicios o actividades:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Servicios; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Principales logros:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Logros; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            El lugar donde desempeñan las actividades es:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Lugar; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Fuente principal de sus ingresos:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Ingresosx; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td bgcolor="#809982">
                    <div class="col-xs-12 col-sm-12" style="color:#ffffff">
                        Datos de la actividad o proyecto para el que solicita el donativo
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Nombre de la actividad o proyecto:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Proyecto; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Duración:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Duracion; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Problemática o necesidad que atiende:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Problematica; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Objetivo general:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->ObjGral; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Metas:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Metas; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Población objetivo o beneficiarios:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Poblacion; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Metodología para evaluar los resultados logros:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Metodologia; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Lugar de trabajo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Ltrabajo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Monto del donativo:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Donativo; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Actividades en que se aplicará en su caso el recurso aportado:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->DActividad; ?>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        <div class="col-md-3 col-xs-6" align="right">
                            Impacto o beneficio al proyecto de la cantidad aportada:
                        </div>
                        <div class="col-md-3 col-xs-6" align="left" style="color:#ff6600">
        <?php echo $Donativo1->Impacto; ?>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <?php
    }

//******************************************Fin controladores Vinculacion**********************************************************
//*********************************************************___________Tecnologia________***************************************

    public function Tecnologia() {
        $this->load->model("modelo", "datos");
        $TID = $this->input->post('TecnoID');
        $indiceuser = $this->input->post('user');
        $Fecha = date("d/m/y");
        if ($TID == 'TEC1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "Servicios");
            $Servicios = $this->Servicios->getServiciosP($where);
            $data['RefTipo2'] = $Servicios;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD Categoria
            $where = '';
            $this->load->model("modelo", "Equipo");
            $d_Equipo = $this->Equipo->getEquipo($where);
            $data['Equipo'] = $d_Equipo;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Tecnologia_1';
            $this->_renderView($data);
        }
        if ($TID == 'TEC2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $where = '';
            $this->load->model("modelo", "ID_cliente");
            $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
            $data['ID_cliente'] = $d_ID_cliente;
            //Abriendo BD responsables
            $where = '';
            $this->load->model("modelo", "Responsables");
            $d_responsables = $this->Responsables->getResponsable($where);
            $data['Responsables'] = $d_responsables;
            //Abriendo BD Area
            $where = '';
            $this->load->model("modelo", "Area");
            $Area = $this->Area->getArea($where);
            $data['Area'] = $Area;
            //Abriendo BD Puesto
            $where = '';
            $this->load->model("modelo", "Puesto");
            $Puesto = $this->Puesto->getPuesto($where);
            $data['Puesto'] = $Puesto;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "Servicios");
            $Servicios = $this->Servicios->getServiciosC($where);
            $data['RefTipo2'] = $Servicios;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD Categoria
            $where = '';
            $this->load->model("modelo", "Equipo");
            $d_Equipo = $this->Equipo->getEquipo($where);
            $data['Equipo'] = $d_Equipo;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Tecnologia_2';
            $this->_renderView($data);
        }
    }

    public function Tecnologia_1() {
        $this->load->model("modelo", "datos");
        $Serie = $this->input->post('Serie');
        $FechaServicio = $this->input->post('FechaServicio');
        $Hardware = $this->input->post('Hardware');
        $ObservacionesHardware = $this->input->post('ObservacionesHardware');
        $Perifericos = $this->input->post('Perifericos');
        $ObservacionesPerifericos = $this->input->post('ObservacionesPerifericos');
        $Software = $this->input->post('Software');
        $ObservacionesSoftware = $this->input->post('ObservacionesSoftware');
        $Antivirus = $this->input->post('Antivirus');
        $ObservacionesAntivirus = $this->input->post('ObservacionesAntivirus');
        $Internet = $this->input->post('Internet');
        $ObservacionesInternet = $this->input->post('ObservacionesInternet');
        $Intranet = $this->input->post('Intranet');
        $ObservacionesIntranet = $this->input->post('ObservacionesIntranet');
        $Correo = $this->input->post('Correo');
        $ObservacionesCorreo = $this->input->post('ObservacionesCorreo');
        $Asesoria = $this->input->post('Asesoria');
        $ObservacionesAsesoria = $this->input->post('ObservacionesAsesoria');
        $Otro = $this->input->post('Otro');
        $ObservacionesOtro = $this->input->post('ObservacionesOtro');
        $Equipo = $this->input->post('Equipo');
        $Observaciones = $this->input->post('Observaciones');
        $HrInicio = $this->input->post('HrInicio');
        $HrTermino = $this->input->post('HrTermino');
        $Asesor = $this->input->post('Asesor');
        $Usuario = $this->input->post('Usuario');
        $datos = $this->datos->getTecnologia1(
                $Serie, $FechaServicio, $Hardware, $ObservacionesHardware, $Perifericos, $ObservacionesPerifericos, $Software, $ObservacionesSoftware, $Antivirus, $ObservacionesAntivirus, $Internet, $ObservacionesInternet, $Intranet, $ObservacionesIntranet, $Correo, $ObservacionesCorreo, $Asesoria, $ObservacionesAsesoria, $Otro, $ObservacionesOtro, $Equipo, $Observaciones, $HrInicio, $HrTermino, $Asesor, $Usuario
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Tecnologia';
        $this->_renderView($data);
    }

    public function Tecnologia_2() {
        $this->load->model("modelo", "datos");
        $Serie = $this->input->post('Serie');
        $FechaServicio = $this->input->post('FechaServicio');
        $Hardware = $this->input->post('Hardware');
        $ObservacionesHardware = $this->input->post('ObservacionesHardware');
        $Perifericos = $this->input->post('Perifericos');
        $ObservacionesPerifericos = $this->input->post('ObservacionesPerifericos');
        $Software = $this->input->post('Software');
        $ObservacionesSoftware = $this->input->post('ObservacionesSoftware');
        $Antivirus = $this->input->post('Antivirus');
        $ObservacionesAntivirus = $this->input->post('ObservacionesAntivirus');
        $Internet = $this->input->post('Internet');
        $ObservacionesInternet = $this->input->post('ObservacionesInternet');
        $Intranet = $this->input->post('Intranet');
        $ObservacionesIntranet = $this->input->post('ObservacionesIntranet');
        $Correo = $this->input->post('Correo');
        $ObservacionesCorreo = $this->input->post('ObservacionesCorreo');
        $Asesoria = $this->input->post('Asesoria');
        $ObservacionesAsesoria = $this->input->post('ObservacionesAsesoria');
        $Otro = $this->input->post('Otro');
        $ObservacionesOtro = $this->input->post('ObservacionesOtro');
        $Equipo = $this->input->post('Equipo');
        $Propuesta = $this->input->post('Propuesta');
        $FechaSolucion = $this->input->post('FechaSolucion');
        $HrInicio = $this->input->post('HrInicio');
        $HrTermino = $this->input->post('HrTermino');
        $Asesor = $this->input->post('Asesor');
        $Usuario = $this->input->post('Usuario');
        $datos = $this->datos->getTecnologia2(
                $Serie, $FechaServicio, $Hardware, $ObservacionesHardware, $Perifericos, $ObservacionesPerifericos, $Software, $ObservacionesSoftware, $Antivirus, $ObservacionesAntivirus, $Internet, $ObservacionesInternet, $Intranet, $ObservacionesIntranet, $Correo, $ObservacionesCorreo, $Asesoria, $ObservacionesAsesoria, $Otro, $ObservacionesOtro, $Equipo, $Propuesta, $FechaSolucion, $HrInicio, $HrTermino, $Asesor, $Usuario
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente
        $where = '';
        $this->load->model("modelo", "ID_cliente");
        $d_ID_cliente = $this->ID_cliente->getID_Cliente($where);
        $data['ID_cliente'] = $d_ID_cliente;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Tecnologia';
        $this->_renderView($data);
    }

    //*********************************************************___________Fin Tecnología________***************************************
    //*********************************************************___________B_Inmuebles________***************************************

    public function BInmueble() {
        $where = '';
        $this->load->model("modelo", "datos");
        $BInmuebleID = $this->input->post('BInmuebleID');
        $indiceuser = $this->input->post('user');

        if ($BInmuebleID == 'BInmueble_1') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente 
            $this->load->model("modelo", "General");
            $Tipo_Inmueble = $this->General->getTinmueble($where);
            $data['Tipo_Inmueble'] = $Tipo_Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_1';
            $this->_renderView($data);
        }
        if ($BInmuebleID == 'BInmueble_2') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente 
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_2';
            $this->_renderView($data);
        }
        if ($BInmuebleID == 'BInmueble_7') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_7';
            $this->_renderView($data);
        }


        if ($BInmuebleID == 'BInmueble_3') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_3';
            $this->_renderView($data);
        }
        if ($BInmuebleID == 'BInmueble_4') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $RefTipo = $this->General->getRefTipo($where);
            $data['RefTipo'] = $RefTipo;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $InmuebleTdocumentp = $this->General->getInmuebleTDocumentos($where);
            $data['InmuebleTdocumentp'] = $InmuebleTdocumentp;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_4';
            $this->_renderView($data);
        }
        if ($BInmuebleID == 'BInmueble_5') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_5';
            $this->_renderView($data);
        }
        if ($BInmuebleID == 'BInmueble_6') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD cliente
            $this->load->model("modelo", "General");
            $Inmueble = $this->General->getInmueblesALL2($where);
            $data['Inmueble'] = $Inmueble;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble_6';
            $this->_renderView($data);
        }
    }

    public function Rinmueble() {
        $this->load->model("modelo", "datos");
        $Propietario = $this->input->post('Propietario');
        $RFC = $this->input->post('RFC');
        $IFE = $this->input->post('IFE');
        $Calle1 = $this->input->post('Calle1');
        $Colonia1 = $this->input->post('Colonia1');
        $Numero1 = $this->input->post('Numero1');
        $Estado1 = $this->input->post('Estado1');
        $Municipio1 = $this->input->post('Municipio1');
        $Comunidad1 = $this->input->post('Comunidad1');
        $CP1 = $this->input->post('CP1');
        $Tel1 = $this->input->post('Tel1');
        $Correo1 = $this->input->post('Correo1');
        $Vendedor = $this->input->post('Vendedor');
        $RFC2 = $this->input->post('RFC2');
        $IFE2 = $this->input->post('IFE2');
        $Calle2 = $this->input->post('Calle2');
        $Colonia2 = $this->input->post('Colonia2');
        $Numero2 = $this->input->post('Numero2');
        $Estado2 = $this->input->post('Estado2');
        $Municipio2 = $this->input->post('Municipio2');
        $Comunidad2 = $this->input->post('Comunidad2');
        $CP2 = $this->input->post('CP2');
        $Tel2 = $this->input->post('Tel2');
        $Correo2 = $this->input->post('Correo2');
        $Tinmueble = $this->input->post('Tinmueble');
        $Ubicacion = $this->input->post('Ubicacion');
        $Norte = $this->input->post('Norte');
        $Sur = $this->input->post('Sur');
        $Este = $this->input->post('Este');
        $Oeste = $this->input->post('Oeste');
        $Noreste = $this->input->post('Noreste');
        $Sureste = $this->input->post('Sureste');
        $Noroeste = $this->input->post('Noroeste');
        $Suroeste = $this->input->post('Suroeste');
        $Terreno = $this->input->post('Terreno');
        $Construido = $this->input->post('Construido');
        $Servidumbres = $this->input->post('Servidumbres');
        $Gravamenes = $this->input->post('Gravamenes');
        $Otras = $this->input->post('Otras');
        $Valor = $this->input->post('Valor');
        $Vventa = $this->input->post('Vventa');
        $Tomo = $this->input->post('Tomo');
        $Libro = $this->input->post('Libro');
        $Seccion = $this->input->post('Seccion');
        $Folio = $this->input->post('Folio');
        $Numeral = $this->input->post('Numeral');
        $Notario = $this->input->post('Notario');
        $Nnotario = $this->input->post('Nnotario');
        $Partido = $this->input->post('Partido');
        $datos = $this->datos->getRinmueble(
                $Propietario, $RFC, $IFE, $Calle1, $Colonia1, $Numero1, $Estado1, $Municipio1, $Comunidad1, $CP1, $Tel1, $Correo1, $Vendedor, $RFC2, $IFE2, $Calle2, $Colonia2, $Numero2, $Estado2, $Municipio2, $Comunidad2, $CP2, $Tel2, $Correo2, $Tinmueble, $Ubicacion, $Norte, $Sur, $Este, $Oeste, $Noreste, $Sureste, $Noroeste, $Suroeste, $Terreno, $Construido, $Servidumbres, $Gravamenes, $Otras, $Valor, $Vventa, $Tomo, $Libro, $Seccion, $Folio, $Numeral, $Notario, $Nnotario, $Partido
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble';
        $this->_renderView($data);
    }

    public function Rinmueble2() {
        $this->load->model("modelo", "datos");
        $ID = $this->input->post('ID');
        $Propietario = $this->input->post('Propietario');
        $RFC = $this->input->post('RFC');
        $IFE = $this->input->post('IFE');
        $Calle1 = $this->input->post('Calle1');
        $Colonia1 = $this->input->post('Colonia1');
        $Numero1 = $this->input->post('Numero1');
        $Estado1 = $this->input->post('Estado1');
        $Municipio1 = $this->input->post('Municipio1');
        $Comunidad1 = $this->input->post('Comunidad1');
        $CP1 = $this->input->post('CP1');
        $Tel1 = $this->input->post('Tel1');
        $Correo1 = $this->input->post('Correo1');
        $Vendedor = $this->input->post('Vendedor');
        $RFC2 = $this->input->post('RFC2');
        $IFE2 = $this->input->post('IFE2');
        $Calle2 = $this->input->post('Calle2');
        $Colonia2 = $this->input->post('Colonia2');
        $Numero2 = $this->input->post('Numero2');
        $Estado2 = $this->input->post('Estado2');
        $Municipio2 = $this->input->post('Municipio2');
        $Comunidad2 = $this->input->post('Comunidad2');
        $CP2 = $this->input->post('CP2');
        $Tel2 = $this->input->post('Tel2');
        $Correo2 = $this->input->post('Correo2');
        $Ubicacion = $this->input->post('Ubicacion');
        $Norte = $this->input->post('Norte');
        $Sur = $this->input->post('Sur');
        $Este = $this->input->post('Este');
        $Oeste = $this->input->post('Oeste');
        $Noreste = $this->input->post('Noreste');
        $Sureste = $this->input->post('Sureste');
        $Noroeste = $this->input->post('Noroeste');
        $Suroeste = $this->input->post('Suroeste');
        $Terreno = $this->input->post('Terreno');
        $Construido = $this->input->post('Construido');
        $Servidumbres = $this->input->post('Servidumbres');
        $Gravamenes = $this->input->post('Gravamenes');
        $Otras = $this->input->post('Otras');
        $Valor = $this->input->post('Valor');
        $Vventa = $this->input->post('Vventa');
        $Tomo = $this->input->post('Tomo');
        $Libro = $this->input->post('Libro');
        $Seccion = $this->input->post('Seccion');
        $Folio = $this->input->post('Folio');
        $Numeral = $this->input->post('Numeral');
        $Notario = $this->input->post('Notario');
        $Nnotario = $this->input->post('Nnotario');
        $Partido = $this->input->post('Partido');
        $Notario2 = $this->input->post('Notario2');
        $Nnotario2 = $this->input->post('Nnotario2');
        $Partido2 = $this->input->post('Partido2');
        $FechaCompraVenta = $this->input->post('FechaCompraVenta');
        $Monto = $this->input->post('Monto');
        $Impuestos = $this->input->post('Impuestos');
        $GastosRegistrales = $this->input->post('GastosRegistrales');
        $GastosNotariales = $this->input->post('GastosNotariales');
        $FechaLugarEntrega = $this->input->post('FechaLugarEntrega');
        $Fideicomitente = $this->input->post('Fideicomitente');
        $Fiduciario = $this->input->post('Fiduciario');
        $Fideicomisario = $this->input->post('Fideicomisario');
        $Delegados = $this->input->post('Delegados');
        $Depositario = $this->input->post('Depositario');
        $Acto = $this->input->post('Acto');
        $Tomo2 = $this->input->post('Tomo2');
        $Numero = $this->input->post('Numero');
        $Fecha = $this->input->post('Fecha');
        $Contrato = $this->input->post('Contrato');
        $datos = $this->datos->getRinmueble2(
                $ID, $Propietario, $RFC, $IFE, $Calle1, $Colonia1, $Numero1, $Estado1, $Municipio1, $Comunidad1, $CP1, $Tel1, $Correo1, $Vendedor, $RFC2, $IFE2, $Calle2, $Colonia2, $Numero2, $Estado2, $Municipio2, $Comunidad2, $CP2, $Tel2, $Correo2, $Ubicacion, $Norte, $Sur, $Este, $Oeste, $Noreste, $Sureste, $Noroeste, $Suroeste, $Terreno, $Construido, $Servidumbres, $Gravamenes, $Otras, $Valor, $Vventa, $Tomo, $Libro, $Seccion, $Folio, $Numeral, $Notario, $Nnotario, $Partido, $Notario2, $Nnotario2, $Partido2, $FechaCompraVenta, $Monto, $Impuestos, $GastosRegistrales, $GastosNotariales, $FechaLugarEntrega, $Fideicomitente, $Fiduciario, $Fideicomisario, $Delegados, $Depositario, $Acto, $Tomo2, $Numero, $Fecha, $Contrato
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble';
        $this->_renderView($data);
    }

    public function CompraVenta() {
        $this->load->model("modelo", "datos");
        $Inmueble = $this->input->post('Inmueble');
        $Notario2 = $this->input->post('Notario2');
        $Nnotario2 = $this->input->post('Nnotario2');
        $Partido2 = $this->input->post('Partido2');
        $Comprador = $this->input->post('Comprador');
        $FechaCompraVenta = $this->input->post('FechaCompraVenta');
        $Monto = $this->input->post('Monto');
        $Modalidad = $this->input->post('Modalidad');
        $FormaPago = $this->input->post('FormaPago');
        $Impuestos = $this->input->post('Impuestos');
        $GastosRegistrales = $this->input->post('GastosRegistrales');
        $GastosNotariales = $this->input->post('GastosNotariales');
        $FechaLugarEntrega = $this->input->post('FechaLugarEntrega');
        $datos = $this->datos->getCompraVenta(
                $Inmueble, $Notario2, $Nnotario2, $Partido2, $Comprador, $FechaCompraVenta, $Monto, $Modalidad, $FormaPago, $Impuestos, $GastosRegistrales, $GastosNotariales, $FechaLugarEntrega
        );
        echo '<script>alert("Se ha registrado correctamente")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente 	
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble';
        $this->_renderView($data);
    }

    public function BInmueble3() {
        $where = '';
        $this->load->model("modelo", "datos");
        $Inmueble = $this->input->post('Inmueble');
        $indiceuser = $this->input->post('user');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente 
        $this->load->model("modelo", "General");
        $Tipo_Inmueble = $this->General->getTinmueble($where);
        $data['Tipo_Inmueble'] = $Tipo_Inmueble;
        $this->load->model("modelo", "General");
        $Inmueble = $this->General->getInmueblesID($Inmueble);
        $data['Inmueble'] = $Inmueble;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble_3_1';
        $this->_renderView($data);
    }

    public function BInmueble4() {
        $Inmueble = $this->input->post('Inmueble');
        $TDocumento = $this->input->post('TDocumento');
        $Observaciones = $this->input->post('Observaciones');
        $Nombre = $Inmueble . '-' . $TDocumento . '-' . date("ydHis");
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder11;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '10048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su documento\n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $datos = $this->datos->getBInmueble4(
                        $Inmueble, $TDocumento, $Observaciones, $Nombre
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble';
            $this->_renderView($data);
        } else {
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            $this->load->model("modelo", "datos");
            $datos = $this->datos->getBInmueble4(
                    $Inmueble, $TDocumento, $Observaciones, $Nombre
            );
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'B_Inmueble';
            $this->_renderView($data);
        }
    }

    public function ReporteInmuebleExp() {
        $datos = 0;
        $datos2 = 0;
        $ID = $_POST["Inmueble"];
        if ($ID != 0) {
            $this->load->model("modelo", "cliente");
            $datos = $this->cliente->getResultadoBInmueble5($ID);
            $this->load->model("modelo", "cliente");
            $datosExp = $this->cliente->getResultadoBInmueble52($ID);
        }
        $this->load->model("modelo", "Documentos");
        $TDocumentos = $this->Documentos->getResultadoInmuebleDocumentos();
        $this->load->model("modelo", "General");
        $Inmuebles = $this->General->getInmueblesALL2();

        $this->load->model("modelo", "TiposInmueble");
        $TiposInmueble = $this->TiposInmueble->getTinmueble();

        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        ?> 
        <table width="100%" border="1" bordercolor="#9c9a9a">
                        <?php
                        $where = '';
                        if ($ID == '0') {
                            //Abriendo BD cliente
                            $this->load->model("modelo", "ID_cliente");
                            $datas = $this->ID_cliente->getResultadoBInmueble5ALL($where);
                            ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Ubicación</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Propietario</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Documento</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Observaciones</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Descarga</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Ver archivo</strong>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($datas as $cliente1) {
                ?>
                    <tr>
                        <td bgcolor="#707070">
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Inmuebles as $Inmuebles1) {
                    if ($Inmuebles1->ID == $cliente1->Inmueble) {
                        $respuesta = $Inmuebles1->Ubicacion;
                        $respuesta2 = $Inmuebles1->Propietario;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                                    <?php echo $respuesta2; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($TDocumentos as $TDocumentos1) {
                    if ($TDocumentos1->id_tipo == $cliente1->TDocumento) {
                        $respuesta = $TDocumentos1->dsc_tipo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                                    <?php echo $cliente1->Observaciones; ?>
                            </div>
                <?php
                $nombre = $cliente1->Nombre;
                $files = get_filenames($this->folder11, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsInmueblesEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                    <?php }
                } ?>
                            <div class="col-md-2 col-xs-12" align="right"> 
                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/InmuebleExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                            </div>
                        </td>
                    </tr>
                                <?php }
                            } ?>




        <?php if ($ID != '0') {
            foreach ($datos as $Inmuebles1) {
                ?>
                    <tr bgcolor="#82a07f">
                        <td>
                            <div class="col-md-12 col-xs-12" align="center">
                                    <?php echo $Inmuebles1->Ubicacion ?>
                            </div>
                        </td>
                    </tr>
                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12">
                                Datos de propietario
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>Propietario: </strong>" . $Inmuebles1->Propietario ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>RFC: </strong>" . $Inmuebles1->RFC ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>IFE: </strong>" . $Inmuebles1->IFE ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo $Inmuebles1->Calle1 . ", " . $Inmuebles1->Colonia1 . ", " . $Inmuebles1->Numero1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo $Inmuebles1->Estado1 . ", " . $Inmuebles1->Municipio1 . ", " . $Inmuebles1->Comunidad1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>CP: </strong>" . $Inmuebles1->CP1 . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Tel.: </strong>" . $Inmuebles1->Tel1 . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Correo: </strong>" . $Inmuebles1->Correo1 ?>
                            </div>
                        </td>
                    </tr>
                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12">
                                Datos del vendedor
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Vendedor: </strong>" . $Inmuebles1->Vendedor ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>RFC: </strong>" . $Inmuebles1->RFC2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>IFE: </strong>" . $Inmuebles1->IFE2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo $Inmuebles1->Calle2 . ", " . $Inmuebles1->Colonia2 . ", " . $Inmuebles1->Numero2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo $Inmuebles1->Estado2 . ", " . $Inmuebles1->Municipio2 . ", " . $Inmuebles1->Comunidad2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>CP: </strong>" . $Inmuebles1->CP2 . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Tel.: </strong>" . $Inmuebles1->Tel2 . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Correo: </strong>" . $Inmuebles1->Correo2 ?>
                            </div>
                        </td>
                    </tr>


                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12">
                                Descripción del inmueble
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($TiposInmueble as $TiposInmueble1) {
                    if ($TiposInmueble1->id_Tinmueble == $Inmuebles1->Tinmueble) {
                        $respuesta = $TiposInmueble1->dsc_Tinmueble;
                    }
                }
                ?>      
                                    <?php echo "<strong>Tipo de inmueble: </strong>" . $respuesta ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Ubicación: </strong>" . $Inmuebles1->Ubicacion ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Norte: </strong>" . $Inmuebles1->Norte ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Sur: </strong>" . $Inmuebles1->Sur ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Este: </strong>" . $Inmuebles1->Este ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Oeste: </strong>" . $Inmuebles1->Oeste ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Noreste: </strong>" . $Inmuebles1->Noreste ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                <?php echo "<strong>Sureste: </strong>" . $Inmuebles1->Sureste ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Noroeste: </strong>" . $Inmuebles1->Noroeste ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                    <?php echo "<strong>Suroeste: </strong>" . $Inmuebles1->Suroeste ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <?php echo "<strong>Superficie de terreno: </strong>" . $Inmuebles1->Terreno ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <?php echo "<strong>Superficie construida: </strong>" . $Inmuebles1->Construido ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                                <?php echo "<strong>Servidumbres: </strong>" . $Inmuebles1->Servidumbres ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Gravámenes: </strong>" . $Inmuebles1->Gravamenes ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Otras: </strong>" . $Inmuebles1->Otras ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Valor del bien: </strong>" . $Inmuebles1->Valor ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Valor de venta: </strong>" . $Inmuebles1->Vventa ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Tomo: </strong>" . $Inmuebles1->Tomo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Libro: </strong>" . $Inmuebles1->Libro ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Sección: </strong>" . $Inmuebles1->Seccion ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Folio: </strong>" . $Inmuebles1->Folio ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                    <?php echo "<strong>Numeral registral: </strong>" . $Inmuebles1->Numeral ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Notario: </strong>" . $Inmuebles1->Notario ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Número de notario: </strong>" . $Inmuebles1->Nnotario ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Partido de competencia: </strong>" . $Inmuebles1->Partido ?>
                            </div>
                        </td>
                    </tr>
                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12">
                                Datos de compraventa
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <?php echo "<strong>Notario: </strong>" . $Inmuebles1->Notario2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <?php echo "<strong>Número de notario: </strong>" . $Inmuebles1->Nnotario2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <?php echo "<strong>Partido de competencia: </strong>" . $Inmuebles1->Partido2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                                <?php
                                $respuesta = '-';
                                foreach ($USUARIOS as $USUARIOS2) {
                                    if ($USUARIOS2->Id == $Inmuebles1->Comprador) {
                                        $respuesta = $USUARIOS2->nombre . " " . $USUARIOS2->apaterno . " " . $USUARIOS2->amaterno;
                                    }
                                }
                                ?>
                <?php echo "<strong>Comprador: </strong>" . $respuesta ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Fecha de compraventa: </strong>" . $Inmuebles1->FechaCompraVenta ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                                    <?php echo "<strong>Monto de compraventa: </strong>" . $Inmuebles1->Monto ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Modalidad de compraventa: </strong>" . $Inmuebles1->Modalidad ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Forma de pago: </strong>" . $Inmuebles1->FormaPago ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Gastos de impuestos erogados: </strong>" . $Inmuebles1->Impuestos ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Gastos Registrales: </strong>" . $Inmuebles1->GastosRegistrales ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Gastos Notariales: </strong>" . $Inmuebles1->GastosNotariales ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Fecha y lugar de entrega del bien: </strong>" . $Inmuebles1->FechaLugarEntrega ?>
                            </div>
                        </td>
                    </tr>
                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12">
                                Datos de fideicomiso
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Fideicomitente(s): </strong>" . $Inmuebles1->Fideicomitente ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                                    <?php echo "<strong>Fiduciario(s): </strong>" . $Inmuebles1->Fiduciario ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Fideicomisario(s): </strong>" . $Inmuebles1->Fideicomisario ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Delegados fiduciarios: </strong>" . $Inmuebles1->Delegados ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Depositario: </strong>" . $Inmuebles1->Depositario ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo "<strong>Acto constitutivo del fideicomiso: </strong>" . $Inmuebles1->Acto ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                                    <?php echo "<strong>Tomo: </br></strong>" . $Inmuebles1->Tomo2 ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Número de escritura constitutiva: </br></strong>" . $Inmuebles1->Numero ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Fecha: </br></strong>" . $Inmuebles1->Fecha ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Número de contrato: </br></strong>" . $Inmuebles1->Contrato ?>
                            </div>
                        </td>
                    </tr>


                    <tr>
                        <td  bgcolor="#c6d2cd">
                            <div class="col-md-12 col-xs-12">
                                Expediente
                            </div>
                        </td>
                    </tr>
            <?php
            }
            foreach ($datosExp as $cliente1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($Inmuebles as $Inmuebles1) {
                    if ($Inmuebles1->ID == $cliente1->Inmueble) {
                        $respuesta = $Inmuebles1->Ubicacion;
                        $respuesta2 = $Inmuebles1->Propietario;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $respuesta2; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($TDocumentos as $TDocumentos1) {
                    if ($TDocumentos1->id_tipo == $cliente1->TDocumento) {
                        $respuesta = $TDocumentos1->dsc_tipo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12" align="center">
                <?php echo $cliente1->Observaciones; ?>
                            </div>
                <?php
                $nombre = $cliente1->Nombre;
                $files = get_filenames($this->folder11, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        ?> 
                                    <div class="col-md-2 col-xs-12" align="left"> <?php
                        echo anchor('controlador/downloadsInmueblesEx/' . $file, $file) . br(1);
                        ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="right"> 
                        <?php if ($ext == 'pdf' || $ext == 'PDF') {
                            ?> 
                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/InmuebleExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/pdf.png" width="30" height="30" /></button>
                                            </div>
                        <?php
                        } else {
                            if ($ext == 'jpg' || $ext == 'png' || $ext == 'JPG' || $ext == 'PNG') {
                                ?> 
                                                <div class="col-md-12 col-xs-12" align="right"> 
                                                    <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/InmuebleExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/imagen.png" width="30" height="30" /></button>
                                                </div>
                            <?php
                            } else {
                                if ($ext == 'zip' || $ext == 'rar') {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/InmuebleExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/zip.png" width="30" height="30" /></button>
                                                    </div>
                                <?php } else {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/InmuebleExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                                    </div>
                                <?php }
                            }
                        }
                        ?>
                    <?php }
                } ?>
                            </div>
                        </td>
                    </tr>
                                <?php }
                            } ?>
        </table>
        <?php
    }

    public function BorrarTerreno() {
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Inmueble = $this->input->post('Inmueble');

        $datos = $this->datos->getBorrarTerreno(
                $Inmueble
        );
        $datas = $this->datos->getBorrarExpediente(
                $Inmueble
        );

        echo '<script>alert("Se ha borrado el registro de inmueble ")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble';
        $this->_renderView($data);
    }

    public function Fideicomiso() {
        $this->load->model("modelo", "datos");
        $Inmueble = $this->input->post('Inmueble');
        $Fideicomitente = $this->input->post('Fideicomitente');
        $Fiduciario = $this->input->post('Fiduciario');
        $Fideicomisario = $this->input->post('Fideicomisario');
        $Delegados = $this->input->post('Delegados');
        $Depositario = $this->input->post('Depositario');
        $Acto = $this->input->post('Acto');
        $Tomo2 = $this->input->post('Tomo2');
        $Numero = $this->input->post('Numero');
        $Fecha = $this->input->post('Fecha');
        $Contrato = $this->input->post('Contrato');
        $datos = $this->datos->getFideicomiso(
                $Inmueble, $Fideicomitente, $Fiduciario, $Fideicomisario, $Delegados, $Depositario, $Acto, $Tomo2, $Numero, $Fecha, $Contrato
        );
        echo '<script>alert("Se ha registrado el fideicomiso")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        //Abriendo BD cliente 	
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'B_Inmueble';
        $this->_renderView($data);
    }

    //*********************************************************___________Fin B_Inmuebles________*************************************** 




    public function Excel() {
        //Carga las librerías
        $this->load->library('excel');
        // Propiedades del Documento
        $this->excel->getProperties()->setCreator("DEFIRYO")
                ->setLastModifiedBy("DEFIRYO")
                ->setTitle('Reporte')
                ->setSubject('Subject');

        //$idcliente = $this->input->get('Folio');
        $this->load->model("modelo", "solicitud");
        //$solicitudes = $this->solicitud->getInformacion($idcliente);
        $solicitudes = $this->solicitud->getInformacionExcel();
        $this->load->model("modelo", "Rama");
        $Rama = $this->Rama->getRama();
        $this->load->model("modelo", "Cliente");
        $Cliente = $this->Cliente->getCliente();
        $this->load->model("modelo", "TipoCliente");
        $TipoCliente = $this->TipoCliente->getTipoCliente2();
        $this->load->model("modelo", "SubTipoCliente");
        $SubTipoCliente = $this->SubTipoCliente->getSubTipoCliente2();
        $this->load->model("modelo", "Regimen");
        $Regimen = $this->Regimen->getRegimen();
        $this->load->model("modelo", "Forma");
        $Forma = $this->Forma->getForma();
        $this->load->model("modelo", "Ambito");
        $Ambito = $this->Ambito->getAmbito();
        $this->load->model("modelo", "Tamanio");
        $Tamanio = $this->Tamanio->getTamanio();
        $this->load->model("modelo", "Sector");
        $Sector = $this->Sector->getSector();
        $this->load->model("modelo", "Clasificacion");
        $Clasificacion = $this->Clasificacion->getClasificacion();
        $this->load->model("modelo", "Pais");
        $Pais = $this->Pais->getPais();
        $this->load->model("modelo", "Estado");
        $Estado = $this->Estado->getEstado2();
        $this->load->model("modelo", "Ciudad");
        $Ciudad = $this->Ciudad->getCiudad2();

        //Cargamos el template del encabezado
        $objReader = PHPExcel_IOFactory::createReader('Excel5');
        $this->excel = $objReader->load('uploads/Reporte.xls'); //Abrimos el excel en dónde escribiremos la información generada
        $objWorksheet = $this->excel->getActiveSheet()->toArray(null, null, null, null, null, null);

        $columnas = array("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z",
            "AA", "AB", "AC", "AD", "AE", "AF", "AG", "AH", "AI", "AJ", "AK", "AL", "AM", "AN", "AO", "AP", "AQ", "AR", "AS", "AT", "AU", "AV", "AW", "AX", "AY", "AZ",
            "BA", "BB", "BC", "BD", "BE", "BF", "BG", "BH", "BI", "BJ", "BK", "BL", "BM", "BN", "BO", "BP", "BQ", "BR", "BS", "BT", "BU", "BV", "BW", "BX", "BY", "BZ",
            "CA", "CB", "CC", "CD", "CE", "CF", "CG", "CH", "CI", "CJ", "CK", "CL", "CM", "CN", "CO", "CP", "CQ", "CR", "CS", "CT", "CU", "CV", "CW", "CX", "CY", "CZ",
            "DA", "DB", "DC", "DD", "DE", "DF", "DG", "DH", "DI", "DJ", "DK", "DL", "DM", "DN", "DO", "DP", "DQ", "DR", "DS", "DT", "DU", "DV", "DW", "DX", "DY", "DZ",
            "EA", "EB", "EC", "ED", "EE", "EF", "EG", "EH", "EI", "EJ", "EK", "EL", "EM", "EN", "EO", "EP", "EQ", "ER", "ES", "ET", "EU", "EV", "EW", "EX", "EY", "EZ",
            "FA", "FB", "FC", "FD", "FE", "FF", "FG", "FH", "FI", "FJ", "FK", "FL", "FM", "FN", "FO", "FP", "FQ", "FR", "FS", "FT", "FU", "FV", "FW", "FX", "FY", "FZ",
            "GA", "GB", "GC", "GD", "GE", "GF", "GG", "GH", "GI", "GJ", "GK", "GL", "GM", "GN", "GO", "GP", "GQ", "GR", "GS", "GT", "GU", "GV", "GW", "GX", "GY", "GZ",
            "HA", "HB", "HC", "HD", "HE", "HF", "HG", "HH", "HI", "HJ", "HK", "HL", "HM", "HN", "HO", "HP", "HQ", "HR", "HS", "HT", "HU", "HV", "HW", "HX", "HY", "HZ",
            "IA", "IB", "IC", "ID", "IE", "IF", "IG", "IH", "II", "IJ", "IK", "IL", "IM", "IN", "IO", "IP", "IQ", "IR", "IS", "IT", "IU", "IV", "IW", "IX", "IY", "IZ");
        $inicioy = 3;

        foreach ($solicitudes as $sol) {
            //A partir de aqui se empieza a escribir en las celdas del documento excel
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[0] . $inicioy, $sol->Folio);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[1] . $inicioy, $sol->NombreC);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[2] . $inicioy, $sol->RazonS);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[3] . $inicioy, $sol->RFC);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[4] . $inicioy, $sol->RepresentanteL);
            $Idvariable = $sol->cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Cliente as $arreglo1) {
                    $id_real = $arreglo1->id_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[5] . $inicioy, $resultado);
            $Idvariable = $sol->Tipo_cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($TipoCliente as $arreglo1) {
                    $id_real = $arreglo1->id_Tipo_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_Tipo_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[6] . $inicioy, $resultado);
            $Idvariable = $sol->SubTipo_cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($SubTipoCliente as $arreglo1) {
                    $id_real = $arreglo1->id_SubTipo_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_SubTipo_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[7] . $inicioy, $resultado);
            $Idvariable = $sol->RegimenJ;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Regimen as $arreglo1) {
                    $id_real = $arreglo1->id_regimen;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_regimen;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[8] . $inicioy, $resultado);
            $Idvariable = $sol->FormaJ;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Forma as $arreglo1) {
                    $id_real = $arreglo1->id_forma;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_forma;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[9] . $inicioy, $resultado);
            $Idvariable = $sol->AmbitoA;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Ambito as $arreglo1) {
                    $id_real = $arreglo1->id_ambito;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_ambito;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[10] . $inicioy, $resultado);
            $Idvariable = $sol->Tamanio;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Tamanio as $arreglo1) {
                    $id_real = $arreglo1->id_tamanio;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_tamanio;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[11] . $inicioy, $resultado);
            $Idvariable = $sol->Sector;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Sector as $arreglo1) {
                    $id_real = $arreglo1->id_sector;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_sector;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[12] . $inicioy, $resultado);
            $Idvariable = $sol->Clasificacion;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Clasificacion as $arreglo1) {
                    $id_real = $arreglo1->id_clasificacion;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_clasificacion;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[13] . $inicioy, $resultado);
            $Idvariable = $sol->Rama;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Rama as $arreglo1) {
                    $id_real = $arreglo1->id_rama;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_rama;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[14] . $inicioy, $resultado);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[15] . $inicioy, $sol->Calle);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[16] . $inicioy, $sol->No);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[17] . $inicioy, $sol->Colonia);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[18] . $inicioy, $sol->CP);
            $Idvariable = $sol->Pais;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Pais as $arreglo1) {
                    $id_real = $arreglo1->id_pais;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_pais;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[19] . $inicioy, $resultado);
            $Idvariable = $sol->Estado;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Estado as $arreglo1) {
                    $id_real = $arreglo1->id_estado;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_estado;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[20] . $inicioy, $resultado);
            $Idvariable = $sol->Ciudad;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Ciudad as $arreglo1) {
                    $id_real = $arreglo1->id_ciudad;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_ciudad;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[21] . $inicioy, $resultado);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[22] . $inicioy, $sol->Lada);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[23] . $inicioy, $sol->Tel);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[24] . $inicioy, $sol->Pagina);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[25] . $inicioy, $sol->facebook);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[26] . $inicioy, $sol->twitter);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[27] . $inicioy, $sol->linkedin);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[28] . $inicioy, $sol->google);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[29] . $inicioy, $sol->Contacto);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[30] . $inicioy, $sol->Profesion);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[31] . $inicioy, $sol->Puesto);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[32] . $inicioy, $sol->Correo);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[33] . $inicioy, $sol->C_Lada);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[34] . $inicioy, $sol->C_Tel);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[35] . $inicioy, $sol->C_Ext);

            $this->excel->getActiveSheet()->getRowDimension($inicioy)->setRowHeight(18); //Ajustamos el alto de las celdas
            $inicioy++;
        }
        //Fecha y número aleatorio para nombrar al excel dentro del zip         
        $filename = "ReporteDirectorio.xls";
        header('Content-Type: application/vnd.ms-excel'); //mime type
        header('Content-Disposition: attachment;filename="' . $filename . '"'); //tell browser what's the file name
        header('Cache-Control: max-age=0'); //no cache
        //save it to Excel5 format (excel 2003 .XLS file), change this to 'Excel2007' (and adjust the filename extension, also the header mime type)
        //if you want to save it as .XLSX Excel 2007 format
        $objWriter = PHPExcel_IOFactory::createWriter($this->excel, 'Excel5');
        //force user to download the Excel file without writing it to server's HD
        $objWriter->save('php://output');
        //$objWriter->save('uploads/rep_excel/'.$filename);
    }

    public function ExcelDirectorio() {
        //Carga las librerías
        $this->load->library('excel');
        // Propiedades del Documento
        $this->excel->getProperties()->setCreator("DEFIRYO")
                ->setLastModifiedBy("DEFIRYO")
                ->setTitle('Reporte')
                ->setSubject('Subject');

        //$idcliente = $this->input->get('Folio');
        $this->load->model("modelo", "solicitud");
        //$solicitudes = $this->solicitud->getInformacion($idcliente);
        $solicitudes = $this->solicitud->getInformacionExcel();
        $this->load->model("modelo", "Rama");
        $Rama = $this->Rama->getRama();
        $this->load->model("modelo", "Cliente");
        $Cliente = $this->Cliente->getCliente();
        $this->load->model("modelo", "TipoCliente");
        $TipoCliente = $this->TipoCliente->getTipoCliente2();
        $this->load->model("modelo", "SubTipoCliente");
        $SubTipoCliente = $this->SubTipoCliente->getSubTipoCliente2();
        $this->load->model("modelo", "Regimen");
        $Regimen = $this->Regimen->getRegimen();
        $this->load->model("modelo", "Forma");
        $Forma = $this->Forma->getForma();
        $this->load->model("modelo", "Ambito");
        $Ambito = $this->Ambito->getAmbito();
        $this->load->model("modelo", "Tamanio");
        $Tamanio = $this->Tamanio->getTamanio();
        $this->load->model("modelo", "Sector");
        $Sector = $this->Sector->getSector();
        $this->load->model("modelo", "Clasificacion");
        $Clasificacion = $this->Clasificacion->getClasificacion();
        $this->load->model("modelo", "Pais");
        $Pais = $this->Pais->getPais();
        $this->load->model("modelo", "Estado");
        $Estado = $this->Estado->getEstado2();
        $this->load->model("modelo", "Ciudad");
        $Ciudad = $this->Ciudad->getCiudad2();

        //Cargamos el template del encabezado
        $objReader = PHPExcel_IOFactory::createReader('Excel5');
        $this->excel = $objReader->load('uploads/DirectorioUsuario.xls'); //Abrimos el excel en dónde escribiremos la información generada
        $objWorksheet = $this->excel->getActiveSheet()->toArray(null, null, null, null, null, null);

        $columnas = array("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z",
            "AA", "AB", "AC", "AD", "AE", "AF", "AG", "AH", "AI", "AJ", "AK", "AL", "AM", "AN", "AO", "AP", "AQ", "AR", "AS", "AT", "AU", "AV", "AW", "AX", "AY", "AZ",
            "BA", "BB", "BC", "BD", "BE", "BF", "BG", "BH", "BI", "BJ", "BK", "BL", "BM", "BN", "BO", "BP", "BQ", "BR", "BS", "BT", "BU", "BV", "BW", "BX", "BY", "BZ",
            "CA", "CB", "CC", "CD", "CE", "CF", "CG", "CH", "CI", "CJ", "CK", "CL", "CM", "CN", "CO", "CP", "CQ", "CR", "CS", "CT", "CU", "CV", "CW", "CX", "CY", "CZ",
            "DA", "DB", "DC", "DD", "DE", "DF", "DG", "DH", "DI", "DJ", "DK", "DL", "DM", "DN", "DO", "DP", "DQ", "DR", "DS", "DT", "DU", "DV", "DW", "DX", "DY", "DZ",
            "EA", "EB", "EC", "ED", "EE", "EF", "EG", "EH", "EI", "EJ", "EK", "EL", "EM", "EN", "EO", "EP", "EQ", "ER", "ES", "ET", "EU", "EV", "EW", "EX", "EY", "EZ",
            "FA", "FB", "FC", "FD", "FE", "FF", "FG", "FH", "FI", "FJ", "FK", "FL", "FM", "FN", "FO", "FP", "FQ", "FR", "FS", "FT", "FU", "FV", "FW", "FX", "FY", "FZ",
            "GA", "GB", "GC", "GD", "GE", "GF", "GG", "GH", "GI", "GJ", "GK", "GL", "GM", "GN", "GO", "GP", "GQ", "GR", "GS", "GT", "GU", "GV", "GW", "GX", "GY", "GZ",
            "HA", "HB", "HC", "HD", "HE", "HF", "HG", "HH", "HI", "HJ", "HK", "HL", "HM", "HN", "HO", "HP", "HQ", "HR", "HS", "HT", "HU", "HV", "HW", "HX", "HY", "HZ",
            "IA", "IB", "IC", "ID", "IE", "IF", "IG", "IH", "II", "IJ", "IK", "IL", "IM", "IN", "IO", "IP", "IQ", "IR", "IS", "IT", "IU", "IV", "IW", "IX", "IY", "IZ");
        $inicioy = 3;

        foreach ($solicitudes as $sol) {
            //A partir de aqui se empieza a escribir en las celdas del documento excel
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[0] . $inicioy, $sol->Folio);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[1] . $inicioy, $sol->NombreC);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[2] . $inicioy, $sol->RazonS);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[3] . $inicioy, $sol->RFC);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[4] . $inicioy, $sol->RepresentanteL);
            $Idvariable = $sol->cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Cliente as $arreglo1) {
                    $id_real = $arreglo1->id_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[5] . $inicioy, $resultado);
            $Idvariable = $sol->Tipo_cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($TipoCliente as $arreglo1) {
                    $id_real = $arreglo1->id_Tipo_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_Tipo_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[6] . $inicioy, $resultado);
            $Idvariable = $sol->SubTipo_cliente;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($SubTipoCliente as $arreglo1) {
                    $id_real = $arreglo1->id_SubTipo_cliente;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_SubTipo_cliente;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[7] . $inicioy, $resultado);

            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[8] . $inicioy, $sol->Calle);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[9] . $inicioy, $sol->No);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[10] . $inicioy, $sol->Colonia);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[11] . $inicioy, $sol->CP);
            $Idvariable = $sol->Pais;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Pais as $arreglo1) {
                    $id_real = $arreglo1->id_pais;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_pais;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[12] . $inicioy, $resultado);
            $Idvariable = $sol->Estado;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Estado as $arreglo1) {
                    $id_real = $arreglo1->id_estado;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_estado;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[13] . $inicioy, $resultado);
            $Idvariable = $sol->Ciudad;
            if (!$Idvariable) {
                $resultado = 0;
            } else {
                foreach ($Ciudad as $arreglo1) {
                    $id_real = $arreglo1->id_ciudad;
                    if ($id_real == $Idvariable) {
                        $resultado = $arreglo1->dsc_ciudad;
                    }
                }
            }
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[14] . $inicioy, $resultado);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[15] . $inicioy, $sol->Lada);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[16] . $inicioy, $sol->Tel);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[17] . $inicioy, $sol->Pagina);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[18] . $inicioy, $sol->facebook);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[19] . $inicioy, $sol->twitter);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[20] . $inicioy, $sol->linkedin);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[21] . $inicioy, $sol->google);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[22] . $inicioy, $sol->Contacto);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[23] . $inicioy, $sol->Profesion);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[24] . $inicioy, $sol->Puesto);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[25] . $inicioy, $sol->Correo);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[26] . $inicioy, $sol->C_Lada);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[27] . $inicioy, $sol->C_Tel);
            $this->excel->setActiveSheetIndex(0)->setCellValue($columnas[28] . $inicioy, $sol->C_Ext);

            $this->excel->getActiveSheet()->getRowDimension($inicioy)->setRowHeight(18); //Ajustamos el alto de las celdas
            $inicioy++;
        }
        //Fecha y número aleatorio para nombrar al excel dentro del zip         
        $filename = "DirectorioUsuario.xls";
        header('Content-Type: application/vnd.ms-excel'); //mime type
        header('Content-Disposition: attachment;filename="' . $filename . '"'); //tell browser what's the file name
        header('Cache-Control: max-age=0'); //no cache
        //save it to Excel5 format (excel 2003 .XLS file), change this to 'Excel2007' (and adjust the filename extension, also the header mime type)
        //if you want to save it as .XLSX Excel 2007 format
        $objWriter = PHPExcel_IOFactory::createWriter($this->excel, 'Excel5');
        //force user to download the Excel file without writing it to server's HD
        $objWriter->save('php://output');
        //$objWriter->save('uploads/rep_excel/'.$filename);
    }

//**************************************************************
    //*********************************************************________Entrevista___________*************************************** 

    public function Entrevista() {
        $this->load->model("modelo", "datos");
        $E0 = $this->input->post('E0');
        $E1 = $this->input->post('E1');
        $E2 = $this->input->post('E2');
        $E3 = $this->input->post('E3');
        $E4 = $this->input->post('E4');
        $E5 = $this->input->post('E5');
        $E6 = $this->input->post('E6');
        $E7 = $this->input->post('E7');
        $E8 = $this->input->post('E8');
        $E9 = $this->input->post('E9');
        $E10 = $this->input->post('E10');
        $E11 = $this->input->post('E11');
        $E12 = $this->input->post('E12');
        $E13 = $this->input->post('E13');
        $E14 = $this->input->post('E14');
        $E15 = $this->input->post('E15');
        $E16 = $this->input->post('E16');
        $E17 = $this->input->post('E17');
        $datos = $this->datos->getEntrevista(
                $E0, $E1, $E2, $E3, $E4, $E5, $E6, $E7, $E8, $E9, $E10, $E11, $E12, $E13, $E14, $E15, $E16, $E17
        );
        echo '<script>alert("Listo")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $indiceuser = $this->input->post('user');
        $data['User'] = $indiceuser;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Menu';
        $this->_renderView($data);
    }

    //*********************************************************_________Fin entrevista__________*************************************** 
    //*********************************************************_________Compras__________*************************************** 

    public function Compras() {
        $this->load->model("modelo", "datos");
        $ComprasID = $this->input->post('ComprasID');
        $indiceuser = $this->input->post('user');
        $Fecha = date("d/m/y");
        if ($ComprasID == 'OC0') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0';
            $this->_renderView($data);
        }
        if ($ComprasID == 'OC1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Cotizaciones
            $this->load->model("modelo", "Cotizacion");
            $CotizacionALL = $this->Cotizacion->getCotizacionesALL3();
            $data['CotizacionALL'] = $CotizacionALL;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_1';
            $this->_renderView($data);
        }
        if ($ComprasID == 'OC2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Cotizaciones
            $this->load->model("modelo", "Cotizacion");
            $CotizacionALL = $this->Cotizacion->getCotizacionesALL3();
            $data['CotizacionALL'] = $CotizacionALL;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_2';
            $this->_renderView($data);
        }
        if ($ComprasID == 'COT1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proveedor
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll();
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll();
            $data['Productos'] = $Productos;
            //Cargando Ordenes
            $this->load->model("modelo", "Cotizaciones");
            $Cotizaciones = $this->Cotizaciones->getCotizacionesALL();
            $data['Cotizaciones'] = $Cotizaciones;
            //Cargando Conceptos de cotizaciones
            $this->load->model("modelo", "Etiqueta");
            $Etiqueta = $this->Etiqueta->getCotizacionConceptosALL();
            $data['Etiqueta'] = $Etiqueta;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0_1';
            $this->_renderView($data);
        }
        if ($ComprasID == 'COT3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Cargando Ordenes
            $this->load->model("modelo", "Cotizaciones");
            $Cotizaciones = $this->Cotizaciones->getCotizacionesxAprobar();
            $data['Cotizaciones'] = $Cotizaciones;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0_3';
            $this->_renderView($data);
        }
    }

    public function Cotizaciones() {
        $this->load->model("modelo", "datos");
        $ComprasID = $this->input->post('ComprasID');
        $indiceuser = $this->input->post('user');
        $Fecha = date("d/m/y");
        if ($ComprasID == 'COT1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proveedor
            $this->load->model("modelo", "Proveedor");
            $Proveedor = $this->Proveedor->getProveedoresAll();
            $data['Proveedor'] = $Proveedor;
            //Abriendo BD Productos
            $this->load->model("modelo", "Productos");
            $Productos = $this->Productos->getProductosAll();
            $data['Productos'] = $Productos;
            //Cargando Ordenes
            $this->load->model("modelo", "Cotizaciones");
            $Cotizaciones = $this->Cotizaciones->getCotizacionesALL();
            $data['Cotizaciones'] = $Cotizaciones;
            //Cargando Conceptos de cotizaciones
            $this->load->model("modelo", "Etiqueta");
            $Etiqueta = $this->Etiqueta->getCotizacionConceptosALL();
            $data['Etiqueta'] = $Etiqueta;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0_1';
            $this->_renderView($data);
        }
        if ($ComprasID == 'COT2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Cargando Ordenes
            $this->load->model("modelo", "Cotizaciones");
            $Cotizaciones = $this->Cotizaciones->getCotizacionesxAprobar();
            $data['Cotizaciones'] = $Cotizaciones;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0_2';
            $this->_renderView($data);
        }
        if ($ComprasID == 'COT3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Cargando Ordenes
            $this->load->model("modelo", "Cotizaciones");
            $Cotizaciones = $this->Cotizaciones->getCotizacionesxAprobar();
            $data['Cotizaciones'] = $Cotizaciones;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Compras_0_3';
            $this->_renderView($data);
        }
    }

    public function Cot02() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Numero = $this->input->post('Cotizacion');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['Numero'] = $Numero;
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        $this->load->model("modelo", "Proveedor");
        $Proveedorall = $this->Proveedor->getProveedoresAll();
        $data['Proveedorall'] = $Proveedorall;
        //Abriendo BD Catalogo
        $this->load->model("modelo", "Catalogo");
        $Catalogo = $this->Catalogo->getCatalogo();
        $data['Catalogo'] = $Catalogo;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiquetas = $this->Etiqueta->getCotizacionConceptosALL();
        $data['Etiquetas'] = $Etiquetas;
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $ProductoALL = $this->Productos->getProductosALL();
        $data['ProductoALL'] = $ProductoALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        $data['CotizacionALL'] = $CotizacionALL;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Compras_0_3_1';
        $this->_renderView($data);
    }

    public function CotizacionM() {
        $Proveedores = $_POST["Proveedor"];
        $Producto = $_POST["Producto"];
        $Etiqueta = $_POST["Etiqueta"];
        $Cantidad = $_POST["Cantidad"];

        $Proyectos = $_POST["Proyectos"];
        $Anotaciones = $_POST["Anotaciones"];
        $Numero = $_POST["Numero"];
        $Fecha = $_POST["Fecha"];

        $this->load->model("modelo", "Proveedor");
        $Proveedorall = $this->Proveedor->getProveedoresAll();
        //Abriendo BD Catalogo
        $this->load->model("modelo", "Catalogo");
        $Catalogo = $this->Catalogo->getCatalogo();
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $ProductoALL = $this->Productos->getProductosALL();
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        //foreach($CotizacionALL as $Cotizacion)

        if (empty($CotizacionALL)) {
            $Provs = implode(',', $Proveedores);
            $this->load->model("modelo", "datos");
            $Guardar = $this->datos->getSaveCotizacion(
                    $Provs, $Producto, $Etiqueta, $Cantidad, $Proyectos, $Anotaciones, $Numero, $Fecha
            );
        } else {
            //Abriendo BD Cotizaciones
            $this->load->model("modelo", "Cotizacion");
            $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
            foreach ($CotizacionALL as $Cotizacion)
                $Provs = implode(',', $Proveedores);
            $Etiq = explode(',', $Cotizacion->Etiqueta);
            $x = count($Etiq);
            for ($y = 0; $y < $x; $y++) {
                if ($Etiq[$y] == $Etiqueta) {
                    
                }
            }
            $Eti = $Cotizacion->Etiqueta . "," . $Etiqueta;
            $Prodcto = $Cotizacion->Productos . "," . $Producto;
            $Cantdd = $Cotizacion->Cantidad . "," . $Cantidad;
            $this->load->model("modelo", "datos");
            $Guardar = $this->datos->getUpdateCotizacion(
                    $Numero, $Eti, $Provs, $Prodcto, $Cantdd
            );
        }

        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        foreach ($CotizacionALL as $Cotizacion)
            
            ?> 
        <table width="100%" border="1" bordercolor="#9c9a9a">
        <?php
        $Label = 0;
        $pos = 0;
        $mystring = $Cotizacion->Etiqueta;
        $findme = ',';
        $pos = strpos($mystring, $findme);
        if ($pos != 0) {
            $Labels = explode(',', $Cotizacion->Etiqueta);
        } else {
            //$Labels=new array();
            $Labels[0] = $Cotizacion->Etiqueta;
        }

        $a = count($Etiquetas);
        $m = count($Labels);
        for ($b = 1; $b <= $a; $b++) {
            foreach ($Etiquetas as $Etiquetas1) {
                if ($Etiquetas1->id_conceptos == $b) {
                    $Label = $Etiquetas1->dsc_conceptos;
                    $IDLabel = $Etiquetas1->id_conceptos;

                    $si = 0;
                    for ($o = 0; $o < $m; $o++) {
                        if ($Labels[$o] == $IDLabel) {
                            $si = 1;
                        }
                    }



                    if ($si == '1') {
                        ?>
                            <tr>
                                <td bgcolor="#96b298">
                                    <div class="col-md-12 col-xs-12">
                                        <strong style="color:#FFF"><?php echo $Label ?></strong>
                                    </div>
                                </td>
                            </tr>
                        <?php
                        $Prov = 0;
                        $c = count($Proveedores);
                        for ($d = 0; $d < $c; $d++) {
                            $Total = 0;
                            foreach ($Proveedorall as $Proveedoresall1) {
                                if ($Proveedoresall1->ID == $Proveedores[$d]) {
                                    $Prov = $Proveedoresall1->Proveedor;
                                    ?>
                                        <tr>
                                            <td bgcolor="#b2bcb3">
                                                <div class="col-md-12 col-xs-12">
                                                    <strong style="color:#FFF"><?php echo $Prov ?></strong>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td bgcolor="#c6c8c6">
                                                <div class="col-md-4 col-xs-12">
                                                    <small>Concepto</small>
                                                </div>    
                                                <div class="col-md-2 col-xs-12"  align="right">
                                                    <small>Unidad</small>
                                                </div>
                                                <div class="col-md-2 col-xs-12"  align="right">
                                                    <small>Cantidad</small>
                                                </div>
                                                <div class="col-md-2 col-xs-12"  align="right">
                                                    <small>P.U.</small>
                                                </div>
                                                <div class="col-md-2 col-xs-12"  align="right">
                                                    <small>Importe</small>
                                                </div>
                                            </td>
                                        </tr>			
                                    <?php
                                    $ProdMat = explode(',', $Cotizacion->Productos);
                                    $e = count($ProdMat);
                                    for ($f = 0; $f < $e; $f++) {
                                        $Material = "-";
                                        $P = "-";
                                        $PrecioU = "-";
                                        foreach ($Catalogo as $Catalogo1) {
                                            if ($Catalogo1->Folio == $ProdMat[$f] && $Catalogo1->Proveedor == $Proveedores[$d]) {
                                                $PrecioU = $Catalogo1->Precio;
                                            }
                                        }
                                        foreach ($ProductoALL as $ProductosALL1) {
                                            if ($ProductosALL1->Folio == $ProdMat[$f]) {
                                                $P = $ProductosALL1->Producto . " " . $ProductosALL1->Marca . " " . $ProductosALL1->UnidadMedida;
                                                $medida = $ProductosALL1->UnidadMedida;
                                                $L = $ProductosALL1->Etiqueta;
                                            }
                                        }
                                        $Cantidades = explode(',', $Cotizacion->Cantidad);
                                        $g = count($Cotizacion->Cantidad);
                                        $cant = $Cantidades[$f];
                                        $Importe = $PrecioU * $Cantidades[$f];
                                        $Total = $Total + $Importe;

                                        if ($L == $IDLabel) {
                                            ?>
                                                <tr>
                                                    <td>
                                                        <div class="col-md-4 col-xs-12">
                                                            <strong><?php echo $P; ?></strong>
                                                        </div>    
                                                        <div class="col-md-2 col-xs-12"  align="right">
                                                            <strong><?php echo $medida ?></strong>
                                                        </div>
                                                        <div class="col-md-2 col-xs-12"  align="right">
                                                            <strong><?php echo $cant ?></strong>
                                                        </div>
                                                        <div class="col-md-2 col-xs-12"  align="right">
                                                            <strong><?php echo $PrecioU ?></strong>
                                                        </div>
                                                        <div class="col-md-2 col-xs-12"  align="right">
                                                            <strong><?php echo $Importe ?></strong>
                                                        </div>
                                                    </td>
                                                </tr>
                                            <?php
                                        }
                                    }
                                    ?>
                                        <tr>
                                            <td>
                                                <div class="col-md-12 col-xs-12" align="right">
                                                    <strong style="color:#b40000"><?php echo 'Total: ' . $Total ?></strong>
                                                </div>
                                            </td>
                                        </tr>
                                    <?php
                                }
                            }
                        }
                    }
                }
            }
        }
        ?>
        </table>
        <?php
    }

    public function TerminarAprobacion() {
        $this->load->model("modelo", "datos");
        $Terminado = $this->input->post('Terminado');
        $Numero = $this->input->post('Numero');
        $indiceuser = $this->input->post('user');
        $datos = $this->datos->getTerminarAprobacion(
                $Numero, $Terminado
        );
        echo '<script>alert("Concluído")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        //Cargando Ordenes
        $this->load->model("modelo", "Cotizaciones");
        $Cotizaciones = $this->Cotizaciones->getCotizacionesxAprobar();
        $data['Cotizaciones'] = $Cotizaciones;
        // View render
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Compras_0_3';
        $this->_renderView($data);
    }

    public function cambiarproductos() {
        //Abriendo BD Sub-cliente
        $Etiqueta = $_POST["Etiqueta"];
        $this->load->model("modelo", "Productos");
        $Productos = $this->Productos->getProductosxEtiqueta($Etiqueta);
        ?>
        <select class="form-control" id="Producto" name="Producto" required="required">
            <option value="">Selecciona</option>
            <?php foreach ($Productos as $Producto1) { ?> 
                <option value="<?php echo $Producto1->Folio; ?>"><?php echo $Producto1->Producto . " " . $Producto1->Marca . " " . $Producto1->UnidadMedida; ?></option>
        <?php } ?>
        </select>
                        <?php
                    }

                    public function Aprobar() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Numero = $this->input->post('ID');
                        $Aprobar = $this->input->post('Aprobar');
                        $Guardar = $this->datos->getSaveAprobacion(
                                $Numero, $Aprobar
                        );
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['Numero'] = $Numero;
                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "Proyectos");
                        $Proyectos = $this->Proyectos->getProyectosAll();
                        $data['Proyectos'] = $Proyectos;
                        $this->load->model("modelo", "Proveedor");
                        $Proveedorall = $this->Proveedor->getProveedoresAll();
                        $data['Proveedorall'] = $Proveedorall;
                        //Abriendo BD Catalogo
                        $this->load->model("modelo", "Catalogo");
                        $Catalogo = $this->Catalogo->getCatalogo();
                        $data['Catalogo'] = $Catalogo;
                        //Abriendo BD Etiqueta
                        $this->load->model("modelo", "Etiqueta");
                        $Etiquetas = $this->Etiqueta->getCotizacionConceptosALL();
                        $data['Etiquetas'] = $Etiquetas;
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $ProductoALL = $this->Productos->getProductosALL();
                        $data['ProductoALL'] = $ProductoALL;
                        //Abriendo BD Cotizaciones
                        $this->load->model("modelo", "Cotizacion");
                        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
                        $data['CotizacionALL'] = $CotizacionALL;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Compras_0_3_1';
                        $this->_renderView($data);
                    }

                    public function AprobacionesCOT() {
                        $Numero = $_POST["Cotizacion"];

                        $this->load->model("modelo", "Proveedor");
                        $Proveedorall = $this->Proveedor->getProveedoresAll();
                        //Abriendo BD Catalogo
                        $this->load->model("modelo", "Catalogo");
                        $Catalogo = $this->Catalogo->getCatalogo();
                        //Abriendo BD Etiqueta
                        $this->load->model("modelo", "Etiqueta");
                        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $ProductoALL = $this->Productos->getProductosALL();
                        //Abriendo BD Cotizaciones
                        $this->load->model("modelo", "Cotizacion2");
                        $CotizacionALL = $this->Cotizacion2->getCotizacionesALL2($Numero);
                        //foreach($CotizacionALL as $Cotizacion)

                        if (empty($CotizacionALL)) {
                            echo "Eliga una cotización aprobada";
                        }
                        $posible = 0;
                        foreach ($CotizacionALL as $Cotizacion) {
                            $micadena = $Cotizacion->Aprobacion;
                            $encuentra = ',';
                            $posible = strpos($micadena, $encuentra);

                            if ($posible != 0) {
                                $aprobaciones = explode(',', $Cotizacion->Aprobacion);
                                $cuenta = count($aprobaciones);
                                for ($b = 0; $b < $cuenta; $b++) {
                                    $Prov2[$b] = substr($aprobaciones[$b], strpos($aprobaciones[$b], "-") + strlen("-"));
                                    $Etiqueta2[$b] = substr($aprobaciones[$b], 0, strpos($aprobaciones[$b], "-"));
                                }
                                //$cuenta=$cuenta-1;
                            } else {
                                //$Labels=new array();
                                $aprobaciones[0] = $Cotizacion->Aprobacion;
                                $micadena2 = $aprobaciones[0];
                                $encuentra2 = '-';
                                $Prov2[0] = substr($aprobaciones[0], strpos($aprobaciones[0], "-") + strlen("-"));
                                $Etiqueta2[0] = substr($aprobaciones[0], 0, strpos($aprobaciones[0], "-"));
                                $cuenta = 0;
                            }

                            $cc = count($Etiqueta2);
                            ?>
            <div class="col-md-4 col-xs-12">
                <label for="1" class="control-label">Aprobaciones</label><br>
            </div>  
            <div class="col-md-8 col-xs-12">
                <select class="form-control" id="Aprobacion" name="Aprobacion"   required="required">
                    <option value="">Selecciona</option>
            <?php for ($b = 0; $b < $cc; $b++) { ?> 
                <?php
                foreach ($Proveedorall as $Proyectos1) {
                    if ($Proyectos1->ID == $Prov2[$b]) {
                        $Proy = $Proyectos1->Proveedor;
                    }
                }
                foreach ($Etiquetas as $Proyectos1) {
                    if ($Proyectos1->id_conceptos == $Etiqueta2[$b]) {
                        $Labell = $Proyectos1->dsc_conceptos;
                    }
                }
                ?>
                        <option value="<?php echo $Prov2[$b] . "-" . $Etiqueta2[$b]; ?>">
                                <?php echo " Categoria: " . $Labell . " Proveedor: " . $Proy; ?></option>
            <?php } ?>
                </select>
            </div>
            <?php }
        ?>	
                        <?php
                    }

                    public function AprobacionesCOT2() {
                        $Numero = $_POST["Cotizacion"];

                        $this->load->model("modelo", "Proveedor");
                        $Proveedorall = $this->Proveedor->getProveedoresAll();
                        //Abriendo BD Catalogo
                        $this->load->model("modelo", "Catalogo");
                        $Catalogo = $this->Catalogo->getCatalogo();
                        //Abriendo BD Etiqueta
                        $this->load->model("modelo", "Etiqueta");
                        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
                        //Abriendo BD Productos
                        $this->load->model("modelo", "Productos");
                        $ProductoALL = $this->Productos->getProductosALL();
                        //Abriendo BD Cotizaciones
                        $this->load->model("modelo", "Cotizacion2");
                        $CotizacionALL = $this->Cotizacion2->getCotizacionesALL4($Numero);
                        //foreach($CotizacionALL as $Cotizacion)
                        ?>    
        <div class="col-md-4 col-xs-12">
            <label for="1" class="control-label">Aprobaciones</label><br>
        </div>  
        <div class="col-md-8 col-xs-12">
            <select class="form-control" id="Aprobacion" name="Aprobacion"   required="required">
                <option value="">Selecciona</option>
        <?php
        foreach ($CotizacionALL as $CotizacionALL1) {
            foreach ($Proveedorall as $Proyectos1) {
                if ($Proyectos1->ID == $CotizacionALL1->Proveed) {
                    $Proy = $Proyectos1->Proveedor;
                }
            }
            foreach ($Etiquetas as $Proyectos1) {
                if ($Proyectos1->id_conceptos == $CotizacionALL1->Etiquet) {
                    $Labell = $Proyectos1->dsc_conceptos;
                }
            }
            ?>
                    <option value="<?php echo $CotizacionALL1->Proveed . "-" . $CotizacionALL1->Etiquet; ?>">
                            <?php echo " Categoria: " . $Labell . " Proveedor: " . $Proy; ?></option>
                        <?php } ?>
            </select>
        </div>

        <?php
    }

    public function OrdenCompra() {
        $this->load->helper('numeros');
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Numero = $this->input->post('Cotizacion');
        $Aprobacion = $this->input->post('Aprobacion');

        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionID = $this->Cotizacion->getCotizacionesID($Numero);
        foreach ($CotizacionID as $CotizacionID1) {
            
        }
        $Pr = $CotizacionID1->Proyecto;
        $data['Pr'] = $Pr;

        $Etiquet = substr($Aprobacion, strpos($Aprobacion, "-") + strlen("-"));
        $Proveed = substr($Aprobacion, 0, strpos($Aprobacion, "-"));

        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['Numero'] = $Numero;
        $data['Etiquet'] = $Etiquet;
        $data['Proveed'] = $Proveed;
        $data['Cotizacion'] = $Numero;
        $data['Aproba'] = $Aprobacion;

        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        $this->load->model("modelo", "Proveedor");
        $Proveedorall = $this->Proveedor->getProveedoresAll();
        $data['Proveedorall'] = $Proveedorall;
        //Abriendo BD Catalogo
        $this->load->model("modelo", "Catalogo");
        $Catalogo = $this->Catalogo->getCatalogo();
        $data['Catalogo'] = $Catalogo;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiqueta = $this->Etiqueta->getEtiquetaID($Etiquet);
        $data['Etiqueta'] = $Etiqueta;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
        $data['Etiquetas'] = $Etiquetas;
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $ProductoALL = $this->Productos->getProductosALL();
        $data['ProductoALL'] = $ProductoALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        $data['CotizacionALL'] = $CotizacionALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Contratos");
        $Contratos = $this->Contratos->getContratosALL2();
        $data['Contratos'] = $Contratos;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Compras_1_1';
        $this->_renderView($data);
    }

    public function OrdenCompra2() {
        $this->load->helper('numeros');
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $IDCotizacion = $this->input->post('Cotizacion');
        $Aprobacion = $this->input->post('Aprobacion');

        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionID = $this->Cotizacion->getCotizacionesID($IDCotizacion);
        foreach ($CotizacionID as $CotizacionID1) {
            
        }
        $Numero = $CotizacionID1->Numero;
        $Pr = $CotizacionID1->Proyecto;

        $Etiquet = substr($Aprobacion, strpos($Aprobacion, "-") + strlen("-"));
        $Proveed = substr($Aprobacion, 0, strpos($Aprobacion, "-"));

        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['Numero'] = $Numero;
        $data['Etiquet'] = $Etiquet;
        $data['Proveed'] = $Proveed;
        $data['Cotizacion'] = $Numero;
        $data['Aproba'] = $Aprobacion;
        $data['Pr'] = $Pr;
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        $this->load->model("modelo", "Proveedor");
        $Proveedorall = $this->Proveedor->getProveedoresAll();
        $data['Proveedorall'] = $Proveedorall;
        //Abriendo BD Catalogo
        $this->load->model("modelo", "Catalogo");
        $Catalogo = $this->Catalogo->getCatalogo();
        $data['Catalogo'] = $Catalogo;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiqueta = $this->Etiqueta->getEtiquetaID($Etiquet);
        $data['Etiqueta'] = $Etiqueta;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
        $data['Etiquetas'] = $Etiquetas;
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $ProductoALL = $this->Productos->getProductosALL();
        $data['ProductoALL'] = $ProductoALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        $data['CotizacionALL'] = $CotizacionALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "OrdenCompra");
        $OrdenCompra = $this->OrdenCompra->getOrdenCompra($IDCotizacion, $Etiquet, $Proveed);
        $data['OrdenCompra'] = $OrdenCompra;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Contratos");
        $Contratos = $this->Contratos->getContratosALL2();
        $data['Contratos'] = $Contratos;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Compras_2_1';
        $this->_renderView($data);
    }

//*********************************************************_________Fin de Compras__________*************************************** 
//******************************************************* viviendas ****************************************************************************** 

    public function Viviendas() {
        $where = '';
        $this->load->model("modelo", "datos");
        $ViviendasID = $this->input->post('ViviendaID');
        $indiceuser = $this->input->post('user');

        if ($ViviendasID == 'Viviendas_1') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            $data['contentView'] = 'Viviendas_1';
            $this->_renderView($data);
        }
        if ($ViviendasID == 'Viviendas_5') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD viviendas 
            $this->load->model("modelo", "Vivienda");
            $Vivienda = $this->Vivienda->getViviendaALL($where);
            $data['Vivienda'] = $Vivienda;
            //Abriendo BD cliente 
            $this->load->model("modelo", "Tipos");
            $Tipos = $this->Tipos->getPrototiposALL();
            $data['Tipos'] = $Tipos;
            $data['contentView'] = 'Viviendas_5';
            $this->_renderView($data);
        }
        if ($ViviendasID == 'Viviendas_2') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD viviendas
            $this->load->model("modelo", "Vivienda2");
            $Vivienda2 = $this->Vivienda2->getTipovivienda2();
            $data['Vivienda2'] = $Vivienda2;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Tipo
            $where = '';
            $this->load->model("modelo", "RefTipo");
            $d_RefTipo = $this->RefTipo->getRefTipo($where);
            $data['RefTipo'] = $d_RefTipo;
            //Abriendo BD cliente 
            $this->load->model("modelo", "Vivienda");
            $Vivienda = $this->Vivienda->getViviendaALL($where);
            $data['Vivienda'] = $Vivienda;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Viviendas_2';
            $this->_renderView($data);
        }
        if ($ViviendasID == 'Viviendas_3') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD viviendas
            $this->load->model("modelo", "Vivienda2");
            $Vivienda2 = $this->Vivienda2->getTipovivienda2();
            $data['Vivienda2'] = $Vivienda2;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD cliente 
            $this->load->model("modelo", "Vivienda");
            $Vivienda = $this->Vivienda->getViviendaALL($where);
            $data['Vivienda'] = $Vivienda;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Viviendas_3';
            $this->_renderView($data);
        }
        if ($ViviendasID == 'Viviendas_4') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD viviendas
            $this->load->model("modelo", "Vivienda2");
            $Vivienda2 = $this->Vivienda2->getTipovivienda2();
            $data['Vivienda2'] = $Vivienda2;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD cliente 
            $this->load->model("modelo", "Vivienda");
            $Vivienda = $this->Vivienda->getViviendaALL($where);
            $data['Vivienda'] = $Vivienda;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Viviendas_4';
            $this->_renderView($data);
        }
    }

    public function RegistroVivienda() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Modelo = $this->input->post('Modelo');
        $Precio = $this->input->post('Precio');
        $PrecioM2 = $this->input->post('PrecioM2');
        $MetrosF = $this->input->post('MetrosF');
        $MetrosFondo = $this->input->post('MetrosFondo');
        $Terreno = $this->input->post('Terreno');
        $Contruccion = $this->input->post('Contruccion');
        $Niveles = $this->input->post('Niveles');
        $Recamaras = $this->input->post('Recamaras');
        $EspaciosAuto = $this->input->post('EspaciosAuto');
        $Banios = $this->input->post('Banios');
        $Vestidor = $this->input->post('Vestidor');
        $PatioServ = $this->input->post('PatioServ');
        $Sala = $this->input->post('Sala');
        $Comedor = $this->input->post('Comedor');
        $JardinTrasero = $this->input->post('JardinTrasero');
        $CuartoLavado = $this->input->post('CuartoLavado');
        $SalaTV = $this->input->post('SalaTV');
        $Cocina = $this->input->post('Cocina');
        $JardinFrente = $this->input->post('JardinFrente');
        $Vestibulo = $this->input->post('Vestibulo');
        $Escaleras = $this->input->post('Escaleras');
        $Pasillos = $this->input->post('Pasillos');
        $Tendedero = $this->input->post('Tendedero');
        $Bodega = $this->input->post('Bodega');
        $Despensa = $this->input->post('Despensa');
        $VestidorTrastero = $this->input->post('VestidorTrastero');
        $Desvan = $this->input->post('Desvan');
        $Despacho = $this->input->post('Despacho');
        $Estudio = $this->input->post('Estudio');
        $Biblioteca = $this->input->post('Biblioteca');
        $SalaJuegos = $this->input->post('SalaJuegos');
        $SalaFumadores = $this->input->post('SalaFumadores');
        $Sauna = $this->input->post('Sauna');
        $Gimnasio = $this->input->post('Gimnasio');
        $Otras = $this->input->post('Otras');
        $CocinaInt = $this->input->post('CocinaInt');
        $Estufa = $this->input->post('Estufa');
        $Muebles = $this->input->post('Muebles');
        $Closets = $this->input->post('Closets');
        $Lavadero = $this->input->post('Lavadero');
        $Calentador = $this->input->post('Calentador');
        $Cisterna = $this->input->post('Cisterna');
        $Canceles = $this->input->post('Canceles');
        $Terrazas = $this->input->post('Terrazas');
        $Porches = $this->input->post('Porches');
        $Piscina = $this->input->post('Piscina');
        $Pergola = $this->input->post('Pergola');
        $Invernadero = $this->input->post('Invernadero');
        $PistaJuego = $this->input->post('PistaJuego');
        $EspaciosDep = $this->input->post('EspaciosDep');
        $datos = $this->datos->getRegistroVivienda(
                $Modelo, $Precio, $PrecioM2, $MetrosF, $MetrosFondo, $Terreno, $Contruccion, $Niveles, $Recamaras, $EspaciosAuto, $Banios, $Vestidor, $PatioServ, $Sala, $Comedor, $JardinTrasero, $CuartoLavado, $SalaTV, $Cocina, $JardinFrente, $Vestibulo, $Escaleras, $Pasillos, $Tendedero, $Bodega, $Despensa, $VestidorTrastero, $Desvan, $Despacho, $Estudio, $Biblioteca, $SalaJuegos, $SalaFumadores, $Sauna, $Gimnasio, $Otras, $CocinaInt, $Estufa, $Muebles, $Closets, $Lavadero, $Calentador, $Cisterna, $Canceles, $Terrazas, $Porches, $Piscina, $Pergola, $Invernadero, $PistaJuego, $EspaciosDep
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        $data['contentView'] = 'Viviendas_1';
        $this->_renderView($data);
    }

    public function AsignarVivienda() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Ndesarrollo = $this->input->post('Ndesarrollo');
        $Vivienda = $this->input->post('Vivienda');
        $TipoV = $this->input->post('TipoV');
        $datos = $this->datos->getAsignarVivienda(
                $Ndesarrollo, $Vivienda, $TipoV
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        //Abriendo BD viviendas 
        $this->load->model("modelo", "Vivienda");
        $Vivienda = $this->Vivienda->getViviendaALL();
        $data['Vivienda'] = $Vivienda;
        //Abriendo BD cliente 
        $this->load->model("modelo", "Tipos");
        $Tipos = $this->Tipos->getPrototiposALL();
        $data['Tipos'] = $Tipos;
        $data['contentView'] = 'Viviendas_5';
        $this->_renderView($data);
    }

    public function ViviendaExp() {
        $Vivienda = $this->input->post('Vivienda');
        $TDocumento = $this->input->post('TDocumento');
        $Observaciones = $this->input->post('Observaciones');
        $Nombre = $Vivienda . '-' . $TDocumento . '-' . date("ydHis");
        $indiceuser = $this->input->post('user');
        $config['upload_path'] = $this->folder12;
        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
        $config['remove_spaces'] = TRUE;
        $config['file_name'] = $Nombre;
        $config['max_size'] = '5048';
        $this->load->library('upload', $config);

        if (!$this->upload->do_upload()) {
            $error = array('error' => $this->upload->display_errors());
            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                echo '<script>alert("Se ha registrado su documento\n Sin archivo adjunto \n")</script>';
                //********sin archivo adjunto pero registra
                $this->load->model("modelo", "datos");
                $datos = $this->datos->getViviendaExp(
                        $Vivienda, $TDocumento, $Observaciones, $Nombre
                );
            } else {
                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                } else {
                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 5MB")</script>';
                    } else {
                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                    }
                }
            }
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Viviendas';
            $this->_renderView($data);
        } else {
            echo '<script>alert("El documento ha sido registrado \n ")</script>';
            $this->load->model("modelo", "datos");
            $datos = $this->datos->getViviendaExp(
                    $Vivienda, $TDocumento, $Observaciones, $Nombre
            );
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Viviendas';
            $this->_renderView($data);
        }
    }

    public function ReporteViviendaExp() {
        $datos = 0;
        $datos2 = 0;
        $ID = $_POST["Vivienda"];
        if ($ID != 0) {
            $this->load->model("modelo", "cliente");
            $datos = $this->cliente->getVivienda($ID);
            $this->load->model("modelo", "cliente");
            $datosExp = $this->cliente->getViviendaExp2($ID);
        }
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $this->load->model("modelo", "Documentos");
        $TDocumentos = $this->Documentos->getResultadoInmuebleDocumentos();
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        ?> 
        <table width="100%" border="1" bordercolor="#9c9a9a">
        <?php
        $where = '';
        if ($ID == '0') {
            //Abriendo BD cliente
            $this->load->model("modelo", "ID_cliente");
            $datas = $this->ID_cliente->getViviendaALL($where);
            ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Modelo</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Precio</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Metros de terreno</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Metros Construidos</strong>
                        </div>
                        <div class="col-md-4 col-xs-12"  align="center">
                            <strong style="color:#FFF">Ver archivo</strong>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($datas as $datas1) {
                ?>
                    <tr>
                        <td bgcolor="#707070">

                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $datas1->Modelo; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $datas1->Precio; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $datas1->Terreno; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $datas1->Contruccion; ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center"> 
                <?php
                $nombre = $datas1->ID;
                $files = get_filenames($this->folder12, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "-"));
                    if ($name == $nombre) {
                        if ($ext == 'pdf' || $ext == 'PDF') {
                            ?> 
                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/pdf.png" width="30" height="30" /></button>
                                            </div>
                        <?php
                        } else {
                            if ($ext == 'jpg' || $ext == 'png' || $ext == 'JPG' || $ext == 'PNG') {
                                ?> 
                                                <div class="col-md-12 col-xs-12" align="right"> 
                                                    <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/imagen.png" width="30" height="30" /></button>
                                                </div>
                            <?php
                            } else {
                                if ($ext == 'zip' || $ext == 'rar') {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/zip.png" width="30" height="30" /></button>
                                                    </div>
                                <?php } else {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                                    </div>
                                <?php }
                            }
                        }
                    }
                }
                ?>

                            </div>
                        </td>
                    </tr>
            <?php }
        } ?>




        <?php if ($ID != '0') {
            foreach ($datos as $Vivienda1) {
                ?>
                    <tr bgcolor="#c6d2cd">
                        <td>
                            <div class="col-md-12 col-xs-12" align="center">   
                <?php echo $Vivienda1->Modelo ?>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Precio: </strong>" . $Vivienda1->Precio . ", " ?>
                            </div>
                            <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Precio m2: </strong>" . $Vivienda1->PrecioM2 . ", " ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php echo "<strong>Metros de frente: </strong>" . $Vivienda1->MetrosF . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Metros de fondo: </strong>" . $Vivienda1->MetrosFondo . ", " ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Metros cuadrados de terreno: </strong>" . $Vivienda1->Terreno ?>
                <?php echo "</br>" ?>
                <?php echo "<strong>Metros cuadrados de construcción: </strong>" . $Vivienda1->Contruccion ?>
                <?php echo "</br>" ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Niveles: </strong>" . $Vivienda1->Niveles ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Recámaras: </strong>" . $Vivienda1->Recamaras ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Espacio p/Automovil: </strong>" . $Vivienda1->EspaciosAuto ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Baños: </strong>" . $Vivienda1->Banios ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php if ($Vivienda1->Vestidor) {
                    echo "<strong>- Vestidor</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->PatioServ) {
                    echo "<strong>- Patio de servicio</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Sala) {
                    echo "<strong>- Sala</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Comedor) {
                    echo "<strong>- Comedor</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->JardinTrasero) {
                    echo "<strong>- Jardín Trasero</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->CuartoLavado) {
                    echo "<strong>- Cuarto de lavado</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->SalaTV) {
                    echo "<strong>- Sala de TV</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Cocina) {
                    echo "<strong>- Cocina</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->JardinFrente) {
                    echo "<strong>- Jardín de frente</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Vestibulo) {
                    echo "<strong>- Vestíbulo</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Tendedero) {
                    echo "<strong>- Tendedero</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Bodega) {
                    echo "<strong>- Bodega</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Despensa) {
                    echo "<strong>- Despensa</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->VestidorTrastero) {
                    echo "<strong>- Vestidor trastero</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Desvan) {
                    echo "<strong>- Desván</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Despacho) {
                    echo "<strong>- Despacho</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Estudio) {
                    echo "<strong>- Estudio</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Biblioteca) {
                    echo "<strong>- Biblioteca</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->SalaJuegos) {
                    echo "<strong>- Sala de juegos</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->SalaFumadores) {
                    echo "<strong>- Sala de fumadores</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Sauna) {
                    echo "<strong>- Sauna</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Gimnasio) {
                    echo "<strong>- Gimnasio</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->CocinaInt) {
                    echo "<strong>- Cocina Integral</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Estufa) {
                    echo "<strong>- Estufa</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Muebles) {
                    echo "<strong>- Muebles</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Closets) {
                    echo "<strong>- Closets</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Lavadero) {
                    echo "<strong>- Lavadero</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Terrazas) {
                    echo "<strong>- Terrazas</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Porches) {
                    echo "<strong>- Porches</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Piscina) {
                    echo "<strong>- Piscina</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Pergola) {
                    echo "<strong>- Pérgola</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Invernadero) {
                    echo "<strong>- Invernadero</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->PistaJuego) {
                    echo "<strong>- Pista de juego</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->EspaciosDep) {
                    echo "<strong>- Espacio Deportivo</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                <?php if ($Vivienda1->Otras) {
                    echo "<strong>- Otras</strong>";
                    ?>
                    <?php echo "</br>";
                } ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Escaleras: </strong>" . $Vivienda1->Escaleras ?>
                            </div>
                            <div class="col-md-3 col-xs-12">
                <?php echo "<strong>Pasillos: </strong>" . $Vivienda1->Pasillos ?>
                            </div>
                            <div class="col-md-3 col-xs-12">

                            </div>
                            <div class="col-md-3 col-xs-12">

                            </div>
                        </td>
                    </tr>


                    <tr>
                        <td  bgcolor="#c6d2cd">
                            <div class="col-md-12 col-xs-12">
                                Expediente
                            </div>
                        </td>
                    </tr>
            <?php
            }
            foreach ($datosExp as $cliente1) {
                ?>    
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                <?php
                $respuesta = '-';
                foreach ($TDocumentos as $TDocumentos1) {
                    if ($TDocumentos1->id_tipo == $cliente1->TDocumento) {
                        $respuesta = $TDocumentos1->dsc_tipo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                <?php echo $cliente1->Observaciones; ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="right">      
                <?php
                $nombre = $cliente1->Nombre;
                $files = get_filenames($this->folder12, FALSE);
                foreach ($files as $file) {
                    $ext = substr($file, strpos($file, ".") + strlen("."));
                    $name = substr($file, 0, strpos($file, "."));
                    if ($name == $nombre) {
                        if ($ext == 'pdf' || $ext == 'PDF') {
                            ?> 
                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/pdf.png" width="30" height="30" /></button>
                                            </div>
                        <?php
                        } else {
                            if ($ext == 'jpg' || $ext == 'png' || $ext == 'JPG' || $ext == 'PNG') {
                                ?> 
                                                <div class="col-md-12 col-xs-12" align="right"> 
                                                    <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/imagen.png" width="30" height="30" /></button>
                                                </div>
                            <?php
                            } else {
                                if ($ext == 'zip' || $ext == 'rar') {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/zip.png" width="30" height="30" /></button>
                                                    </div>
                                <?php } else {
                                    ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/ViviendaExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                                    </div>
                                <?php }
                            }
                        }
                    }
                }
                ?>

                            </div>
                        </td>
                    </tr>

            <?php }
        } ?>
        </table>
        <?php
    }

    public function BorrarVivienda() {
        $where = '';
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Vivienda = $this->input->post('Vivienda');

        $datos = $this->datos->getBorrarVivienda(
                $Vivienda
        );
        $datas = $this->datos->getBorrarViviendaExpediente(
                $Vivienda
        );

        echo '<script>alert("Se ha borrado el registro de vivienda ")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Viviendas';
        $this->_renderView($data);
    }

//******************************************Fin de viviendas ******************************************************************************  









    public function Comercializacion() {
        $this->load->model("modelo", "datos");
        $COMID = $this->input->post('COMID');
        $indiceuser = $this->input->post('user');
        if ($COMID == 'COM_1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_11') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1_1';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_12') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1_2';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_13') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1_3';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_14') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1_4';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_15') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_1_5';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_2';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_21') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Modelo");
            $Modelo = $this->Modelo->getModeloV();
            $data['Modelo'] = $Modelo;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Prototipo");
            $Prototipo = $this->Prototipo->getPrototipo();
            $data['Prototipo'] = $Prototipo;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_2_1';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_22') {
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            $data['ComRef'] = $ComRef;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            $data['Medio'] = $Medio;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            // View render
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            $this->load->model("modelo", "Creditos");
            $Creditos = $this->Creditos->getCreditos();
            $data['Creditos'] = $Creditos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_2_2';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $data['scripts'] = array('cliente');
            //Abriendo BD Clientes
            $this->load->model("modelo", "Creditos");
            $Creditos = $this->Creditos->getCreditos();
            $data['Creditos'] = $Creditos;
            $data['contentView'] = 'Comerc_3_1';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_4') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_4';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_41') {
            $fecha = date("Y");
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD meses
            $this->load->model("modelo", "Meses");
            $Meses = $this->Meses->getMeses($where);
            $data['Meses'] = $Meses;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Pagos");
            $Pagos = $this->Pagos->getPagosxFecha($fecha);
            $data['Pagos'] = $Pagos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_4_1';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_42') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_4_2';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_5') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_5';
            $this->_renderView($data);
        }
        if ($COMID == 'COM_6') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Comerc_6';
            $this->_renderView($data);
        }
    }

    public function RevExpediente() {
        $this->load->model("modelo", "datos");
        $Cliente = $this->input->post('Cliente');
        $indiceuser = $this->input->post('user');
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Clientes
        $this->load->model("modelo", "Clientes");
        $Clientes = $this->Clientes->getClientesID($Cliente);
        $data['Clientes'] = $Clientes;
        //Abriendo BD Clientes
        $this->load->model("modelo", "Creditos");
        $Creditos = $this->Creditos->getCreditos();
        $data['Creditos'] = $Creditos;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_3_1';
        $this->_renderView($data);
    }

    public function RegistroCliente() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Proyectos = $this->input->post('Proyectos');
        $Ncliente = $this->input->post('Ncliente');
        $Referencia = $this->input->post('Referencia');
        $Medio = $this->input->post('Medio');
        $Calle = $this->input->post('Calle');
        $No = $this->input->post('No');
        $Colonia = $this->input->post('Colonia');
        $CP = $this->input->post('CP');
        $Pais = $this->input->post('Pais');
        $Estado = $this->input->post('Estado');
        $Ciudad = $this->input->post('Ciudad');
        $Telfijo = $this->input->post('Telfijo');
        $Tel = $this->input->post('Tel');
        $Correo = $this->input->post('Correo');
        $facebook = $this->input->post('facebook');
        $twitter = $this->input->post('twitter');
        $linkedin = $this->input->post('linkedin');
        $google = $this->input->post('google');
        $Genero = $this->input->post('Genero');
        $EdoCivil = $this->input->post('EdoCivil');
        $IFE = $this->input->post('IFE');
        $RFC = $this->input->post('RFC');
        $CURP = $this->input->post('CURP');
        $NSS = $this->input->post('NSS');
        $Escolaridad = $this->input->post('Escolaridad');
        $datos = $this->datos->getRegistroCliente(
                $Proyectos, $Ncliente, $Referencia, $Medio, $Calle, $No, $Colonia, $CP, $Pais, $Estado, $Ciudad, $Telfijo, $Tel, $Correo, $facebook, $twitter, $linkedin, $google, $Genero, $EdoCivil, $IFE, $RFC, $CURP, $NSS, $Escolaridad
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function ClienteTrabajo() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Ocupacion = $this->input->post('Ocupacion');
        $Trabajo = $this->input->post('Trabajo');
        $Registro = $this->input->post('Registro');
        $CalleT = $this->input->post('CalleT');
        $NoT = $this->input->post('NoT');
        $ColoniaT = $this->input->post('ColoniaT');
        $CPT = $this->input->post('CPT');
        $PaisT = $this->input->post('Pais');
        $EstadoT = $this->input->post('Estado');
        $CiudadT = $this->input->post('Ciudad');
        $TelFijoT = $this->input->post('TelFijoT');
        $TelT = $this->input->post('TelT');
        $CorreoT = $this->input->post('CorreoT');
        $datos = $this->datos->getClienteTrabajo(
                $Cliente, $Ocupacion, $Trabajo, $Registro, $CalleT, $NoT, $ColoniaT, $CPT, $PaisT, $EstadoT, $CiudadT, $TelFijoT, $TelT, $CorreoT
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function ClienteSocioEco() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Conyuge = $this->input->post('Conyuge');
        $Dependientes = $this->input->post('Dependientes');
        $Empleos = $this->input->post('Empleos');
        $IngresosM = $this->input->post('IngresosM');
        $CasaPropia = $this->input->post('CasaPropia');
        $ValorCasa = $this->input->post('ValorCasa');
        $Renta = $this->input->post('Renta');
        $MontoRenta = $this->input->post('MontoRenta');
        $AutoPropio = $this->input->post('AutoPropio');
        $NumAutos = $this->input->post('NumAutos');
        $Gastos = $this->input->post('Gastos');
        $Deudas = $this->input->post('Deudas');
        $MontoDeudas = $this->input->post('MontoDeudas');
        $AbonoMensual = $this->input->post('AbonoMensual');
        $datos = $this->datos->getClienteSocioEco(
                $Cliente, $Conyuge, $Dependientes, $Empleos, $IngresosM, $CasaPropia, $ValorCasa, $Renta, $MontoRenta, $AutoPropio, $NumAutos, $Gastos, $Deudas, $MontoDeudas, $AbonoMensual
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function ClienteReferencia() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Referencia1 = $this->input->post('Referencia1');
        $Profesion1 = $this->input->post('Profesion1');
        $Trabajo1 = $this->input->post('Trabajo1');
        $Tel1 = $this->input->post('Tel1');
        $Telm1 = $this->input->post('Telm1');
        $Correo1 = $this->input->post('Correo1');
        $Referencia2 = $this->input->post('Referencia2');
        $Profesion2 = $this->input->post('Profesion2');
        $Trabajo2 = $this->input->post('Trabajo2');
        $Tel2 = $this->input->post('Tel2');
        $Telm2 = $this->input->post('Telm2');
        $Correo2 = $this->input->post('Correo2');
        $datos = $this->datos->getClienteReferencia(
                $Cliente, $Referencia1, $Profesion1, $Trabajo1, $Tel1, $Telm1, $Correo1, $Referencia2, $Profesion2, $Trabajo2, $Tel2, $Telm2, $Correo2
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function ResultCliente() {
        $Cliente = $_POST["Cliente"];
        $where = '';
        //Abriendo BD Clientes
        $this->load->model("modelo", "Clientes");
        $Clientes = $this->Clientes->getClientesID($Cliente);
        //Abriendo BD Pais
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais($where);
        //Abriendo BD Estado
        $where = '';
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2($where);
        //Abriendo BD Ciudad
        $where = '';
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2($where);
        foreach ($Clientes as $Clientes1) {
            
        }
        ?>
        <div class="col-md-12 col-xs-12" style="background-color:#99A79A">
        <?php echo $Clientes1->Ncliente; ?>
        </div>

        <div class="col-md-12 col-xs-12">
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600">Sexo: </strong> <font color="#ff6600"><?php echo $Clientes1->Genero; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600">Estado civil: </strong><font color="#ff6600"><?php echo $Clientes1->EdoCivil; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
                <font style="color:#ff6600"><?php echo $Clientes1->Calle . " " . $Clientes1->No . " " . $Clientes1->Colonia . " " . $Clientes1->CP; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
        <?php
        $respuesta = '-';
        foreach ($d_Pais as $d_Pais1) {
            if ($d_Pais1->id_pais == $Clientes1->Pais) {
                $respuesta = $d_Pais1->dsc_pais;
            }
        }
        ?> <font style="color:#ff6600"><?php echo $respuesta . ", "; ?></font>
        <?php
        $respuesta = '-';
        foreach ($d_Estado as $d_Estado1) {
            if ($d_Estado1->id_estado == $Clientes1->Estado) {
                $respuesta = $d_Estado1->dsc_estado;
            }
        }
        ?> <font style="color:#ff6600"><?php echo $respuesta . ", "; ?></font>
        <?php
        $respuesta = '-';
        foreach ($d_Ciudad as $d_Ciudad1) {
            if ($d_Ciudad1->id_ciudad == $Clientes1->Ciudad) {
                $respuesta = $d_Ciudad1->dsc_ciudad;
            }
        }
        ?> <font style="color:#ff6600"><?php echo $respuesta; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
                <font style="color:#ff6600"><?php echo $Clientes1->Telfijo; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
                <font style="color:#ff6600"><?php echo $Clientes1->Tel; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
                <font style="color:#ff6600"><?php echo $Clientes1->Correo; ?></font>
            </div>
        </div>
        <div class="col-md-12 col-xs-12">
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Identificación personal: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->IFE; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "RFC: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->RFC; ?></font>
            </div>
        </div>

        <div class="col-md-12 col-xs-12">
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "CURP: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->CURP; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "NSS: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->NSS; ?></font>
            </div>
        </div>

        <div class="col-md-12 col-xs-12">
            <div class="col-md-12 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Estudios: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->Escolaridad; ?></font>
            </div>    
        </div>

        <div class="col-md-12 col-xs-12">
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Facebook: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->facebook; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Twitter: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->twitter; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Linkedin: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->linkedin; ?></font>
            </div>
            <div class="col-md-6 col-xs-12">
                <strong style="color:#ff6600"><?php echo "Google: " ?></strong><font style="color:#ff6600"><?php echo $Clientes1->google; ?></font>
            </div>
        </div>

        <div class="col-md-12 col-xs-12" >
            </br>
        </div>

        <div class="col-md-12 col-xs-12" style="background-color:#99A79A">
            <hr color="#99A79A"/>
        </div>
        <?php
    }

    public function RegistroVivi() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Desarrollo = $this->input->post('Ndesarrollo');
        $Vivienda = $this->input->post('Vivienda');
        $Prototipo = $this->input->post('Prototipo');
        $Lote = $this->input->post('Lote');
        $Esquina = $this->input->post('Esquina');
        $Excedente = $this->input->post('Excedente');
        $Nvivienda = $this->input->post('Nvivienda');
        $Manzana = $this->input->post('Manzana');
        $NCalle = $this->input->post('NCalle');
        $Sexcedente = $this->input->post('Sexcedente');
        $Pexcedente = $this->input->post('Pexcedente');
        $Pvivienda = $this->input->post('Pvivienda');
        $Capartado = $this->input->post('Capartado');
        $Fapartado = $this->input->post('Fapartado');
        $Referencia = $this->input->post('Referencia');
        $Fechaapartado = $this->input->post('Fechaapartado');
        $Clientapartado = $this->input->post('Clientapartado');
        $Equipamiento = $this->input->post('Equipamiento');
        $PEquipamiento = $this->input->post('PEquipamiento');
        $Papartado = $this->input->post('Papartado');
        $FtCredito = $this->input->post('FtCredito');
        $datos = $this->datos->getRegistroVivi(
                $Cliente, $Desarrollo, $Vivienda, $Prototipo, $Lote, $Esquina, $Excedente, $Nvivienda, $Manzana, $NCalle, $Sexcedente, $Pexcedente, $Pvivienda, $Capartado, $Fapartado, $Referencia, $Fechaapartado, $Clientapartado, $Equipamiento, $PEquipamiento, $Papartado, $FtCredito
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc';
        $this->_renderView($data);
    }

    public function RevCompraVenta() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Cofinanciado = $this->input->post('Cofinanciado');
        $CreditoA = $this->input->post('CreditoA');
        $CreditoB = $this->input->post('CreditoB');
        $Scredito = $this->input->post('Scredito');
        $Anticipo = $this->input->post('Anticipo');
        $Pventa = $this->input->post('Pventa');
        $Gavaluo = $this->input->post('Gavaluo');
        $Gmunicipales = $this->input->post('Gmunicipales');
        $Descuento = $this->input->post('Descuento');
        $CostoT = $this->input->post('CostoT');
        $SaldoF = $this->input->post('SaldoF');
        $Madeudo = $this->input->post('Madeudo');
        $FPagoadeudo = $this->input->post('FPagoadeudo');
        $Msobrante = $this->input->post('Msobrante');
        $Fpagosobrante = $this->input->post('Fpagosobrante');
        $FirmaNP = $this->input->post('FirmaNP');
        $FechaFNP = $this->input->post('FechaFNP');
        $NP = $this->input->post('NP');
        $NNP = $this->input->post('NNP');
        $PartidoNP = $this->input->post('PartidoNP');
        $NumeralRegistral = $this->input->post('NumeralRegistral');
        $FechaEntrega = $this->input->post('FechaEntrega');
        $Observaciones = $this->input->post('Observaciones');
        $VendidaX = $this->input->post('VendidaX');
        $datos = $this->datos->getRevCompraVenta(
                $Cliente, $Cofinanciado, $CreditoA, $CreditoB, $Scredito, $Anticipo, $Pventa, $Gavaluo, $Gmunicipales, $Descuento, $CostoT, $SaldoF, $Madeudo, $FPagoadeudo, $Msobrante, $Fpagosobrante, $FirmaNP, $FechaFNP, $NP, $NNP, $PartidoNP, $NumeralRegistral, $FechaEntrega, $Observaciones, $VendidaX
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc';
        $this->_renderView($data);
    }

    public function RegistroExped() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Frevision = $this->input->post('Frevision');
        $Fadquirir = $this->input->post('Fadquirir');
        $Creditos = $this->input->post('Creditos');
        $Enganche = $this->input->post('Enganche');
        $Mcredito = $this->input->post('Mcredito');
        $Fsolicitudcredito = $this->input->post('Fsolicitudcredito');
        $Promesa = $this->input->post('Promesa');
        $TPromesa = $this->input->post('TPromesa');
        $Comprobante = $this->input->post('Comprobante');
        $TComprobante = $this->input->post('TComprobante');
        $Acta = $this->input->post('Acta');
        $TActa = $this->input->post('TActa');
        $CCURP = $this->input->post('CCURP');
        $Tcurp = $this->input->post('Tcurp');
        $INE = $this->input->post('INE');
        $Tine = $this->input->post('Tine');
        $EdoCuenta = $this->input->post('EdoCuenta');
        $TEdoCuenta = $this->input->post('TEdoCuenta');
        $Recibos = $this->input->post('Recibos');
        $TRecibos = $this->input->post('TRecibos');
        $Cnomina = $this->input->post('Cnomina');
        $TCnomina = $this->input->post('TCnomina');
        $Declaraciones = $this->input->post('Declaraciones');
        $TDeclaraciones = $this->input->post('TDeclaraciones');
        $Reporte = $this->input->post('Reporte');
        $TReporte = $this->input->post('TReporte');
        $Solicitud = $this->input->post('Solicitud');
        $TSolicitud = $this->input->post('TSolicitud');
        $Otros2 = $this->input->post('Otros2');
        $TOtros2 = $this->input->post('TOtros2');
        $Precalificacion = $this->input->post('Precalificacion');
        $TPrecalificacion = $this->input->post('TPrecalificacion');
        $Contrato = $this->input->post('Contrato');
        $TContrato = $this->input->post('TContrato');
        $Cartalaboral = $this->input->post('Cartalaboral');
        $TCartalaboral = $this->input->post('TCartalaboral');
        $SorteoBIM = $this->input->post('SorteoBIM');
        $TSorteoBIM = $this->input->post('TSorteoBIM');
        $FormatoBIM = $this->input->post('FormatoBIM');
        $TFormatoBIM = $this->input->post('TFormatoBIM');
        $AutorizacionBIM = $this->input->post('AutorizacionBIM');
        $TAutorizacionBIM = $this->input->post('TAutorizacionBIM');
        $FormatoBendit = $this->input->post('FormatoBendit');
        $TFormatoBendit = $this->input->post('TFormatoBendit');
        $AvisosPriv = $this->input->post('AvisosPriv');
        $TAvisosPriv = $this->input->post('TAvisosPriv');
        $FormatoInicio = $this->input->post('FormatoInicio');
        $TFormatoInicio = $this->input->post('TFormatoInicio');
        $Constancia = $this->input->post('Constancia');
        $TConstancia = $this->input->post('TConstancia');
        $ActaNacA = $this->input->post('ActaNacA');
        $TActaNacA = $this->input->post('TActaNacA');
        $ActaNacB = $this->input->post('ActaNacB');
        $TActaNacB = $this->input->post('TActaNacB');
        $ActaMatrimonio = $this->input->post('ActaMatrimonio');
        $TActaMatrimonio = $this->input->post('TActaMatrimonio');
        $RFCA = $this->input->post('RFCA');
        $TRFCA = $this->input->post('TRFCA');
        $RFCB = $this->input->post('RFCB');
        $TRFCB = $this->input->post('TRFCB');
        $CopiaIdenta = $this->input->post('CopiaIdenta');
        $TCopiaIdenta = $this->input->post('TCopiaIdenta');
        $CopiaIdentb = $this->input->post('CopiaIdentb');
        $TCopiaIdentb = $this->input->post('TCopiaIdentb');
        $CURPA = $this->input->post('CURPA');
        $TCURPA = $this->input->post('TCURPA');
        $CURPB = $this->input->post('CURPB');
        $TCURPB = $this->input->post('TCURPB');
        $CuentaMtra = $this->input->post('CuentaMtra');
        $TCuentaMtra = $this->input->post('TCuentaMtra');
        $CLABE = $this->input->post('CLABE');
        $TCLABE = $this->input->post('TCLABE');
        $Acta2 = $this->input->post('Acta2');
        $Tacta2 = $this->input->post('Tacta2');
        $Declaracion = $this->input->post('Declaracion');
        $TDeclaracion = $this->input->post('TDeclaracion');
        $Plano = $this->input->post('Plano');
        $TPlano = $this->input->post('TPlano');
        $Sembrado = $this->input->post('Sembrado');
        $TSembrado = $this->input->post('TSembrado');
        $Certificado = $this->input->post('Certificado');
        $TCertificado = $this->input->post('TCertificado');
        $Pago = $this->input->post('Pago');
        $TPago = $this->input->post('TPago');
        $CopiaEscrituras = $this->input->post('CopiaEscrituras');
        $TCopiaEscrituras = $this->input->post('TCopiaEscrituras');
        $Condominio = $this->input->post('Condominio');
        $TCondominio = $this->input->post('TCondominio');
        $Construccion = $this->input->post('Construccion');
        $TConstruccion = $this->input->post('TConstruccion');
        $Obra = $this->input->post('Obra');
        $TObra = $this->input->post('TObra');
        $Alineamiento = $this->input->post('Alineamiento');
        $TAlineamiento = $this->input->post('TAlineamiento');
        $Refrendo = $this->input->post('Refrendo');
        $TRefrendo = $this->input->post('TRefrendo');
        $Anexos = $this->input->post('Anexos');
        $TAnexos = $this->input->post('TAnexos');
        $datos = $this->datos->getRegistroExped(
                $Cliente, $Frevision, $Fadquirir, $Creditos, $Enganche, $Mcredito, $Fsolicitudcredito, $Promesa, $TPromesa, $Comprobante, $TComprobante, $Acta, $TActa, $CCURP, $Tcurp, $INE, $Tine, $EdoCuenta, $TEdoCuenta, $Recibos, $TRecibos, $Cnomina, $TCnomina, $Declaraciones, $TDeclaraciones, $Reporte, $TReporte, $Solicitud, $TSolicitud, $Otros2, $TOtros2, $Precalificacion, $TPrecalificacion, $Contrato, $TContrato, $Cartalaboral, $TCartalaboral, $SorteoBIM, $TSorteoBIM, $FormatoBIM, $TFormatoBIM, $AutorizacionBIM, $TAutorizacionBIM, $FormatoBendit, $TFormatoBendit, $AvisosPriv, $TAvisosPriv, $FormatoInicio, $TFormatoInicio, $Constancia, $TConstancia, $ActaNacA, $TActaNacA, $ActaNacB, $TActaNacB, $ActaMatrimonio, $TActaMatrimonio, $RFCA, $TRFCA, $RFCB, $TRFCB, $CopiaIdenta, $TCopiaIdenta, $CopiaIdentb, $TCopiaIdentb, $CURPA, $TCURPA, $CURPB, $TCURPB, $CuentaMtra, $TCuentaMtra, $CLABE, $TCLABE, $Acta2, $Tacta2, $Declaracion, $TDeclaracion, $Plano, $TPlano, $Sembrado, $TSembrado, $Certificado, $TCertificado, $Pago, $TPago, $CopiaEscrituras, $TCopiaEscrituras, $Condominio, $TCondominio, $Construccion, $TConstruccion, $Obra, $TObra, $Alineamiento, $TAlineamiento, $Refrendo, $TRefrendo, $Anexos, $TAnexos
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function RegistroPagos() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $Anio = $this->input->post('Anio');
        $Mensualidad = $this->input->post('Mensualidad');
        $Monto = $this->input->post('Monto');
        $FPago = $this->input->post('FPago');
        $InstitBancaria = $this->input->post('InstitBancaria');
        $Ncuenta = $this->input->post('Ncuenta');
        $RefePago = $this->input->post('RefePago');
        $FePago = $this->input->post('FePago');
        $NPago = $this->input->post('NPago');
        $Saldo = $this->input->post('Saldo');
        $datos = $this->datos->getRegistroPagos(
                $Cliente, $Anio, $Mensualidad, $Monto, $FPago, $InstitBancaria, $Ncuenta, $RefePago, $FePago, $NPago, $Saldo
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function RegistroCancelacion() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Cliente = $this->input->post('Cliente');
        $FCancelacion = $this->input->post('FCancelacion');
        $Ncancela = $this->input->post('Ncancela');
        $MotivoCancela = $this->input->post('MotivoCancela');
        $Firma = $this->input->post('Firma');
        $datos = $this->datos->getRegistroCancelacion(
                $Cliente, $FCancelacion, $Ncancela, $MotivoCancela, $Firma
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Comerc_1';
        $this->_renderView($data);
    }

    public function HistoricoM() {
        $fecha = $_POST["Anio"];
        $Cliente = $_POST["Cliente"];
        $where = '';
        //Abriendo BD Clientes
        $this->load->model("modelo", "Pagos");
        $Pagos = $this->Pagos->getPagosxFecha($fecha);

        $Enero = "-";
        $Febrero = "-";
        $Marzo = "-";
        $Abril = "-";
        $Mayo = "-";
        $Junio = "-";
        $Julio = "-";
        $Agosto = "-";
        $Septiembre = "-";
        $Octubre = "-";
        $Noviembre = "-";
        $Diciembre = "-";

        foreach ($Pagos as $Pagos1) {
            $mes = $Pagos1->Mensualidad;
            if ($Pagos1->Anio == $fecha && $Pagos1->Folio == $Cliente) {
                if ($mes == 1) {
                    $Enero = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 2) {
                    $Febrero = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 3) {
                    $Marzo = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 4) {
                    $Abril = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 5) {
                    $Mayo = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 6) {
                    $Junio = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 7) {
                    $Julio = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 8) {
                    $Agosto = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 9) {
                    $Septiembre = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 10) {
                    $Octubre = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 11) {
                    $Noviembre = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }

                if ($mes == 12) {
                    $Diciembre = $Pagos1->Monto . " (" . $Pagos1->Anio . ")";
                }
            }
        }
        ?>
        <table>
            <tr>
                <td>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Enero	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Febrero
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input  class="form-control" name="Enero" id="Enero" value="<?php echo $Enero; ?>" disabled=true>  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input  class="form-control" name="Febrero" id="Febrero" value="<?php echo $Febrero; ?>"  disabled=true>
                        </div>    		  
                    </div>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Marzo	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Abril
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input  class="form-control" name="Marzo" id="Marzo" value="<?php echo $Marzo; ?>"  disabled=true>	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Abril" id="Abril" value="<?php echo $Abril; ?>"  disabled=true>
                        </div>    		  
                    </div>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Mayo	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Junio
                        </div> 
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Mayo" id="Mayo" value="<?php echo $Mayo; ?>"  disabled=true>	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Junio" id="Junio" value="<?php echo $Junio; ?>"  disabled=true>
                        </div>  		  
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Julio	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Agosto
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Julio" id="Julio" value="<?php echo $Julio; ?>"  disabled=true> 	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Agosto" id="Agosto" value="<?php echo $Agosto; ?>"  disabled=true>
                        </div>    		  
                    </div>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Septiembre	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Octubre
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Septiembre" id="Septiembre" value="<?php echo $Septiembre; ?>"  disabled=true>  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Octubre" id="Octubre" value="<?php echo $Octubre; ?>"  disabled=true>
                        </div>    		  
                    </div>
                    <div class="col-md-4 col-xs-12">	  
                        <div class="col-md-6 col-xs-6" align="center">
                            Noviembre	  	
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            Diciembre
                        </div> 
                        <div class="col-md-6 col-xs-6" align="center">
                            <input  class="form-control" name="Noviembre" id="Noviembre" value="<?php echo $Noviembre; ?>"  disabled=true>
                        </div>
                        <div class="col-md-6 col-xs-6" align="center">
                            <input class="form-control" name="Diciembre" id="Diciembre" value="<?php echo $Diciembre; ?>"  disabled=true>
                        </div>  		  
                    </div>
                </td>
            </tr> 
        </table>
                        <?php
                    }

                    public function ReporteExpCliente() {
                        $Cliente = $this->input->post('Cliente');

                        if ($Cliente == '0') {
                            //Abriendo BD Clientes
                            $this->load->model("modelo", "Informacion");
                            $Informacion = $this->Informacion->getInfoClientes();
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ComRef");
                            $ComRef = $this->ComRef->getComRef();
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Medio");
                            $Medio = $this->Medio->getMedio();
                            //Abriendo BD Pais
                            $this->load->model("modelo", "Pais");
                            $d_Pais = $this->Pais->getPais();
                            //Abriendo BD Estado
                            $this->load->model("modelo", "Estado");
                            $d_Estado = $this->Estado->getEstado2();
                            //Abriendo BD Ciudad
                            $this->load->model("modelo", "Ciudad");
                            $d_Ciudad = $this->Ciudad->getCiudad2();

                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosAll();
                            //Abriendo BD Clientes
                            $this->load->model("modelo", "Clientes");
                            $Clientes = $this->Clientes->getClientesAll();
                            $data['Clientes'] = $Clientes;
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
                            $data['USUARIOS'] = $USUARIOS;
                            ?>    
            <table width="100%">    
                <tr>
                    <td bgcolor="#edca25">
                        <div class="col-md-4 col-xs-12" align="center">
                            Nombre del Cliente
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Persona que lo refiere
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Medio por el que se enteró
                        </div>
                    </td>
                </tr>
                            <?php foreach ($Informacion as $Informacion1) { ?>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12" align="center">
                                <?php echo $Informacion1->Ncliente; ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center">
                                <?php
                                $respuesta = '-';
                                foreach ($ComRef as $ComRef1) {
                                    if ($ComRef1->id_medios == $Informacion1->Referencia) {
                                        $respuesta = $ComRef1->dsc_medios;
                                    }
                                }
                                echo $respuesta;
                                ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center">
                                <?php $Informacion1->Medio ?>
                                <?php
                                $respuesta = '-';
                                foreach ($Medio as $Medio1) {
                                    if ($Medio1->id_referencia == $Informacion1->Medio) {
                                        $respuesta = $Medio1->dsc_referencia;
                                    }
                                }
                                echo $respuesta;
                                ?>
                            </div>
                        </td>
                    </tr>
                            <?php } ?>
            </table>
                            <?php
                        }
                        if ($Cliente != '0') {
                            //Abriendo BD Clientes
                            $this->load->model("modelo", "Informacion");
                            $Informacion = $this->Informacion->getInfoCliente($Cliente);
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ComRef");
                            $ComRef = $this->ComRef->getComRef();
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Medio");
                            $Medio = $this->Medio->getMedio();
                            //Abriendo BD Pais
                            $this->load->model("modelo", "Pais");
                            $d_Pais = $this->Pais->getPais();
                            //Abriendo BD Estado
                            $this->load->model("modelo", "Estado");
                            $d_Estado = $this->Estado->getEstado2();
                            //Abriendo BD Ciudad
                            $this->load->model("modelo", "Ciudad");
                            $d_Ciudad = $this->Ciudad->getCiudad2();
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosAll();
                            ?>    
            <table width="100%" border="1">    
                            <?php foreach ($Informacion as $Informacion1) { ?>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12" align="center" style="background-color:#edca25">
                                <?php echo $Informacion1->Ncliente ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>DOMICILIO: </strong>
                <?php echo $Informacion1->Calle . " " . $Informacion1->No . " " . $Informacion1->Colonia . " " . $Informacion1->CP ?>
                            </div>

                            <div class="col-md-6 col-xs-12" >    
                                <?php
                                $RespC = '-';
                                foreach ($d_Ciudad as $temp1) {
                                    if ($temp1->id_ciudad == $Informacion1->Ciudad) {
                                        $RespC = $temp1->dsc_ciudad;
                                    }
                                }
                                ?>
                <?php
                $RespE = '-';
                foreach ($d_Estado as $temp2) {
                    if ($temp2->id_estado == $Informacion1->Estado) {
                        $RespE = $temp2->dsc_estado;
                    }
                }
                ?>
                <?php
                $RespP = '-';
                foreach ($d_Pais as $temp3) {
                    if ($temp3->id_pais == $Informacion1->Pais) {
                        $RespP = $temp3->dsc_pais;
                    }
                }
                ?>
                    <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO FIJO: </strong>
                                <?php echo $Informacion1->Telfijo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO MOVIL: </strong>
                <?php echo $Informacion1->Tel ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                                <?php echo $Informacion1->Correo ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                                <?php if (!empty($Informacion1->facebook)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>FACEBOOK: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                                    <?php echo $Informacion1->facebook ?>
                                    </div>
                                </div>
                                <?php } ?>
                <?php if (!empty($Informacion1->twitter)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>TWITTER: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->twitter ?>
                                    </div>
                                </div>
                                <?php } ?>
                                <?php if (!empty($Informacion1->linkedin)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>LINKEDIN: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->linkedin ?>
                                    </div>
                                </div>
                <?php } ?>
                    <?php if (!empty($Informacion1->google)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>GOOGLE: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->google ?>
                                    </div>
                                </div>
                <?php } ?>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE IDENTIFICACIÓN
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>GÉNERO: </strong>
                <?php echo $Informacion1->Genero ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>ESTADO CIVIL: </strong>
                <?php echo $Informacion1->EdoCivil ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>IDENTIFICACIÓN: </strong>
                <?php echo $Informacion1->IFE ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>RFC: </strong>
                <?php echo $Informacion1->RFC ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CURP: </strong>
                <?php echo $Informacion1->CURP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO SS: </strong>
                <?php echo $Informacion1->NSS ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>NIVEL DE ESTUDIOS: </strong>
                <?php echo $Informacion1->Escolaridad ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE COMERCIALIZACIÓN
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>DESARROLLO: </strong>
                <?php
                $respuesta = '-';
                foreach ($Proyectos as $Proyectos1) {
                    if ($Proyectos1->ID == $Informacion1->Proyectos) {
                        $respuesta = $Proyectos1->Proyecto;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>RECOMENDÓ: </strong>
                <?php
                $respuesta = '-';
                foreach ($ComRef as $ComRef1) {
                    if ($ComRef1->id_medios == $Informacion1->Referencia) {
                        $respuesta = $ComRef1->dsc_medios;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>SE ENTERÓ POR: </strong>
                <?php
                $respuesta = '-';
                foreach ($Medio as $Medio1) {
                    if ($Medio1->id_referencia == $Informacion1->Medio) {
                        $respuesta = $Medio1->dsc_referencia;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>  
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE LABORALES
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>OCUPACIÓN: </strong>
                <?php echo $Informacion1->Ocupacion ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJO: </strong>
                <?php echo $Informacion1->Trabajo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>REGISTRO: </strong>
                <?php echo $Informacion1->Registro ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>DOMICILIO: </strong>
                <?php echo $Informacion1->CalleT . " " . $Informacion1->NoT . " " . $Informacion1->ColoniaT . " " . $Informacion1->CPT ?>
                            </div>

                            <div class="col-md-6 col-xs-12" >    
                <?php
                $RespC = '-';
                foreach ($d_Ciudad as $temp1) {
                    if ($temp1->id_ciudad == $Informacion1->CiudadT) {
                        $RespC = $temp1->dsc_ciudad;
                    }
                }
                ?>
                <?php
                $RespE = '-';
                foreach ($d_Estado as $temp2) {
                    if ($temp2->id_estado == $Informacion1->EstadoT) {
                        $RespE = $temp2->dsc_estado;
                    }
                }
                ?>
                <?php
                $RespP = '-';
                foreach ($d_Pais as $temp3) {
                    if ($temp3->id_pais == $Informacion1->PaisT) {
                        $RespP = $temp3->dsc_pais;
                    }
                }
                ?>
                <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO FIJO: </strong>
                <?php echo $Informacion1->TelFijoT ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO MOVIL: </strong>
                <?php echo $Informacion1->TelT ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->CorreoT ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE SOCIOECONÓMICOS
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>DEPENDIENTES: </strong>
                <?php echo $Informacion1->Conyuge ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>VIVE CON: </strong>
                <?php echo $Informacion1->Dependientes ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>CUENTA CON MÁS DE DOS EMPLEOS: </strong>
                <?php echo $Informacion1->Empleos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>INGRESOS MENSUALES: </strong>
                <?php echo $Informacion1->IngresosM ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿CASA PROPIA?: </strong>
                <?php echo $Informacion1->CasaPropia ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>VALOR DE LA CASA: </strong>
                <?php echo $Informacion1->ValorCasa ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿RENTA?: </strong>
                <?php echo $Informacion1->Renta ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE LA RENTA: </strong>
                <?php echo $Informacion1->MontoRenta ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿AUTO PROPIO?: </strong>
                <?php echo $Informacion1->AutoPropio ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO DE AUTOS: </strong>
                <?php echo $Informacion1->NumAutos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>GASTOS MENSUALES: </strong>
                <?php echo $Informacion1->Gastos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿TIENE DEUDAS?: </strong>
                <?php echo $Informacion1->Deudas ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE LA DEUDA: </strong>
                <?php echo $Informacion1->MontoDeudas ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-8 col-xs-12">
                                <strong>ABONO MENSUAL A LA DEUDA: </strong>
                <?php echo $Informacion1->AbonoMensual ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                PRIMER REFERENCIA
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo $Informacion1->Referencia1 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PROFESIÓN: </strong>
                <?php echo $Informacion1->Profesion1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJA: </strong>
                <?php echo $Informacion1->Trabajo1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. CASA: </strong>
                <?php echo $Informacion1->Tel1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. MOVIL: </strong>
                <?php echo $Informacion1->Telm1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->Correo1 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                SEGUNDA REFERENCIA
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo $Informacion1->Referencia2 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PROFESIÓN: </strong>
                <?php echo $Informacion1->Profesion2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJA: </strong>
                <?php echo $Informacion1->Trabajo2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. CASA: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. MOVIL: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->Correo2 ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>
            </table>
            <?php
        }
    }

    public function ReporteExpClienteALL() {
        $Cliente = $this->input->post('Cliente');

        if ($Cliente == '0') {
            //Abriendo BD Clientes
            $this->load->model("modelo", "Informacion");
            $Informacion = $this->Informacion->getInfoClientes();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            //Abriendo BD Pais
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais();
            //Abriendo BD Estado
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2();
            //Abriendo BD Ciudad
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2();

            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            //Abriendo BD Clientes
            $this->load->model("modelo", "Clientes");
            $Clientes = $this->Clientes->getClientesAll();
            $data['Clientes'] = $Clientes;
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
            ?>    
            <table width="100%">    
                <tr>
                    <td bgcolor="#edca25">
                        <div class="col-md-4 col-xs-12" align="center">
                            Nombre del Cliente
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Persona que lo refiere
                        </div>
                        <div class="col-md-4 col-xs-12" align="center">
                            Medio por el que se enteró
                        </div>
                    </td>
                </tr>
            <?php foreach ($Informacion as $Informacion1) { ?>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12" align="center">
                <?php echo $Informacion1->Ncliente; ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center">
                <?php
                $respuesta = '-';
                foreach ($ComRef as $ComRef1) {
                    if ($ComRef1->id_medios == $Informacion1->Referencia) {
                        $respuesta = $ComRef1->dsc_medios;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12" align="center">
                <?php $Informacion1->Medio ?>
                <?php
                $respuesta = '-';
                foreach ($Medio as $Medio1) {
                    if ($Medio1->id_referencia == $Informacion1->Medio) {
                        $respuesta = $Medio1->dsc_referencia;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>
            <?php } ?>
            </table>
            <?php
        }
        if ($Cliente != '0') {
            //Abriendo BD Clientes
            $this->load->model("modelo", "Informacion");
            $Informacion = $this->Informacion->getInfoCliente($Cliente);
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ComRef");
            $ComRef = $this->ComRef->getComRef();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Medio");
            $Medio = $this->Medio->getMedio();
            //Abriendo BD Pais
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais();
            //Abriendo BD Estado
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2();
            //Abriendo BD Ciudad
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "ExpCliente");
            $ExpCliente = $this->ExpCliente->getExpCliente($Cliente);
            //Abriendo BD Proyectos
            $this->load->model("modelo", "PagosCliente");
            $PagosCliente = $this->PagosCliente->getPagosCliente($Cliente);
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Viviendas");
            $Viviendas = $this->Viviendas->getViviendaALL();
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Prototipos");
            $Prototipos = $this->Prototipos->getPrototipo();
            ?>    
            <table width="100%" border="1">    
            <?php foreach ($Informacion as $Informacion1) { ?>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12" align="center" style="background-color:#edca25">
                <?php echo $Informacion1->Ncliente ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>DOMICILIO: </strong>
                <?php echo $Informacion1->Calle . " " . $Informacion1->No . " " . $Informacion1->Colonia . " " . $Informacion1->CP ?>
                            </div>

                            <div class="col-md-6 col-xs-12" >    
                <?php
                $RespC = '-';
                foreach ($d_Ciudad as $temp1) {
                    if ($temp1->id_ciudad == $Informacion1->Ciudad) {
                        $RespC = $temp1->dsc_ciudad;
                    }
                }
                ?>
                <?php
                $RespE = '-';
                foreach ($d_Estado as $temp2) {
                    if ($temp2->id_estado == $Informacion1->Estado) {
                        $RespE = $temp2->dsc_estado;
                    }
                }
                ?>
                <?php
                $RespP = '-';
                foreach ($d_Pais as $temp3) {
                    if ($temp3->id_pais == $Informacion1->Pais) {
                        $RespP = $temp3->dsc_pais;
                    }
                }
                ?>
                <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO FIJO: </strong>
                <?php echo $Informacion1->Telfijo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO MOVIL: </strong>
                <?php echo $Informacion1->Tel ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->Correo ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                <?php if (!empty($Informacion1->facebook)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>FACEBOOK: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->facebook ?>
                                    </div>
                                </div>
                <?php } ?>
                <?php if (!empty($Informacion1->twitter)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>TWITTER: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->twitter ?>
                                    </div>
                                </div>
                <?php } ?>
                <?php if (!empty($Informacion1->linkedin)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>LINKEDIN: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->linkedin ?>
                                    </div>
                                </div>
                <?php } ?>
                <?php if (!empty($Informacion1->google)) { ?>
                                <div class="col-md-3 col-xs-12">
                                    <div class="col-md-12 col-xs-12">
                                        <strong>GOOGLE: </strong>
                                    </div>
                                    <div class="col-md-12 col-xs-12">
                    <?php echo $Informacion1->google ?>
                                    </div>
                                </div>
                <?php } ?>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE IDENTIFICACIÓN
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>GÉNERO: </strong>
                <?php echo $Informacion1->Genero ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>ESTADO CIVIL: </strong>
                <?php echo $Informacion1->EdoCivil ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>IDENTIFICACIÓN: </strong>
                <?php echo $Informacion1->IFE ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>RFC: </strong>
                <?php echo $Informacion1->RFC ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CURP: </strong>
                <?php echo $Informacion1->CURP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO SS: </strong>
                <?php echo $Informacion1->NSS ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>NIVEL DE ESTUDIOS: </strong>
                <?php echo $Informacion1->Escolaridad ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE COMERCIALIZACIÓN
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>DESARROLLO: </strong>
                <?php
                $respuesta = '-';
                foreach ($Proyectos as $Proyectos1) {
                    if ($Proyectos1->ID == $Informacion1->Proyectos) {
                        $respuesta = $Proyectos1->Proyecto;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>RECOMENDÓ: </strong>
                <?php
                $respuesta = '-';
                foreach ($ComRef as $ComRef1) {
                    if ($ComRef1->id_medios == $Informacion1->Referencia) {
                        $respuesta = $ComRef1->dsc_medios;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>SE ENTERÓ POR: </strong>
                <?php
                $respuesta = '-';
                foreach ($Medio as $Medio1) {
                    if ($Medio1->id_referencia == $Informacion1->Medio) {
                        $respuesta = $Medio1->dsc_referencia;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>  
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE LABORALES
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>OCUPACIÓN: </strong>
                <?php echo $Informacion1->Ocupacion ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJO: </strong>
                <?php echo $Informacion1->Trabajo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>REGISTRO: </strong>
                <?php echo $Informacion1->Registro ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>DOMICILIO: </strong>
                <?php echo $Informacion1->CalleT . " " . $Informacion1->NoT . " " . $Informacion1->ColoniaT . " " . $Informacion1->CPT ?>
                            </div>

                            <div class="col-md-6 col-xs-12" >    
                <?php
                $RespC = '-';
                foreach ($d_Ciudad as $temp1) {
                    if ($temp1->id_ciudad == $Informacion1->CiudadT) {
                        $RespC = $temp1->dsc_ciudad;
                    }
                }
                ?>
                <?php
                $RespE = '-';
                foreach ($d_Estado as $temp2) {
                    if ($temp2->id_estado == $Informacion1->EstadoT) {
                        $RespE = $temp2->dsc_estado;
                    }
                }
                ?>
                <?php
                $RespP = '-';
                foreach ($d_Pais as $temp3) {
                    if ($temp3->id_pais == $Informacion1->PaisT) {
                        $RespP = $temp3->dsc_pais;
                    }
                }
                ?>
                    <?php echo $RespC . ', ' . $RespE . ', ' . $RespP; ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO FIJO: </strong>
                <?php echo $Informacion1->TelFijoT ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TELÉFONO MOVIL: </strong>
                <?php echo $Informacion1->TelT ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->CorreoT ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS DE SOCIOECONÓMICOS
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>DEPENDIENTES: </strong>
                        <?php echo $Informacion1->Conyuge ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>VIVE CON: </strong>
                        <?php echo $Informacion1->Dependientes ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>CUENTA CON MÁS DE DOS EMPLEOS: </strong>
                <?php echo $Informacion1->Empleos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>INGRESOS MENSUALES: </strong>
                <?php echo $Informacion1->IngresosM ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr>  
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿CASA PROPIA?: </strong>
                <?php echo $Informacion1->CasaPropia ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>VALOR DE LA CASA: </strong>
                <?php echo $Informacion1->ValorCasa ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿RENTA?: </strong>
                <?php echo $Informacion1->Renta ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE LA RENTA: </strong>
                <?php echo $Informacion1->MontoRenta ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿AUTO PROPIO?: </strong>
                <?php echo $Informacion1->AutoPropio ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO DE AUTOS: </strong>
                <?php echo $Informacion1->NumAutos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>GASTOS MENSUALES: </strong>
                <?php echo $Informacion1->Gastos ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>¿TIENE DEUDAS?: </strong>
                <?php echo $Informacion1->Deudas ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE LA DEUDA: </strong>
                <?php echo $Informacion1->MontoDeudas ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-8 col-xs-12">
                                <strong>ABONO MENSUAL A LA DEUDA: </strong>
                <?php echo $Informacion1->AbonoMensual ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                PRIMER REFERENCIA
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo $Informacion1->Referencia1 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PROFESIÓN: </strong>
                <?php echo $Informacion1->Profesion1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJA: </strong>
                <?php echo $Informacion1->Trabajo1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. CASA: </strong>
                <?php echo $Informacion1->Tel1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. MOVIL: </strong>
                <?php echo $Informacion1->Telm1 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->Correo1 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                SEGUNDA REFERENCIA
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                <?php echo $Informacion1->Referencia2 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PROFESIÓN: </strong>
                <?php echo $Informacion1->Profesion2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TRABAJA: </strong>
                <?php echo $Informacion1->Trabajo2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. CASA: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TEL. MOVIL: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CORREO: </strong>
                <?php echo $Informacion1->Correo2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                TRANSMISIÓN DE PROPIEDAD EN EJECUCIÓN DE FIDEICOMISO Y EXTINSIÓN PARCIAL DEL MISMO
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>FECHA DE ENTREGA DE TRANSMISIÓN DE VIVIENDA A INSTITUCION FIDUCIARIA: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-6 col-xs-12">
                                <strong>FECHA DE NOTIFICACIÓN DE TRANSMISIÓN A CORPORACIÓN RABINA: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>NOTIFICA: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-6 col-xs-12">

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-6 col-xs-12">
                                <strong>RECIBE: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                INGRESO POR TERRENO Y VENTA
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PAGO DE TERRENO: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PAGO DE RENDIMIENOS: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TOTAL DE INGRESO: </strong>
                <?php echo $Informacion1->Correo2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>FIRMA CON NOTARIO: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE FIRMA: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NOTARIOA PUBLICO: </strong>
                <?php echo $Informacion1->Correo2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO DE NOTARIO PÚBLICO: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PARTIDO DE ADSCRIPCIÓN: </strong>
                <?php echo $Informacion1->Telm2 ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NUMERAL REGISTRAL: </strong>
                <?php echo $Informacion1->Correo2 ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS SOBRE CRÉDITO
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                                <strong>INSTITUCIÓN DE CRÉDITO: </strong>
                <?php echo $Informacion1->Tel2 ?>
                            </div>
                        </td>
                    </tr>
                <?php foreach ($ExpCliente as $ExpCliente1) { ?>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#aab8ab">
                                    DOCUMENTOS DEL EXPEDIENTE
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                    <?php if (!empty($ExpCliente1->Promesa)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- PROMESA DE COMPRA VENTA; </strong>
                        <?php echo $ExpCliente1->TPromesa ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Comprobante)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COMPROBANTE DE APARTADO DE VIVIENDA; </strong>
                        <?php echo $ExpCliente1->TComprobante ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Acta)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ACTA DE NACIMIENTO; </strong>
                        <?php echo $ExpCliente1->TActa ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CCURP)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CURP; </strong>
                        <?php echo $ExpCliente1->Tcurp ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->INE)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- IDENTIFICACIÓN OFICIAL INE; </strong>
                        <?php echo $ExpCliente1->Tine ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->EdoCuenta)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ESTADOS DE CUENTA; </strong>
                        <?php echo $ExpCliente1->TEdoCuenta ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Recibos)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- RECIBOS DE HONORARIOS; </strong>
                        <?php echo $ExpCliente1->TRecibos ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Cnomina)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COMPROBANTE DE NÓMINA; </strong>
                        <?php echo $ExpCliente1->TCnomina ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Declaraciones)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- DECLARACIONES DE IMPUESTOS SAT; </strong>
                        <?php echo $ExpCliente1->TDeclaraciones ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Reporte)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- REPORTE DE APORTACIONES PATRONALES O COMPROBANTE DE INGRESOS; </strong>
                        <?php echo $ExpCliente1->TReporte ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Solicitud)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- SOLICITUD DE CRÉDITO; </strong>
                        <?php echo $ExpCliente1->TSolicitud ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Otros2)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- SOLICITUD DE CRÉDITO; </strong>
                        <?php echo $ExpCliente1->TOtros2 ?>
                                        </div>
                                    </div>
                    <?php } ?>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#aab8ab">
                                    DOCUMENTOS DEL EXPEDIENTE OPCIONALES
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                    <?php if (!empty($ExpCliente1->Precalificacion)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- PRECALIFICACIÓN INFONAVIT; </strong>
                        <?php echo $ExpCliente1->TPrecalificacion ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Contrato)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CONTRATO DE COMPRAVENTA; </strong>
                        <?php echo $ExpCliente1->TContrato ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Cartalaboral)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CARTA LABORAL; </strong>
                        <?php echo $ExpCliente1->TCartalaboral ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->SorteoBIM)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- FORMATO DE SORTEO BIM; </strong>
                        <?php echo $ExpCliente1->TSorteoBIM ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->FormatoBIM)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- FORMATO DE AVALUO BIM; </strong>
                        <?php echo $ExpCliente1->TFormatoBIM ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->AutorizacionBIM)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- FORMATO CARTA AUTORIZACIÓN BIM; </strong>
                        <?php echo $ExpCliente1->TAutorizacionBIM ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->FormatoBendit)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- FORMATO AVALUO BENDIT; </strong>
                        <?php echo $ExpCliente1->TFormatoBendit ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->AvisosPriv)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- AVISOS DE PRIVACIDAD; </strong>
                        <?php echo $ExpCliente1->TAvisosPriv ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->FormatoInicio)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- FORMATO DE INICIO DE OPERACIÓN; </strong>
                        <?php echo $ExpCliente1->TFormatoInicio ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Constancia)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CONSTANCIA DE TALLER DE ORIENTACIÓN, SABER PARA DECIDIR; </strong>
                        <?php echo $ExpCliente1->TConstancia ?>
                                        </div>
                                    </div>
                    <?php } ?>

                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#aab8ab">
                                    DOCUMENTOS DE LA EMPRESA
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                    <?php if (!empty($ExpCliente1->ActaNacA)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ACTA DE NACIMIENTO A; </strong>
                        <?php echo $ExpCliente1->TActaNacA ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->ActaNacB)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ACTA DE NACIMIENTO B; </strong>
                        <?php echo $ExpCliente1->TActaNacB ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->ActaMatrimonio)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ACTA DE MATRIMONIO; </strong>
                        <?php echo $ExpCliente1->TActaMatrimonio ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->RFCA)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- RFC A; </strong>
                        <?php echo $ExpCliente1->TRFCA ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->RFCB)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- RFC B; </strong>
                        <?php echo $ExpCliente1->TRFCB ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CopiaIdenta)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COPIAS DE IDENTIFICACIÓN OFICIAL A; </strong>
                        <?php echo $ExpCliente1->TCopiaIdenta ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CopiaIdentb)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COPIAS DE IDENTIFICACIÓN OFICIAL B; </strong>
                        <?php echo $ExpCliente1->TCopiaIdentb ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CURPA)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CURP A; </strong>
                        <?php echo $ExpCliente1->TCURPA ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CURPB)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CURP B; </strong>
                        <?php echo $ExpCliente1->TCURPB ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CuentaMtra)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CUENTA MAESTRA; </strong>
                        <?php echo $ExpCliente1->TCuentaMtra ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CLABE)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CUENTA CLABE; </strong>
                        <?php echo $ExpCliente1->TCLABE ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Acta2)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ACTA CONSTITUTIVA; </strong>
                        <?php echo $ExpCliente1->Tacta2 ?>
                                        </div>
                                    </div>
                    <?php } ?>    
                    <?php if (!empty($ExpCliente1->Declaracion)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- DECLARACIÓN ANUAL; </strong>
                        <?php echo $ExpCliente1->TDeclaracion ?>
                                        </div>
                                    </div>
                    <?php } ?>  
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#aab8ab">
                                    DOCUMENTOS ACERCA DE LA VIVIENDA
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                    <?php if (!empty($ExpCliente1->Plano)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- PLANO ARQUITECTURA; </strong>
                        <?php echo $ExpCliente1->TPlano ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Sembrado)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- PLANO SEMBRADO INDICANDO EL LOTE; </strong>
                        <?php echo $ExpCliente1->TSembrado ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Certificado)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- CERTIFICADO LIBERTAD DE GRAVAMEN; </strong>
                        <?php echo $ExpCliente1->TCertificado ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Pago)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- PAGO DEL PREDIAL; </strong>
                        <?php echo $ExpCliente1->TPago ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->CopiaEscrituras)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COPIA DE LAS ESCRITURAS; </strong>
                        <?php echo $ExpCliente1->TCopiaEscrituras ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Condominio)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- COPIA DEL RÉGIMEN EN CONDOMINIO; </strong>
                        <?php echo $ExpCliente1->TCondominio ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Construccion)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- LICENCIA DE CONSTRUCCIÓN; </strong>
                        <?php echo $ExpCliente1->TConstruccion ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Obra)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- TERMINACIÓN DE OBRA; </strong>
                        <?php echo $ExpCliente1->TObra ?>
                                        </div>
                                    </div>
                    <?php } ?>
                    <?php if (!empty($ExpCliente1->Alineamiento)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ALINEAMIENTO Y NÚMERO OFICIAL; </strong>
                        <?php echo $ExpCliente1->TAlineamiento ?>
                                        </div>
                                    </div>
                        <?php } ?>
                        <?php if (!empty($ExpCliente1->Refrendo)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- REFRENDO; </strong>
                                        <?php echo $ExpCliente1->TRefrendo ?>
                                        </div>
                                    </div>
                                    <?php } ?>
                                    <?php if (!empty($ExpCliente1->Anexos)) { ?>
                                    <div class="col-md-12 col-xs-12">
                                        <div class="col-md-12 col-xs-12">
                                            <strong>- ANEXOS; </strong>
                                        <?php echo $ExpCliente1->TAnexos ?>
                                        </div>
                                    </div>
                                    <?php } ?>
                                <?php } ?>
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                DATOS SOBRE VIVIENDA VENDIDA
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>DESARROLLO: </strong>
                <?php
                $respuesta = '-';
                foreach ($Proyectos as $Proyectos1) {
                    if ($Proyectos1->ID == $Informacion1->Desarrollo) {
                        $respuesta = $Proyectos1->Proyecto;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MODELO DE VIVIENDA: </strong>
                <?php
                $respuesta = '-';
                foreach ($Viviendas as $Vivienda1) {
                    if ($Vivienda1->ID == $Informacion1->Vivienda) {
                        $respuesta = $Vivienda1->Modelo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PROTOTIPO DE VIVIENDA: </strong>
                <?php
                $respuesta = '-';
                foreach ($Prototipos as $Prototipos1) {
                    if ($Prototipos1->ID == $Informacion1->Prototipo) {
                        $respuesta = $Prototipos1->Prototipo;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>LOTE: </strong>
                <?php echo $Informacion1->Lote ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>ESQUINA: </strong>
                                <?php echo $Informacion1->Esquina ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>TERRENO EXCEDENTE: </strong>
                                <?php echo $Informacion1->Excedente ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO DE VIVIENDA: </strong>
                                <?php echo $Informacion1->Nvivienda ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MANZANA: </strong>
                                <?php echo $Informacion1->Manzana ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CALLE: </strong>
                <?php echo $Informacion1->NCalle ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>SUPERFICIE DE TERRENO EXCEDENTE: </strong>
                                <?php echo $Informacion1->Excedente ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PRECIO DEL TERRENO EXCEDENTE: </strong>
                                <?php echo $Informacion1->Pexcedente ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PRECIO TOTAL DE LA VIVIENDA: </strong>
                <?php echo $Informacion1->Pvivienda ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>CANTIDAD QUE ENTREGA PARA APARTAR LA VIVIENDA: </strong>
                                    <?php echo $Informacion1->Capartado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FORMA DE ENTREGAR EL APARTADO: </strong>
                            <?php echo $Informacion1->Fapartado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>REFERENCIA: </strong>
                <?php echo $Informacion1->Referencia3 ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE ENTREGA DEL APARTADO: </strong>
                <?php echo $Informacion1->Fechaapartado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>CLIENTE QUE ENTREGA EL APARTADO: </strong>
                                    <?php echo $Informacion1->Clientapartado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>VIVIENDA APARTADA Y PRECIO POR EQUIPAMIENTO: </strong>
                            <?php echo $Informacion1->Equipamiento . ", " . $Informacion1->PEquipamiento ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>PERSONAL DE LA CORPORACIÓN QUE RECIBE : </strong>
                <?php echo $Informacion1->Papartado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE TÉRMINO PARA LA DOCUMENTACIÓN: </strong>
                <?php echo $Informacion1->FtCredito ?>
                            </div>
                            <div class="col-md-4 col-xs-12">

                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                REVISIÓN DE EXPEDIENTE PARA COMPRAVENTA DE INMUEBLE
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE REVISIÓN DE EXPEDIENTE: </strong>
                <?php echo $Informacion1->Frevision ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FORMA DE ADQUIRIR LA VIVIENDA: </strong>
                <?php echo $Informacion1->Fadquirir ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>INSTITUCIÓN DONDE SE TRAMITARÁ EL CRÉDITO: </strong>
                <?php echo $Informacion1->InstCrediticia ?>
                            </div>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE ENGANCHE: </strong>
                <?php echo $Informacion1->Enganche ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE CRÉDITO: </strong>
                <?php echo $Informacion1->Mcredito ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE SOLICITUD DE CRÉDITO HIPOTECARIO: </strong>
                <?php echo $Informacion1->Fsolicitudcredito ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>COFINANCIADO: </strong>
                <?php echo $Informacion1->Cofinanciado ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE CRÉDITO A: </strong>
                <?php echo $Informacion1->CreditoA ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DE CRÉDITO B: </strong>
                                <?php echo $Informacion1->CreditoB ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>SUMA DE CRÉDITOS: </strong>
                <?php echo $Informacion1->Scredito ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DEL ANTICIPO: </strong>
                                <?php echo $Informacion1->Anticipo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PRECIO DE VENTA EN ESCRITURA: </strong>
                                <?php echo $Informacion1->Pventa ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>GASTOS DE AVALUO: </strong>
                                <?php echo $Informacion1->Gavaluo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>GASTOS MUNICIPALES: </strong>
                <?php echo $Informacion1->Gmunicipales ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DEL BONO DE DESCUENTO: </strong>
                <?php echo $Informacion1->Descuento ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>COSTO TOTAL: </strong>
                <?php echo $Informacion1->CostoT ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>SALDO FINAL DE PRECIO DE VENTA: </strong>
                <?php echo $Informacion1->SaldoF ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO DEL ADEUDO: </strong>
                <?php echo $Informacion1->Madeudo ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE PAGO DEL ADEUDO: </strong>
                <?php echo $Informacion1->FPagoadeudo ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>MONTO SOBRANTE: </strong>
                <?php echo $Informacion1->Msobrante ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE PAGO DEL SOBRANTE: </strong>
                                <?php echo $Informacion1->Fpagosobrante ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>FIRMA CON NOTARIO PÚBLICO: </strong>
                                <?php echo $Informacion1->FirmaNP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE FIRMA CON EL NOTARIO PÚBLICO: </strong>
                                <?php echo $Informacion1->FechaFNP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NOMBRE DEL NOTARIO PÚBLICO: </strong>
                                <?php echo $Informacion1->NP ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>    
                            <div class="col-md-4 col-xs-12">
                                <strong>NÚMERO DE NOTARIO PÚBLICO: </strong>
                                <?php echo $Informacion1->NNP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>PARTIDO DE ADSCRIPCIÓN: </strong>
                                <?php echo $Informacion1->PartidoNP ?>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <strong>NUMERAL REGISTRAL: </strong>
                                <?php echo $Informacion1->NumeralRegistral ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>    
                            <div class="col-md-4 col-xs-12">
                                <strong>FECHA DE ENTREGA DE LA VIVIENDA: </strong>
                <?php echo $Informacion1->FechaEntrega ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-12 col-xs-12">
                                <strong>OBSERVACIONES: </strong>
                <?php echo $Informacion1->Observaciones ?>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-4 col-xs-12">
                                <strong>NOMBRE DEL PERSONAL QUE LA VENDIÓ: </strong>
                <?php
                $respuesta = '-';
                foreach ($USUARIOS as $USUARIOS1) {
                    if ($USUARIOS1->Id == $Informacion1->VendidaX) {
                        $respuesta = $USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                        </td>
                    </tr>
                <?php if (!empty($PagosCliente)) { ?>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                    PAGOS
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12" style="background-color:#adb9ae">
                                    <strong>PAGOS</strong>
                                </div>
                                <div class="col-md-4 col-xs-12" style="background-color:#adb9ae">
                                    <strong>MONTO</strong>
                                </div>
                                <div class="col-md-4 col-xs-12" style="background-color:#adb9ae">
                                    <strong>SALDO</strong>
                                </div>
                            </td>
                        </tr>
                <?php } ?>
                <?php foreach ($PagosCliente as $PagosCliente1) { ?>
                        <tr>
                            <td>
                                <div class="col-md-4 col-xs-12">
                    <?php echo $PagosCliente1->Mensualidad . "(" . $PagosCliente1->Anio . ")" ?>
                                </div>
                                <div class="col-md-4 col-xs-12">
                    <?php echo $PagosCliente1->Monto . "(" . $PagosCliente1->FPago . ")" ?>
                                </div>
                                <div class="col-md-4 col-xs-12">
                    <?php echo $PagosCliente1->Saldo ?>
                                </div>
                            </td>
                        </tr>
                <?php } ?>
                <?php if (!empty($Informacion1->FCancelacion)) { ?>
                        <tr>
                            <td>
                                <div class="col-xs-12 col-sm-12" style="background-color:#99A79A">
                                    DATOS SOBRE CANCELACIÓN
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-3 col-xs-12">
                                    <strong>FECHA DE CANCELACIÓN: </strong>
                    <?php echo $Informacion1->FCancelacion ?>
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <strong>NOMBRE DE QUIEN CANCELA: </strong>
                                    <?php echo $Informacion1->Ncancela ?>
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <strong>MOTIVO DE CANCELACIÓN: </strong>
                    <?php echo $Informacion1->MotivoCancela ?>
                                </div>
                                <div class="col-md-3 col-xs-12">
                                    <strong>FIRMA DE QUIEN RECIBE LA CANCELACIÓN: </strong>
                    <?php echo $Informacion1->Firma ?>
                                </div>
                            </td>
                        </tr>
                <?php } ?>

                            <?php } ?>
            </table>
            <?php
        }
    }

    public function convertir() {
        $cantidad = trim($this->input->post('cantidad'));

        if (empty($cantidad)) {
            echo json_encode(array('leyenda' => 'Debe introducir una cantidad.'));

            return;
        }

        # verificar si el número no tiene caracteres no númericos, con excepción
        # del punto decimal
        $xcantidad = str_replace('.', '', $cantidad);

        if (FALSE === ctype_digit($xcantidad)) {
            echo json_encode(array('leyenda' => 'La cantidad introducida no es válida.'));

            return;
        }

        # procedemos a covertir la cantidad en letras
        $this->load->helper('numeros');
        $response = array(
            'leyenda' => num_to_letras($cantidad)
            , 'cantidad' => $cantidad
        );
        echo num_to_letras($cantidad);
        //$xcadena = str_replace('VEINTI ', 'VEINTI', $xcadena); 
    }

    public function RegistroOrdenCompra() {
        $this->load->model("modelo", "datos");
        $Contratos = $this->input->post('Contratos');
        $Contrat = implode(',', $Contratos);
        $ProdFolios = $this->input->post('ProdFolio');
        $CantiNum = $this->input->post('CantiNum');
        $CantLetras = $this->input->post('CantLetras');
        //$ProdFolios=implode(',',$ProdFolio);
        $indiceuser = $this->input->post('user');
        $ID = $this->input->post('ID');
        $Etiquet = $this->input->post('Etiquet');
        $Proveed = $this->input->post('Proveed');
        $Solicitante = $this->input->post('Solicitante');
        $Facturar = $this->input->post('Facturar');
        $Proveedor = $this->input->post('Proveedor');
        $Domicilio = $this->input->post('Domicilio');
        $Telefono = $this->input->post('Telefono');
        $Correo = $this->input->post('Correo');
        $Pagina = $this->input->post('Pagina');
        $Fracc = $this->input->post('Fracc');
        $Localidad = $this->input->post('Localidad');
        $datos = $this->datos->getRegistroOrdenCompra(
                $ID, $Etiquet, $Proveed, $Solicitante, $Facturar, $Contrat, $ProdFolios, $CantiNum, $CantLetras, $Proveedor, $Domicilio, $Telefono, $Correo, $Pagina, $Fracc, $Localidad
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->helper('numeros');
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Numero = $this->input->post('Cotizacion');
        $Aprobacion = $this->input->post('Aprobacion');


        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionID = $this->Cotizacion->getCotizacionesID($Numero);
        foreach ($CotizacionID as $CotizacionID1) {
            
        }
        $Pr = $CotizacionID1->Proyecto;
        $data['Pr'] = $Pr;

        $Etiquet = substr($Aprobacion, strpos($Aprobacion, "-") + strlen("-"));
        $Proveed = substr($Aprobacion, 0, strpos($Aprobacion, "-"));

        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['Numero'] = $Numero;
        $data['Etiquet'] = $Etiquet;
        $data['Proveed'] = $Proveed;
        $data['Cotizacion'] = $Numero;
        $data['Aproba'] = $Aprobacion;
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        $data['Proyectos'] = $Proyectos;
        $this->load->model("modelo", "Proveedor");
        $Proveedorall = $this->Proveedor->getProveedoresAll();
        $data['Proveedorall'] = $Proveedorall;
        //Abriendo BD Catalogo
        $this->load->model("modelo", "Catalogo");
        $Catalogo = $this->Catalogo->getCatalogo();
        $data['Catalogo'] = $Catalogo;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiqueta = $this->Etiqueta->getEtiquetaID($Etiquet);
        $data['Etiqueta'] = $Etiqueta;
        //Abriendo BD Etiqueta
        $this->load->model("modelo", "Etiqueta");
        $Etiquetas = $this->Etiqueta->getEtiquetaALL();
        $data['Etiquetas'] = $Etiquetas;
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $ProductoALL = $this->Productos->getProductosALL();
        $data['ProductoALL'] = $ProductoALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Cotizacion");
        $CotizacionALL = $this->Cotizacion->getCotizacionesALL2($Numero);
        $data['CotizacionALL'] = $CotizacionALL;
        //Abriendo BD Cotizaciones
        $this->load->model("modelo", "Contratos");
        $Contratos = $this->Contratos->getContratosALL2();
        $data['Contratos'] = $Contratos;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Compras_1_1';
        $this->_renderView($data);
    }

    public function cambiartipovivienda() {
        //Abriendo BD Sub-cliente
        $Proyecto = $_POST["Proyecto"];
        $this->load->model("modelo", "Vivienda");
        $Vivienda = $this->Vivienda->getTipovivienda($Proyecto);
        $this->load->model("modelo", "Vivienda2");
        $Vivienda2 = $this->Vivienda2->getTipovivienda2();
        ?>
        <div class="col-md-3 col-xs-12" align="right">
            <label for="Cliente" class="control-label">Seleccionar modelo de vivienda:</label><br>
        </div>
        <div class="col-md-9 col-xs-12">
            <select class="form-control" id="Vivienda" name="Vivienda" >
                <option value="">Selecciona</option>
        <?php foreach ($Vivienda as $Vivienda1) { ?> 
                    <option value="<?php echo $Vivienda1->Modelo; ?>">
            <?php
            $respuesta = '-';
            foreach ($Vivienda2 as $Vivienda3) {
                if ($Vivienda3->ID == $Vivienda1->Modelo) {
                    $respuesta = $Vivienda3->Modelo;
                }
            }
            echo $respuesta;
            ?>
                    </option>
        <?php } ?>
            </select>
        </div>
        <?php
    }

    public function ViviendasxProyecto() {
        //Abriendo BD Sub-cliente
        $Proyecto = $_POST["Proyecto"];
        $this->load->model("modelo", "Vivienda");
        $Vivienda = $this->Vivienda->getTipovivienda($Proyecto);
        $this->load->model("modelo", "Vivienda2");
        $Vivienda2 = $this->Vivienda2->getTipovivienda2();
        $this->load->model("modelo", "Tipos");
        $Tipos = $this->Tipos->getPrototipo();
        foreach ($Vivienda as $Vivienda1) {
            ?>
            <div class="col-md-3 col-xs-12">	
            <?php
            $respuesta = '-';
            foreach ($Vivienda2 as $Vivienda3) {
                if ($Vivienda3->ID == $Vivienda1->Modelo) {
                    $respuesta = $Vivienda3->Modelo;
                }
            }
            echo $respuesta;
            ?>
            </div>
            <div class="col-md-3 col-xs-12">	
            <?php
            $respuesta = '-';
            foreach ($Tipos as $Tipos1) {
                if ($Tipos1->ID == $Vivienda1->Tipo) {
                    $respuesta = $Tipos1->Prototipo;
                }
            }
            echo $respuesta;
            ?>	
            </div>
            <div class="col-md-3 col-xs-12">	
                            <?php
                            $respuesta = '-';
                            foreach ($Vivienda2 as $Vivienda3) {
                                if ($Vivienda3->ID == $Vivienda1->Modelo) {
                                    $respuesta = $Vivienda3->Contruccion;
                                }
                            }
                            echo $respuesta;
                            ?>	
            </div>
            <div class="col-md-3 col-xs-12">	
                <?php
                $respuesta = '-';
                foreach ($Vivienda2 as $Vivienda3) {
                    if ($Vivienda3->ID == $Vivienda1->Modelo) {
                        $respuesta = $Vivienda3->Precio;
                    }
                }
                echo $respuesta;
                ?>
            </div>
            <?php
        }
    }

    public function Viviendasinfo1() {
        //Abriendo BD Sub-cliente
        $Vivienda = $_POST["Vivienda"];
        $this->load->model("modelo", "Vivienda");
        $Vivienda = $this->Vivienda->getViviendasInformacion($Vivienda);
        foreach ($Vivienda as $Vivienda1) {
            ?>
            <input  class="form-control" type="text" name="Superficie" id="Superficie" value="<?php echo $Vivienda1->Contruccion ?>" readonly="readonly">
            <?php
        }
    }

    public function Viviendasinfo2() {
        //Abriendo BD Sub-cliente
        $Vivienda = $_POST["Vivienda"];
        $this->load->model("modelo", "Vivienda");
        $Vivienda = $this->Vivienda->getViviendasInformacion($Vivienda);
        foreach ($Vivienda as $Vivienda1) {
            ?>
            <input  class="form-control" type="text" name="Superficie" id="Superficie" value="<?php echo $Vivienda1->Precio ?>" readonly="readonly">
            <?php
        }
    }

    public function RegistroTramitesR() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Proyectos = $this->input->post('Proyectos');
        $Tramite = $this->input->post('Tramite');
        $Instancia = $this->input->post('Instancia');
        $Requisitos = $this->input->post('Requisitos');
        $Duracion = $this->input->post('Duracion');
        $Direccion = $this->input->post('Direccion');
        $datos = $this->datos->getRegistroTramitesR(
                $Proyectos, $Tramite, $Instancia, $Requisitos, $Duracion, $Direccion
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'TramitesR';
        $this->_renderView($data);
    }

    public function TramitesRabina() {
        $this->load->model("modelo", "datos");
        $TRAID = $this->input->post('TRAID');
        $indiceuser = $this->input->post('user');
        if ($TRAID == 'TRA_1') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'TramitesR_1';
            $this->_renderView($data);
        }
        if ($TRAID == 'TRA_2') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Tramite");
            $Tramite = $this->Tramite->getTramiteAll();
            $data['Tramite'] = $Tramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'TramitesR_2';
            $this->_renderView($data);
        }
        if ($TRAID == 'TRA_3') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Tramite");
            $Tramite = $this->Tramite->getTramiteAll();
            $data['Tramite'] = $Tramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'TramitesR_4';
            $this->_renderView($data);
        }
        if ($TRAID == 'TRA_4') {
            //Cargando usuarios
            $where = '';
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Proyectos");
            $Proyectos = $this->Proyectos->getProyectosAll();
            $data['Proyectos'] = $Proyectos;
            //Abriendo BD Proyectos
            $this->load->model("modelo", "Tramite");
            $Tramite = $this->Tramite->getTramiteAll();
            $data['Tramite'] = $Tramite;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'TramitesR_3';
            $this->_renderView($data);
        }
    }

    public function ResultDesarrollo() {
        //Abriendo BD Sub-cliente
        $Proyectos = $_POST["Proyectos"];
        $this->load->model("modelo", "Tramite");
        $Tramite = $this->Tramite->getTramiteID($Proyectos);
        ?>
        <div class="col-md-3 col-xs-6" align="right">
            <label for="NombreActividad" class="control-label">Tramite</label><br>
        </div>
        <div class="col-md-9 col-xs-6">
            <select class="form-control" id="Tramite" name="Tramite"  required>
                <option value="">Selecciona</option>
        <?php foreach ($Tramite as $Tramite1) { ?> 
                    <option value="<?php echo $Tramite1->ID; ?>"><?php echo $Tramite1->Tramite; ?></option>
                        <?php } ?>
            </select>	
        </div>
                        <?php
                    }

                    public function ResultTramite() {
                        $Tramite = $_POST["Tramite"];
                        $where = '';
                        //Abriendo BD Clientes
                        $this->load->model("modelo", "Tramite");
                        $Tramite = $this->Tramite->getTramiteID2($Tramite);
                        if ($Tramite != 0) {
                            foreach ($Tramite as $Tramite1) {
                                
                            }
                            ?>
            <div class="col-md-12 col-xs-12" style="background-color:#99A79A">
            <?php echo $Tramite1->Tramite; ?>
            </div>

            <div class="col-md-12 col-xs-12">
                <div class="col-md-6 col-xs-12">
                    <strong style="color:#ff6600">Instancia: </strong> <font color="#ff6600"><?php echo $Tramite1->Instancia; ?></font>
                </div>
                <div class="col-md-6 col-xs-12">
                    <strong style="color:#ff6600">Requisitos: </strong><font color="#ff6600"><?php echo $Tramite1->Requisitos; ?></font>
                </div>
            </div>
            <div class="col-md-12 col-xs-12">
                <div class="col-md-12 col-xs-12">
                    <strong style="color:#ff6600">Duracion: </strong>
                    <font style="color:#ff6600"><?php echo $Tramite1->Duracion; ?></font>
                </div>
            </div>
            <div class="col-md-12 col-xs-12">
                <div class="col-md-12 col-xs-12">
                    <strong style="color:#ff6600">Direccion: </strong>
                    <font style="color:#ff6600"><?php echo $Tramite1->Direccion; ?></font>
                </div>
            </div>

            <div class="col-md-12 col-xs-12" >
                </br>
            </div>

                            <?php
                        }
                    }

                    public function SegumientoT() {
                        $this->load->model("modelo", "datos");
                        $Tramite = $this->input->post('Tramite');
                        $Responsable = $this->input->post('Responsable');
                        $FechaInicio = $this->input->post('FechaInicio');
                        $FechaTermino = $this->input->post('FechaTermino');
                        $Estado = $this->input->post('Estado');
                        $indiceuser = $this->input->post('user');

                        $datos = $this->datos->getSegumientoT(
                                $Tramite, $Responsable, $FechaInicio, $FechaTermino, $Estado
                        );
                        echo '<script>alert("El documento ha sido registrado \n ")</script>';
                        //Cargando usuarios
                        $where = '';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "Proyectos");
                        $Proyectos = $this->Proyectos->getProyectosAll();
                        $data['Proyectos'] = $Proyectos;
                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "Tramite");
                        $Tramite = $this->Tramite->getTramiteAll();
                        $data['Tramite'] = $Tramite;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'TramitesR_2';
                        $this->_renderView($data);
                    }

                    public function SegumientoTramites() {
                        $this->load->model("modelo", "datos");
                        $Proyectos = $this->input->post('Proyectos');
                        $Tramite = $this->input->post('Tramite');
                        $Observaciones = $this->input->post('Observaciones');
                        $Evidencia = $this->input->post('Evidencia');
                        $Fecha = $this->input->post('Fecha');

                        $Nombre = $Tramite . '-' . date("ydHis");
                        $indiceuser = $this->input->post('user');
                        $config['upload_path'] = $this->folder14;
                        $config['allowed_types'] = 'zip|rar|pdf|docx|doc|xlsx|xls|txt|gif|jpg|png';
                        $config['remove_spaces'] = TRUE;
                        $config['file_name'] = $Nombre;
                        $config['max_size'] = '2048';
                        $this->load->library('upload', $config);

                        if (!$this->upload->do_upload()) {
                            $error = array('error' => $this->upload->display_errors());
                            if ($error['error'] == '<p>You did not select a file to upload.</p>') {
                                echo '<script>alert("Se ha registrado su documento\n Sin archivo adjunto \n")</script>';
                                //********sin archivo adjunto pero registra

                                $datos = $this->datos->getSegumientoTramites(
                                        $Proyectos, $Tramite, $Observaciones, $Evidencia, $Nombre, $Fecha
                                );
                            } else {
                                if ($error['error'] == '<p>The filetype you are attempting to upload is not allowed.</p>') {
                                    echo '<script>alert("Error\n No se ha guardado su registro debido a que el tipo de archivo no es soportado")</script>';
                                } else {
                                    if ($error['error'] == '<p>The file you are attempting to upload is larger than the permitted size.</p>') {
                                        echo '<script>alert("Error\n No se ha guardado su registro debido a que el archivo excede los 2MB")</script>';
                                    } else {
                                        echo '<script>alert("Error' . $error['error'] . ' \n")</script>';
                                    }
                                }
                            }
                            //Cargando usuarios
                            $where = '';
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosAll();
                            $data['Proyectos'] = $Proyectos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Tramite");
                            $Tramite = $this->Tramite->getTramiteAll();
                            $data['Tramite'] = $Tramite;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'TramitesR_2';
                            $this->_renderView($data);
                        } else {
                            $datos = $this->datos->getSegumientoTramites(
                                    $Proyectos, $Tramite, $Observaciones, $Evidencia, $Nombre, $Fecha
                            );
                            echo '<script>alert("El documento ha sido registrado \n ")</script>';
                            //Cargando usuarios
                            $where = '';
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosAll();
                            $data['Proyectos'] = $Proyectos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Tramite");
                            $Tramite = $this->Tramite->getTramiteAll();
                            $data['Tramite'] = $Tramite;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'TramitesR_4';
                            $this->_renderView($data);
                        }
                    }

                    public function Contratistas() {
                        $where = '';
                        $this->load->model("modelo", "datos");
                        $ContratistasID = $this->input->post('ContratistasID');
                        $indiceuser = $this->input->post('user');

                        if ($ContratistasID == 'Contratistas_1') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosALL();
                            $data['Proyectos'] = $Proyectos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll();
                            $data['ConceptoP'] = $ConceptoP;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Contratistas");
                            $Contratistas = $this->Contratistas->getContratistas();
                            $data['Contratistas'] = $Contratistas;
                            //Proyectos
                            $this->load->model("modelo", "Lotes");
                            $Lotes = $this->Lotes->getLotesALL();
                            $data['Lotes'] = $Lotes;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Contratistas_1';
                            $this->_renderView($data);
                        }
                        if ($ContratistasID == 'Contratistas_2') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            $data['scripts'] = array('cliente');
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll();
                            $data['ConceptoP'] = $ConceptoP;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Contratistas");
                            $Contratistas = $this->Contratistas->getContratistas();
                            $data['Contratistas'] = $Contratistas;
                            $data['contentView'] = 'Contratistas_2';
                            $this->_renderView($data);
                        }
                        if ($ContratistasID == 'Contratistas_3') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll2();
                            $data['ConceptoP'] = $ConceptoP;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Conceptos");
                            $Conceptos = $this->Conceptos->getConceptoPAll();
                            $data['Conceptos'] = $Conceptos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Contratistas");
                            $Contratistas = $this->Contratistas->getContratistas();
                            $data['Contratistas'] = $Contratistas;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "FormaPago");
                            $FormaPago = $this->FormaPago->getFormaPago();
                            $data['FormaPago'] = $FormaPago;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "TipoComprobante");
                            $TipoComprobante = $this->TipoComprobante->getTipoComprobante2();
                            $data['TipoComprobante'] = $TipoComprobante;
                            //Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosALL();
                            $data['Proyectos'] = $Proyectos;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Contratistas_3';
                            $this->_renderView($data);
                        }
                        if ($ContratistasID == 'Contratistas_4') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll2();
                            $data['ConceptoP'] = $ConceptoP;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Conceptos");
                            $Conceptos = $this->Conceptos->getConceptoPAll();
                            $data['Conceptos'] = $Conceptos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Contratistas");
                            $Contratistas = $this->Contratistas->getContratistas();
                            $data['Contratistas'] = $Contratistas;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "FormaPago");
                            $FormaPago = $this->FormaPago->getFormaPago();
                            $data['FormaPago'] = $FormaPago;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "TipoComprobante");
                            $TipoComprobante = $this->TipoComprobante->getTipoComprobante2();
                            $data['TipoComprobante'] = $TipoComprobante;
                            //Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosALL();
                            $data['Proyectos'] = $Proyectos;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Contratistas_4';
                            $this->_renderView($data);
                        }
                        if ($ContratistasID == 'Contratistas_5') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll();
                            $data['ConceptoP'] = $ConceptoP;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Conceptos");
                            $Conceptos = $this->Conceptos->getConceptoPAll();
                            $data['Conceptos'] = $Conceptos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Contratistas");
                            $Contratistas = $this->Contratistas->getContratistas();
                            $data['Contratistas'] = $Contratistas;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "FormaPago");
                            $FormaPago = $this->FormaPago->getFormaPago();
                            $data['FormaPago'] = $FormaPago;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "TipoComprobante");
                            $TipoComprobante = $this->TipoComprobante->getTipoComprobante2();
                            $data['TipoComprobante'] = $TipoComprobante;
                            //Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosALL();
                            $data['Proyectos'] = $Proyectos;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Contratistas_5';
                            $this->_renderView($data);
                        }
                        if ($ContratistasID == 'Contratistas_6') {
                            $this->load->model("modelo", "USUARIOS");
                            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
                            $data['USUARIOS'] = $USUARIOS;
                            $data['User'] = $indiceuser;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ContPagos");
                            $ContPagos = $this->ContPagos->getContratistasPagosAlltodos();
                            $data['ContPagos'] = $ContPagos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "Conceptos");
                            $Conceptos = $this->Conceptos->getConceptoPAll();
                            $data['Conceptos'] = $Conceptos;
                            //Abriendo BD Proyectos
                            $this->load->model("modelo", "ConceptoP");
                            $ConceptoP = $this->ConceptoP->getConceptoPAll();
                            $data['ConceptoP'] = $ConceptoP;
                            //Proyectos
                            $this->load->model("modelo", "Proyectos");
                            $Proyectos = $this->Proyectos->getProyectosALL();
                            $data['Proyectos'] = $Proyectos;
                            $data['scripts'] = array('cliente');
                            $data['contentView'] = 'Contratistas_6';
                            $this->_renderView($data);
                        }
                    }

                    public function ContratistasRConcepto() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Ndesarrollo = $this->input->post('Ndesarrollo');
                        $ConceptoP = $this->input->post('ConceptoP');
                        $Contratistas = $this->input->post('Contratistas');
                        $Precio = $this->input->post('Precio');
                        $TotalTrabajos = $this->input->post('TotalTrabajos');
                        $MontoTrabajos = str_replace(",", "", $this->input->post('MontoTrabajos'));
                        $Inicio = $this->input->post('Inicio');
                        $Termino = $this->input->post('Termino');
                        $LotesM = $this->input->post('LotesM');
                        $Lotes = implode(',', $LotesM);
                        $datos = $this->datos->getContratistasRConcepto(
                                $Ndesarrollo, $ConceptoP, $Contratistas, $Lotes, $Precio, $TotalTrabajos, $MontoTrabajos, $Inicio, $Termino
                        );
                        echo '<script>alert("Registro completo")</script>';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Contratistas';
                        $this->_renderView($data);
                    }

                    public function ContratistaPagos() {
                        $this->load->model("modelo", "datos");
                        $indiceuser = $this->input->post('user');
                        $Ndesarrollo = $this->input->post('Ndesarrollo');
                        $ConceptoP = $this->input->post('ConceptoP');
                        $Contratistas = $this->input->post('Contratistas');

                        $ID = $this->input->post('Contratistas');
                        $Precio = str_replace(",", "", $this->input->post('Precio'));
                        $TotalTrabajos = str_replace(",", "", $this->input->post('TotalTrabajos'));
                        $MontoTrabajos = str_replace(",", "", $this->input->post('MontoTrabajos'));
                        $TrabajosRealizados = str_replace(",", "", $this->input->post('TrabajosRealizados'));
                        $MontoTrabajosRealizados = str_replace(",", "", $this->input->post('MontoTrabajosRealizados'));
                        $TrabajosPendientes = str_replace(",", "", $this->input->post('TrabajosPendientes'));
                        $MontoTrabajosPendientes = str_replace(",", "", $this->input->post('MontoTrabajosPendientes'));
                        $TrabajosaPagar = str_replace(",", "", $this->input->post('TrabajosaPagar'));
                        $PrecioPagar = str_replace(",", "", $this->input->post('PrecioPagar'));
                        $MontoPago = str_replace(",", "", $this->input->post('MontoPago'));
                        $FechaPago = $this->input->post('FechaPago');
                        $FormaPago = $this->input->post('FormaPago');
                        $Comprobante = $this->input->post('Comprobante');
                        $Inicio = $this->input->post('Inicio');
                        $Termino = $this->input->post('Termino');
                        $Paga = $this->input->post('Paga');
                        $Observaciones = $this->input->post('Observaciones');
                        $TrabajosRealizados = $TrabajosRealizados + $TrabajosaPagar;
                        $MontoTrabajosRealizados = $MontoTrabajosRealizados + $MontoPago;
                        $datos = $this->datos->getContratistaPagos(
                                $ID, $Ndesarrollo, $ConceptoP, $Contratistas, $Precio, $TotalTrabajos, $MontoTrabajos, $TrabajosRealizados, $MontoTrabajosRealizados, $TrabajosPendientes, $MontoTrabajosPendientes, $TrabajosaPagar, $PrecioPagar, $MontoPago, $FechaPago, $FormaPago, $Comprobante, $Inicio, $Termino, $Paga, $Observaciones
                        );
                        echo '<script>alert("Registro completo")</script>';
                        $this->load->model("modelo", "USUARIOS");
                        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
                        $data['USUARIOS'] = $USUARIOS;
                        $data['User'] = $indiceuser;
                        $data['scripts'] = array('cliente');
                        $data['contentView'] = 'Contratistas';
                        $this->_renderView($data);
                    }

                    public function RDestajo() {
                        $Ndesarrollo = $_POST["Ndesarrollo"];
                        $ConceptoP = $_POST["ConceptoP"];

                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "ContratistasPagos");
                        $ContratistasPagos = $this->ContratistasPagos->getContratistasPagosAll($Ndesarrollo, $ConceptoP);
                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "Conceptos");
                        $Conceptos = $this->Conceptos->getConceptoPAll();
                        //Abriendo BD Proyectos
                        $this->load->model("modelo", "Contratistas");
                        $Contratistas = $this->Contratistas->getContratistas();

                        $i = 0;
                        $r[0] = "-";
                        if (empty($ContratistasPagos)) {
                            echo "Vacio";
                        }
                        foreach ($ContratistasPagos as $ContratistasPagos1) {
                            $m = count($r);
                            $encontro = "No";
                            for ($i = 0; $i < $m; $i++) {
                                if ($r[$i] == $ContratistasPagos1->Contratistas) {
                                    $encontro = "Si";
                                }
                            }
                            if ($encontro == "No") {
                                $r[$i] = $ContratistasPagos1->Contratistas;
                            }
                        }

                        $temp = count($r);
                        for ($i = 1; $i < $temp; $i++) {
                            $respuesta2 = '-';
                            foreach ($Contratistas as $Contratistas1) {
                                if ($Contratistas1->ID == $r[$i]) {
                                    $respuesta2 = $Contratistas1->Proveedor;
                                }
                            }
                            ?>
            <div class="col-md-12 col-xs-12">
                            <?php echo $respuesta2 ?>
            </div>

            <div class="col-md-12 col-xs-12" style="background-color:#99A79A">
                <div class="col-md-3 col-xs-12">
                    Fecha
                </div>
                <div class="col-md-3 col-xs-12">
                    Anterior
                </div>
                <div class="col-md-3 col-xs-12">
                    Esta
                </div>
                <div class="col-md-3 col-xs-12">
                    Acumulado
                </div>
            </div>

                            <?php
                            foreach ($ContratistasPagos as $ContratistasPagos1) {
                                if ($r[$i] == $ContratistasPagos1->Contratistas) {
                                    ?>
                    <div class="col-md-12 col-xs-12">
                        <div class="col-md-3 col-xs-12">
                    <?php echo $ContratistasPagos1->FechaPago ?>
                        </div>
                        <div class="col-md-3 col-xs-12">
                    <?php echo $ContratistasPagos1->TotalTrabajos - $ContratistasPagos1->TrabajosPendientes ?>
                        </div>
                        <div class="col-md-3 col-xs-12">
                    <?php echo $ContratistasPagos1->TrabajosRealizados ?>
                        </div>
                        <div class="col-md-3 col-xs-12">
                                <?php echo ($ContratistasPagos1->TotalTrabajos - $ContratistasPagos1->TrabajosPendientes) + $ContratistasPagos1->TrabajosRealizados ?>
                        </div>
                    </div>

                                        <?php
                                    }
                                }
                            }
                            ?>
        <?php
    }

//*********************************************************___________Comercializacion________***************************************
//************ SE OBTIENEN LOS NOMBRES DE LOS ARCHIVOS ****************

    public function info() {

        $files = get_filenames($this->folder, FALSE);

        if ($files) {
            $data['files'] = $files;
        } else {
            $data['files'] = NULL;
        }
        $this->load->view('filenames', $data);
    }

//************ DESCARGA DE ARCHIVOS ***********************

    public function downloads($name) {

        $data = file_get_contents($this->folder . $name);
        force_download($name, $data);
    }

    public function downloads2($name) {

        $data = file_get_contents($this->folder3 . $name);
        force_download($name, $data);
    }

    public function downloads4($name) {

        $data = file_get_contents($this->folder4 . $name);
        force_download($name, $data);
    }

    public function downloads5($name) {

        $data = file_get_contents($this->folder5 . $name);
        force_download($name, $data);
    }

    public function downloadsE($name) {

        $data = file_get_contents($this->folder8 . $name);
        force_download($name, $data);
    }

    public function downloadsSSEx($name) {

        $data = file_get_contents($this->folder10 . $name);
        force_download($name, $data);
    }

    public function downloadsInmueblesEx($name) {

        $data = file_get_contents($this->folder11 . $name);
        force_download($name, $data);
    }

    public function ReportesPDF() {
        // Se carga el modelo alumno
        $this->load->model("modelo", "PDF_modelo");
        // Se carga la libreria fpdf
        $this->load->library('Pdf');

        // Se obtienen los alumnos de la base de datos
        $recibos = $this->PDF_modelo->getNoRecibos();

        // Creacion del PDF

        /*
         * Se crea un objeto de la clase Pdf, recuerda que la clase Pdf
         * heredó todos las variables y métodos de fpdf
         */
        $this->pdf = new Pdf();
        // Agregamos una página
        $this->pdf->AddPage();
        // Define el alias para el número de página que se imprimirá en el pie
        $this->pdf->AliasNbPages();

        /* Se define el titulo, márgenes izquierdo, derecho y
         * el color de relleno predeterminado
         */
        $this->pdf->SetTitle("Recibo rabina");
        $this->pdf->SetLeftMargin(15);
        $this->pdf->SetRightMargin(15);
        $this->pdf->SetFillColor(200, 200, 200);

        // Se define el formato de fuente: Arial, negritas, tamaño 9
        $this->pdf->SetFont('Arial', 'B', 9);
        /*
         * TITULOS DE COLUMNAS
         *
         * $this->pdf->Cell(Ancho, Alto,texto,borde,posición,alineación,relleno);
         */
        foreach ($recibos as $recibo) {
            
        }
        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L', 'R', 'L'));
        $this->pdf->SetWidths(array(95, 65, 30));
        $this->pdf->Row(array(utf8_decode('Lomas del pedregal'), utf8_decode(''), html_entity_decode('')));
        $this->pdf->Row(array(utf8_decode('Zona Centro'), utf8_decode(''), html_entity_decode('')));
        $this->pdf->Row(array(utf8_decode('León, GTO. México.'), utf8_decode(''), html_entity_decode('')));
        $this->pdf->Row(array(utf8_decode('Tel. +52 (477) 779 72 21'), utf8_decode(''), html_entity_decode('')));
        $this->pdf->Row(array(utf8_decode('"TU PROTECCION NUESTRA MISION"'), utf8_decode('Número de recibo: '), html_entity_decode($recibo->ReciboNoRecibo)));
        $this->pdf->Ln(7);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(150));
        $this->pdf->RowDraw(array(utf8_decode('Recibí de:')), '1', 'true');
        $this->pdf->SetAligns(array('L', 'L', 'R'));
        $this->pdf->SetWidths(array(20, 100, 30));
        $this->pdf->Row(array(utf8_decode(''), utf8_decode($recibo->ReciboNombre), html_entity_decode('')));
        $this->pdf->Row(array(utf8_decode(''), utf8_decode($recibo->ReciboHonorarios), html_entity_decode($recibo->ReciboCantidad)));
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(150));
        $this->pdf->Row(array(''));
        $this->pdf->Ln(7);
        $this->pdf->SetAligns(array('L', 'R', 'R'));
        $this->pdf->SetWidths(array(95, 65, 15));
        $this->pdf->Row(array(utf8_decode(''), utf8_decode('Total: '), html_entity_decode($recibo->ReciboTotal)));


        // La variable $x se utiliza para mostrar un número consecutivo

        /*
         * Se manda el pdf al navegador
         *
         * $this->pdf->Output(nombredelarchivo, destino);
         *
         * I = Muestra el pdf en el navegador
         * D = Envia el pdf para descarga
         *
         */
        $this->pdf->Output("Lista de recibos.pdf", 'I');
    }

    public function OrdenCompraPDF() {
        $ID = $this->input->post('ID');

        // Se carga el modelo alumno
        $this->load->model("modelo", "PDF_modelo");
        // Se carga la libreria fpdf
        $this->load->library('Pdf');

        // Se obtienen los alumnos de la base de datos
        $Ordenes = $this->PDF_modelo->getOrdenesID($ID);

        $this->pdf = new Pdf();
        // Agregamos una página
        $this->pdf->AddPage();
        // Define el alias para el número de página que se imprimirá en el pie
        $this->pdf->AliasNbPages();

        /* Se define el titulo, márgenes izquierdo, derecho y
         * el color de relleno predeterminado
         */
        $this->pdf->SetTitle("Orden de compra");
        $this->pdf->SetLeftMargin(15);
        $this->pdf->SetRightMargin(15);
        $this->pdf->SetFillColor(150, 178, 152);

        // Se define el formato de fuente: Arial, negritas, tamaño 9
        $this->pdf->SetFont('Arial', 'B', 6);
        /*
         * TITULOS DE COLUMNAS
         *
         * $this->pdf->Cell(Ancho, Alto,texto,borde,posición,alineación,relleno);
         */
        foreach ($Ordenes as $recibo) {
            
        }

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('R', 'L'));
        $this->pdf->SetWidths(array(160, 15));
        $this->pdf->SetTextColor(255, 0, 0);
        $this->pdf->Row(array(utf8_decode('NÚMERO DE ORDEN: '), html_entity_decode($recibo->ID)));


        $USUARIOS = $this->PDF_modelo->getUSUARIOSID($recibo->Solicitante);
        foreach ($USUARIOS as $USUARIOS1) {
            
        }
        $contrtcs = "";
        $Contrat = explode(',', $recibo->multiple);
        $x = count($Contrat);
        for ($i = 0; $i < $x; $i++) {
            $Proyecto = $this->PDF_modelo->getContratosID2($Contrat[$i]);
            foreach ($Proyecto as $Proyecto1) {
                
            }
            $NumProy[$i] = $Proyecto1->Folio;
            $contrtcs.=$NumProy[$i] . ", ";
        }

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw2(array(utf8_decode('SOLICITANTE: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)), '1', 'true');
        $this->pdf->SetAligns(array('L', 'R', 'L'));
        $this->pdf->SetWidths(array(85, 10, 85));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->Row5(array(utf8_decode('LUGAR DE ENTREGA'), utf8_decode(''), html_entity_decode('APLICAR A CONTRATOS: ')));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('PROYECTO: ') . utf8_decode($recibo->Fracc), utf8_decode(''), html_entity_decode('') . utf8_decode($contrtcs)));
        $this->pdf->Row(array(utf8_decode(' ') . utf8_decode($recibo->Localidad), utf8_decode(''), html_entity_decode('')));

        $USUARIOS2 = $this->PDF_modelo->getUSUARIOSID($recibo->Facturar);
        foreach ($USUARIOS2 as $USUARIOS3) {
            
        }

        $this->pdf->SetAligns(array('L', 'R', 'L'));
        $this->pdf->SetWidths(array(85, 10, 85));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->Row5(array(utf8_decode('PROVEEDOR:') . utf8_decode($recibo->Proveedor),
            utf8_decode(''), html_entity_decode('FACTURAR A: ') . utf8_decode($USUARIOS3->nombre . " " . $USUARIOS3->apaterno . " " . $USUARIOS3->amaterno)));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('DOMICILIO: ') . utf8_decode($recibo->Domicilio), utf8_decode(''), html_entity_decode('DOMICILIO: ') . utf8_decode($USUARIOS3->Domicilio . " " . $USUARIOS3->Colonia . " " . $USUARIOS3->CP . " " . $USUARIOS3->Municipio . " " . $USUARIOS3->Estado)));
        $this->pdf->Row(array(utf8_decode('TEL: ') . utf8_decode($recibo->Telefono), utf8_decode(''), html_entity_decode('TEL: ') . utf8_decode($USUARIOS3->Tel)));
        $this->pdf->Row(array(utf8_decode('CORREO: ') . utf8_decode($recibo->Correo), utf8_decode(''), html_entity_decode('CORREO: ') . utf8_decode($USUARIOS3->Correo) . html_entity_decode(', areatecnica@rabina.com.mx')));
        $this->pdf->Row(array(utf8_decode('PÁGINA: ') . html_entity_decode($recibo->Pagina), utf8_decode(''), html_entity_decode('RFC: ') . utf8_decode($USUARIOS3->RFC)));
        $this->pdf->SetFont('Arial', 'B', 8);
        $this->pdf->Ln(7);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));

        $Etiqueta = $this->PDF_modelo->getEtiquetaID($recibo->Etiquet);
        foreach ($Etiqueta as $Etiqueta1) {
            
        }
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw(array(html_entity_decode($Etiqueta1->dsc_conceptos)), '1', 'true');
        $this->pdf->SetTextColor(0, 0, 0);
        $Subtotal = 0;
        $Prd = explode(',', $recibo->Productos);
        $Cnt = explode(',', $recibo->Cantidad);
        $CntL = explode(',', $recibo->CantidadLetras);
        $x = count($Prd);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetAligns(array('C', 'C', 'C', 'C', 'C', 'C'));
        $this->pdf->SetWidths(array(15, 35, 15, 85, 15, 15));
        $this->pdf->Row2(array(utf8_decode('CANTIDAD'), utf8_decode('CANTIDAD CON LETRA'), utf8_decode('UNIDAD'), utf8_decode('CONCEPTO'), utf8_decode('PU'), utf8_decode('IMPORTE')));

        for ($i = 0; $i < $x - 1; $i++) {
            $Productos = $this->PDF_modelo->getProductosFolio($Prd[$i]);
            foreach ($Productos as $Productos1) {
                
            }

            $Precio = $this->PDF_modelo->getProductosFolioProv($Prd[$i], $recibo->Proveed);
            foreach ($Precio as $Precio1) {
                
            }

            $importe = $Cnt[$i] * $Precio1->Precio;
            $Subtotal+=$importe;

            $this->pdf->SetAligns(array('C', 'R', 'L', 'L', 'R', 'R'));
            $this->pdf->SetWidths(array(15, 35, 15, 85, 15, 15));
            $this->pdf->Row3(array(utf8_decode(number_format($Cnt[$i], 0, '.', ',')), utf8_decode($CntL[$i]), utf8_decode($Productos1->UnidadMedida), utf8_decode($Productos1->Producto . " " . $Productos1->Marca . " " . $Productos1->UnidadMedida), utf8_decode(number_format($Precio1->Precio, 2, '.', ',')), utf8_decode(number_format($importe, 2, '.', ','))));
        }
        $this->pdf->Ln(7);
//$this->pdf->Ln(7);
        $this->pdf->SetAligns(array('R', 'R'));
        $this->pdf->SetWidths(array(160, 15));
        $IVA = $Subtotal * 0.16;
        $total = $Subtotal + $IVA;
        $this->pdf->Row(array(utf8_decode('Subtotal: '), html_entity_decode(number_format($Subtotal, 2, '.', ','))));
        $this->pdf->Row(array(utf8_decode('IVA: '), html_entity_decode(number_format($IVA, 2, '.', ','))));
        $this->pdf->Row(array(utf8_decode('Total: '), html_entity_decode(number_format($total, 2, '.', ','))));

        $this->pdf->Ln(7);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('APROBADO POR: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)));
        $this->pdf->Row(array(utf8_decode('ELABORADO POR: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)));


        $this->pdf->Output("Orden de compra.pdf", 'I');
    }

    public function OrdenCompraPDFID() {
        $ID = $this->input->post('ID');

        // Se carga el modelo alumno
        $this->load->model("modelo", "PDF_modelo");
        // Se carga la libreria fpdf
        $this->load->library('Pdf');

        // Se obtienen los alumnos de la base de datos
        $Ordenes = $this->PDF_modelo->getOrdenesID($ID);

        $this->pdf = new Pdf();
        // Agregamos una página
        $this->pdf->AddPage();
        // Define el alias para el número de página que se imprimirá en el pie
        $this->pdf->AliasNbPages();

        /* Se define el titulo, márgenes izquierdo, derecho y
         * el color de relleno predeterminado
         */
        $this->pdf->SetTitle("Orden de compra");
        $this->pdf->SetLeftMargin(15);
        $this->pdf->SetRightMargin(15);
        $this->pdf->SetFillColor(150, 178, 152);

        // Se define el formato de fuente: Arial, negritas, tamaño 9
        $this->pdf->SetFont('Arial', 'B', 6);
        /*
         * TITULOS DE COLUMNAS
         *
         * $this->pdf->Cell(Ancho, Alto,texto,borde,posición,alineación,relleno);
         */
        //echo "Archivo descargado";
        foreach ($Ordenes as $recibo) {
            
        }

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('R', 'L'));
        $this->pdf->SetWidths(array(160, 15));
        $this->pdf->SetTextColor(255, 0, 0);
        $this->pdf->Row(array(utf8_decode('NÚMERO DE ORDEN: '), html_entity_decode($recibo->ID)));


        $USUARIOS = $this->PDF_modelo->getUSUARIOSID($recibo->Solicitante);
        foreach ($USUARIOS as $USUARIOS1) {
            
        }
        $contrtcs = "";
        $Contrat = explode(',', $recibo->multiple);
        $x = count($Contrat);
        for ($i = 0; $i < $x; $i++) {
            $Proyecto = $this->PDF_modelo->getContratosID2($Contrat[$i]);
            foreach ($Proyecto as $Proyecto1) {
                
            }
            $NumProy[$i] = $Proyecto1->Folio;
            $contrtcs.=$NumProy[$i] . ", ";
        }

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw2(array(utf8_decode('SOLICITANTE: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)), '1', 'true');
        $this->pdf->SetAligns(array('L', 'R', 'L'));
        $this->pdf->SetWidths(array(85, 10, 85));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->Row5(array(utf8_decode('LUGAR DE ENTREGA'), utf8_decode(''), html_entity_decode('APLICAR A CONTRATOS: ')));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('PROYECTO: ') . utf8_decode($recibo->Fracc), utf8_decode(''), html_entity_decode('') . utf8_decode($contrtcs)));
        $this->pdf->Row(array(utf8_decode(' ') . utf8_decode($recibo->Localidad), utf8_decode(''), html_entity_decode('')));

        $USUARIOS2 = $this->PDF_modelo->getUSUARIOSID($recibo->Facturar);
        foreach ($USUARIOS2 as $USUARIOS3) {
            
        }

        $this->pdf->SetAligns(array('L', 'R', 'L'));
        $this->pdf->SetWidths(array(85, 10, 85));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->Row5(array(utf8_decode('PROVEEDOR:') . utf8_decode($recibo->Proveedor),
            utf8_decode(''), html_entity_decode('FACTURAR A: ') . utf8_decode($USUARIOS3->nombre . " " . $USUARIOS3->apaterno . " " . $USUARIOS3->amaterno)));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('DOMICILIO: ') . utf8_decode($recibo->Domicilio), utf8_decode(''), html_entity_decode('DOMICILIO: ') . utf8_decode($USUARIOS3->Domicilio . " " . $USUARIOS3->Colonia . " " . $USUARIOS3->CP . " " . $USUARIOS3->Municipio . " " . $USUARIOS3->Estado)));
        $this->pdf->Row(array(utf8_decode('TEL: ') . utf8_decode($recibo->Telefono), utf8_decode(''), html_entity_decode('TEL: ') . utf8_decode($USUARIOS3->Tel)));
        $this->pdf->Row(array(utf8_decode('CORREO: ') . utf8_decode($recibo->Correo), utf8_decode(''), html_entity_decode('CORREO: ') . utf8_decode($USUARIOS3->Correo) . html_entity_decode(', areatecnica@rabina.com.mx')));
        $this->pdf->Row(array(utf8_decode('PÁGINA: ') . html_entity_decode($recibo->Pagina), utf8_decode(''), html_entity_decode('RFC: ') . utf8_decode($USUARIOS3->RFC)));
        $this->pdf->SetFont('Arial', 'B', 8);
        $this->pdf->Ln(7);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));

        $Etiqueta = $this->PDF_modelo->getEtiquetaID($recibo->Etiquet);
        foreach ($Etiqueta as $Etiqueta1) {
            
        }
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw(array(html_entity_decode($Etiqueta1->dsc_conceptos)), '1', 'true');
        $this->pdf->SetTextColor(0, 0, 0);
        $Subtotal = 0;
        $Prd = explode(',', $recibo->Productos);
        $Cnt = explode(',', $recibo->Cantidad);
        $CntL = explode(',', $recibo->CantidadLetras);
        $x = count($Prd);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetAligns(array('C', 'C', 'C', 'C', 'C', 'C'));
        $this->pdf->SetWidths(array(15, 35, 15, 85, 15, 15));
        $this->pdf->Row2(array(utf8_decode('CANTIDAD'), utf8_decode('CANTIDAD CON LETRA'), utf8_decode('UNIDAD'), utf8_decode('CONCEPTO'), utf8_decode('PU'), utf8_decode('IMPORTE')));

        for ($i = 0; $i < $x - 1; $i++) {
            $Productos = $this->PDF_modelo->getProductosFolio($Prd[$i]);
            foreach ($Productos as $Productos1) {
                
            }

            $Precio = $this->PDF_modelo->getProductosFolioProv($Prd[$i], $recibo->Proveed);
            foreach ($Precio as $Precio1) {
                
            }

            $importe = $Cnt[$i] * $Precio1->Precio;
            $Subtotal+=$importe;

            $this->pdf->SetAligns(array('C', 'R', 'L', 'L', 'R', 'R'));
            $this->pdf->SetWidths(array(15, 35, 15, 85, 15, 15));
            $this->pdf->Row3(array(utf8_decode(number_format($Cnt[$i], 0, '.', ',')), utf8_decode($CntL[$i]), utf8_decode($Productos1->UnidadMedida), utf8_decode($Productos1->Producto . " " . $Productos1->Marca . " " . $Productos1->UnidadMedida), utf8_decode(number_format($Precio1->Precio, 2, '.', ',')), utf8_decode(number_format($importe, 2, '.', ','))));
        }
        $this->pdf->Ln(7);
//$this->pdf->Ln(7);
        $this->pdf->SetAligns(array('R', 'R'));
        $this->pdf->SetWidths(array(160, 15));
        $IVA = $Subtotal * 0.16;
        $total = $Subtotal + $IVA;
        $this->pdf->Row(array(utf8_decode('Subtotal: '), html_entity_decode(number_format($Subtotal, 2, '.', ','))));
        $this->pdf->Row(array(utf8_decode('IVA: '), html_entity_decode(number_format($IVA, 2, '.', ','))));
        $this->pdf->Row(array(utf8_decode('Total: '), html_entity_decode(number_format($total, 2, '.', ','))));

        $this->pdf->Ln(7);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->Row(array(utf8_decode('APROBADO POR: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)));
        $this->pdf->Row(array(utf8_decode('ELABORADO POR: ') . utf8_decode($USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno)));

        $this->pdf->Output("Orden de compra.pdf", 'D');
    }

    public function ContratistasDes() {
        $Ndesarrollo = $_POST["Ndesarrollo"];
        //Abriendo BD Proyectos
        $this->load->model("modelo", "ConceptoP2");
        $ConceptoP2 = $this->ConceptoP2->getConceptosID($Ndesarrollo);
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Conceptos");
        $Conceptos = $this->Conceptos->getConceptoPAll();
        $data['Conceptos'] = $Conceptos;
        ?>     
        <div class="col-md-12 col-xs-12">
            <label for="2" class="control-label">Concepto de pago</label><br>
        </div>  
        <div class="col-md-12 col-xs-12">
            <select class="form-control" id="ConceptoP" name="ConceptoP" >
                <option value="0">Selecciona</option>
        <?php
        $i = 0;
        $r[0] = "-";
        foreach ($ConceptoP2 as $ConceptoP1) {
            $m = count($r);
            $encontro = "No";
            for ($i = 0; $i < $m; $i++) {
                if ($r[$i] == $ConceptoP1->ConceptoP) {
                    $encontro = "Si";
                }
            }
            if ($encontro == "No") {
                $r[$i] = $ConceptoP1->ConceptoP;
            }
        }

        $temp = count($r);
        for ($i = 1; $i < $temp; $i++) {
            $resp = "-";
            foreach ($Conceptos as $Conceptos1) {
                if ($Conceptos1->id_concepto == $r[$i]) {
                    $resp = $Conceptos1->dsc_concepto;
                }
            }
            ?> 
                    <option value="<?php echo $r[$i]; ?>"><?php echo $resp; ?></option>
        <?php } ?>
            </select>
        </div>
        <?php
    }

    public function ContratistasConcepto() {
        $ConceptoP = $_POST["ConceptoP"];
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Contratistas");
        $Contratistas = $this->Contratistas->getContratistasID($ConceptoP);
        $this->load->model("modelo", "Cont");
        $Cont = $this->Cont->getContratistas();
        ?>     
        <div class="col-md-12 col-xs-12">
            <label for="2" class="control-label">Contratista proveedor</label><br>
        </div>  
        <div class="col-md-12 col-xs-12">
            <select class="form-control" id="Contratistas" name="Contratistas" >
                <option value="0">Selecciona</option>
                        <?php
                        $i = 0;
                        $r[0] = "-";
                        foreach ($Contratistas as $Contratistas1) {
                            $m = count($r);
                            $encontro = "No";
                            for ($i = 0; $i < $m; $i++) {
                                if ($r[$i] == $Contratistas1->Contratistas) {
                                    $encontro = "Si";
                                }
                            }
                            if ($encontro == "No") {
                                $r[$i] = $Contratistas1->Contratistas;
                            }
                        }

                        $temp = count($r);
                        for ($i = 1; $i < $temp; $i++) {
                            $resp = "-";
                            foreach ($Cont as $Cont1) {
                                if ($Cont1->ID == $r[$i]) {
                                    $resp = $Cont1->Proveedor;
                                }
                            }
                            ?> 
                    <option value="<?php echo $r[$i]; ?>"><?php echo $resp; ?></option>
        <?php } ?>
            </select>
        </div>
        <?php
    }

    public function InformacionContratista() {
        $Contratistas = $_POST["Contratistas"];
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Rconceptos");
        $Rconceptos = $this->Rconceptos->getRconceptos($Contratistas);
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        //Abriendo BD Proyectos
        $this->load->model("modelo", "FormaPago");
        $FormaPago = $this->FormaPago->getFormaPago();
        $data['FormaPago'] = $FormaPago;
        //Abriendo BD Proyectos
        $this->load->model("modelo", "TipoComprobante");
        $TipoComprobante = $this->TipoComprobante->getTipoComprobante2();
        $data['TipoComprobante'] = $TipoComprobante;
        foreach ($Rconceptos as $Rconceptos1) {
            
        }
        ?> 
        <table width="100%">
            <tr>
                <td> 
                    <div class="col-md-4 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Precio unitario del trabajo</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input  style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()" type="text" class="form-control" name="Precio" id="Precio" value="<?php echo number_format($Rconceptos1->Precio, 2, '.', ',') ?>" required>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Número total de trabajos a realizar</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="TotalTrabajos" id="TotalTrabajos" value="<?php echo number_format($Rconceptos1->TotalTrabajos, 0, '.', ',') ?>" required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Monto</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"   type="text" class="form-control" name="MontoTrabajos" value="<?php echo number_format($Rconceptos1->MontoTrabajos, 2, '.', ',') ?>" id="MontoTrabajos" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Número total de trabajos realizados hasta la fecha</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="TrabajosRealizados" id="TrabajosRealizados" value="<?php echo number_format($Rconceptos1->TrabajosRealizados, 0, '.', ',') ?>" required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Monto</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"   type="text" class="form-control" name="MontoTrabajosRealizados"  value="<?php echo number_format($Rconceptos1->MontoTrabajosRealizados, 2, '.', ',') ?>" id="MontoTrabajosRealizados" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Número total de trabajos pendientes</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="TrabajosPendientes" id="TrabajosPendientes"  value="<?php echo number_format($Rconceptos1->TotalTrabajos - $Rconceptos1->TrabajosRealizados, 0, '.', ',') ?>" required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Monto</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"   type="text" class="form-control" name="MontoTrabajosPendientes" id="MontoTrabajosPendientes"  value="<?php echo number_format(($Rconceptos1->TotalTrabajos - $Rconceptos1->TrabajosRealizados) * $Rconceptos1->Precio, 2, '.', ',') ?>"  >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Número de trabajos a pagar</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()" type="number" step="0.01" class="form-control" name="TrabajosaPagar" id="TrabajosaPagar" required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Precio al que se pagarán</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"   type="text" class="form-control" name="PrecioPagar" id="PrecioPagar"  value="<?php echo number_format($Rconceptos1->Precio, 2, '.', ',') ?>" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12" id="ResultadoTrabajosNvos">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Monto del pago</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()" type="number" step="0.01" class="form-control" name="MontoPago" id="MontoPago" required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Fecha del pago</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="FechaPago" id="FechaPago"   value="<?php echo date("d/m/y") ?>"  >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Forma de pago</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">      
                            <select class="form-control" id="FormaPago" name="FormaPago" >
                                <option value="1">Efectivo</option>
        <?php foreach ($FormaPago as $FormaPago1) { ?> 
                                    <option value="<?php echo $FormaPago1->id_FormaPago; ?>"><?php echo $FormaPago1->dsc_FormaPago; ?></option>
        <?php } ?>
                            </select>                
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Tipo de comprobante de pago</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <select class="form-control" id="Comprobante" name="Comprobante" >
                                <option value="1">Firma en bitácora</option>
                        <?php foreach ($TipoComprobante as $TipoComprobante1) { ?> 
                                    <option value="<?php echo $TipoComprobante1->id_TipoComprobante; ?>"><?php echo $TipoComprobante1->dsc_TipoComprobante; ?></option>
        <?php } ?>
                            </select>         
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td> 
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="1" class="control-label">Fecha de inicio de trabajos</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input type="text" class="form-control" name="Inicio" id="Inicio"   value="<?php echo $Rconceptos1->Inicio ?>"  required>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Fecha de término de trabajos</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="Termino" id="Termino"   value="<?php echo $Rconceptos1->Termino ?>" >
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Nombre de quien realiza el pago</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <select class="form-control" id="Paga" name="Paga" >
                                <option value="4">ROGELIO ALEJANDRO RAMÍREZ URBINA</option>
            <?php foreach ($USUARIOS as $USUARIOS1) { ?> 
                                    <option value="<?php echo $USUARIOS1->Id; ?>"><?php echo $USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno; ?></option>
            <?php } ?>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">	
                        <div class="col-md-12 col-xs-12">
                            <label for="2" class="control-label">Observaciones</label><br>
                        </div>  
                        <div class="col-md-12 col-xs-12">
                            <input style="text-transform:uppercase" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="Observaciones" id="Observaciones">
                        </div>
                    </div>
                </td>
            </tr>
        </table>
            <?php
        }

        public function MontoPagoNvo() {
            $TrabajosaPagar = $_POST["TrabajosaPagar"];
            $PrecioPagar = $_POST["PrecioPagar"];
            $n = str_replace(",", "", $PrecioPagar);
            $MontoPago = $TrabajosaPagar * $n;
            ?>     
        <div class="col-md-12 col-xs-12">
            <label for="1" class="control-label">Monto del pago</label><br>
        </div>  
        <div class="col-md-12 col-xs-12">
            <input style="text-transform:uppercase; color:#F30;" onkeyup="javascript:this.value = this.value.toUpperCase()"  type="text" class="form-control" name="MontoPago" id="MontoPago"  value="<?php echo number_format($MontoPago, 2, '.', ',') ?>"  required>
        </div>
                        <?php
                    }

                    public function CalculoMonto() {
                        $Precio = $_POST["Precio"];
                        $TotalTrabajos = $_POST["TotalTrabajos"];
                        $Resultado = $TotalTrabajos * $Precio;
                        ?>    
        <div class="col-md-12 col-xs-12">
            <label for="2" class="control-label">Monto total por trabajos a realizar</label><br>
        </div>  
        <div class="col-md-12 col-xs-12">
            <input   type="text" class="form-control" name="MontoTrabajos" id="MontoTrabajos" value="<?php echo number_format($Resultado, 2, '.', ',') ?>" >
        </div>
            <?php
        }

        public function RLotes() {
            $Ndesarrollo = $_POST["Ndesarrollo"];
            //Proyectos
            $this->load->model("modelo", "Lotes");
            $Lotes = $this->Lotes->getLotesID($Ndesarrollo);
            ?>    
        <div class="col-md-12 col-xs-12">
            Lote(s):
        </div>
        <div class="col-md-12 col-xs-12">
            <select class="form-control" size="5" multiple="multiple" id="LotesM[]" name="LotesM[]" required="required">
                <option value="">Selecciona</option>
        <?php foreach ($Lotes as $Lotes1) { ?> 
                    <option value="<?php echo $Lotes1->ID; ?>"><?php echo "Lote " . $Lotes1->Numero; ?></option>
        <?php } ?>
            </select>
            </br>
        </div>  
        <?php
    }

    public function RLotes2() {
        $Ndesarrollo = $_POST["Ndesarrollo"];
        $ConceptoP = $_POST["ConceptoP"];
        //Proyectos
        $this->load->model("modelo", "Lotes");
        $Lotes = $this->Lotes->getLotesID($Ndesarrollo);
        ?>    
        <div class="col-md-12 col-xs-12">
            Lote(s):
        </div>
        <div class="col-md-12 col-xs-12">
            <select class="form-control" size="5" multiple="multiple" id="LotesM[]" name="LotesM[]" required="required">
                <option value="">Selecciona</option>
        <?php
        foreach ($Lotes as $Lotes1) {
            $Conp = explode(',', $Lotes1->Conceptos);
            $C = count($Conp);
            if (empty($Lotes1->Conceptos)) {
                ?><option value="<?php echo $Lotes1->ID; ?>"><?php echo "Lote " . $Lotes1->Numero; ?></option>
                <?php
            } else {
                $m = "";
                for ($i = 0; $i < $C; $i++) {
                    if ($Conp[$i] == $ConceptoP) {
                        $m = $ConceptoP;
                    }
                }
                if (empty($m)) {
                    ?><option value="<?php echo $Lotes1->ID; ?>"><?php echo "Lote " . $Lotes1->Numero; ?></option>
                <?php
                }
            }
        }
        ?>
            </select>
            </br>
        </div>  
        <?php
    }

    public function RepxConceptos() {
        $ConceptoP = $_POST["ConceptoP"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');

        //Abriendo BD Proyectos
        $this->load->model("modelo", "ContratistasPagos");
        $ContratistasPagos = $this->ContratistasPagos->getContratistasPagosAll1($ConceptoP);
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Conceptos");
        $Conceptos = $this->Conceptos->getConceptoPAll();
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Contratistas");
        $Contratistas = $this->Contratistas->getContratistas();

        $this->load->model("modelo", "General");
        //Abriendo cobranza
        //$Edocuenta = $this->General->getCobranzaDepositos($Folio); 
        //Abriendo BD cliente 
        ?>
        <table width="100%">    
        <?php
        $TotalPagado = 0;
        $TotalDeuda = 0;
        if ($ConceptoP != '0') {
            ?>
                <tr>
                    <td bgcolor="#99A79A">
                        <div class="col-md-3 col-xs-12" align="center" style="background-color:#99A79A">
                            Contratista
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Fecha del trabajo realizado 
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de trabajos realizados
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto pagado por el trabajo realizado
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de últimos trabajos realizados
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto pagado por últimos trabajos
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de trabajos por realizar
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto de trabajos por realizar
                        </div>
                        <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">

                        </div>
                    </td>
                </tr> 
            <?php
            foreach ($ContratistasPagos as $ContratistasPagos1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $ContratistasPagos1->FechaPago);
                $fecha = date_format($Valor, 'Ymd');
                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    $TotalPagado = $TotalPagado + $ContratistasPagos1->MontoTrabajosRealizados;
                    $TotalDeuda = $ContratistasPagos1->MontoTrabajosPendientes - $ContratistasPagos1->MontoPago;
                    ?>  
                        <tr>
                            <td>
                                <div class="col-md-3 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Contratistas as $temp) {
                        if ($temp->ID == $ContratistasPagos1->Contratistas) {
                            $respuesta = $temp->Proveedor;
                        }
                    }
                    echo $respuesta
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosRealizados ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo number_format($ContratistasPagos1->MontoTrabajosRealizados, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosaPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo number_format($ContratistasPagos1->MontoPago, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosPendientes - $ContratistasPagos1->TrabajosaPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                            <?php echo number_format(($ContratistasPagos1->TrabajosPendientes - $ContratistasPagos1->TrabajosaPagar) * $ContratistasPagos1->PrecioPagar, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-2 col-xs-12" align="center">

                                </div>
                            </td>
                        </tr> 

                                <?php
                            }
                        }
                        ?>
                <tr>
                    <td>
                        <div class="col-md-8 col-xs-12" align="center">

                        </div>
                        <div class="col-md-4 col-xs-12" align="right">
            <?php echo "Total de trabajos pagados: $" . number_format($TotalPagado, 2, '.', ',') ?>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-8 col-xs-12" align="center">

                        </div>
                        <div class="col-md-4 col-xs-12" align="right">
            <?php echo "Total de trabajos pendientes por pagar: $" . number_format($TotalDeuda, 2, '.', ',') ?>
                        </div>
                    </td>
                </tr>
                <?php
            } else {
                ?>	
                <tr>
                    <td bgcolor="#99A79A">
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Concepto
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Contratista
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Fecha del trabajo realizado 
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de trabajos realizados
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto pagado por el trabajo realizado
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de últimos trabajos realizados
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto pagado por últimos trabajos
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Número de trabajos por realizar
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">
                            Monto de trabajos por realizar
                        </div>
                        <div class="col-md-1 col-xs-12" align="center" style="background-color:#99A79A">

                        </div>
                    </td>
                </tr>
            <?php
            $ContratistasPagos3 = $this->ContratistasPagos->getContratistasPagosAlltodos();
            foreach ($ContratistasPagos3 as $ContratistasPagos1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $ContratistasPagos1->FechaPago);
                $fecha = date_format($Valor, 'Ymd');

                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    ?>       
                        <tr>
                            <td>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Conceptos as $temp) {
                        if ($temp->id_concepto == $ContratistasPagos1->ConceptoP) {
                            $respuesta = $temp->dsc_concepto;
                        }
                    }
                    echo $respuesta
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Contratistas as $temp) {
                        if ($temp->ID == $ContratistasPagos1->Contratistas) {
                            $respuesta = $temp->Proveedor;
                        }
                    }
                    echo $respuesta
                    ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->FechaPago ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosRealizados ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo number_format($ContratistasPagos1->MontoTrabajosRealizados, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosaPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo number_format($ContratistasPagos1->MontoPago, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo $ContratistasPagos1->TrabajosPendientes - $ContratistasPagos1->TrabajosaPagar ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">
                    <?php echo number_format(($ContratistasPagos1->TrabajosPendientes - $ContratistasPagos1->TrabajosaPagar) * $ContratistasPagos1->PrecioPagar, 2, '.', ',') ?>
                                </div>
                                <div class="col-md-1 col-xs-12" align="center">

                                </div>
                            </td>
                        </tr>    
                    <?php
                }
            }
        }
        ?>
            <tr>
                <td>
                    <div class="col-xs-12 col-sm-12">
                        </br>
                    </div>
                </td>
            </tr>   
        </table>
        <?php
    }

    public function GrafxConcepto() {
        $ConceptoP = $_POST["ConceptoP"];
        $Ndesarrollo = $_POST["Ndesarrollo"];
        //Abriendo BD Proyectos
        $this->load->model("modelo", "ContratistasPagos");
        $ContratistasPagos = $this->ContratistasPagos->getContratistasPagosAll($Ndesarrollo, $ConceptoP);
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Conceptos");
        $Conceptos = $this->Conceptos->getConceptoPAll();

        $r = 0;
        $u = 0;
        $p = 0;
        foreach ($ContratistasPagos as $ContratistasPagos1) {
            $r = $r + $ContratistasPagos1->TrabajosaPagar;
            $u = $ContratistasPagos1->TrabajosaPagar;
            $p = $ContratistasPagos1->TrabajosPendientes - $ContratistasPagos1->TrabajosaPagar;
        }

        $respuesta = '-';
        foreach ($Conceptos as $temp) {
            if ($temp->id_concepto == $ConceptoP) {
                $respuesta = $temp->dsc_concepto;
            }
        }
        ?>    
        <div class="col-md-6 col-xs-12" id="GrafxTrabajo">
            <canvas id="Barra2" />
        </div>  
        <?php
        ?>
        <script>
            var data2 = {
            labels : [
        <?php echo '"' . $respuesta . '"' ?>
            ],
                    datasets : [
                    {
                    label: "Realizados",
                            fillColor : "rgba(118,207,40,1)",
                            strokeColor : "rgba(118,207,40,0.8)",
                            highlightFill: "rgba(118,207,40,0.75)",
                            highlightStroke: "rgba(118,207,40,0.5)",
                            data : [<?php echo $r ?>]
                    },
                    {
                    label: "Pendientes",
                            fillColor : "rgba(251,32,32,1)",
                            strokeColor : "rgba(251,32,32,0.8)",
                            highlightFill: "rgba(251,32,32,0.75)",
                            highlightStroke: "rgba(251,32,32,0.5)",
                            data : [<?php echo $p ?>]
                    }
                    ]

           };
            var Barras2 = document.getElementById("Barra2").getContext("2d");
            window.myBarra2 = new Chart(Barras2).Bar(data2, {
            animationEasing : "easeOutBounce",
                    animateRotate : true,
                    animateScale : false,
                    scaleFontSize : 10,
                    scaleFontColor : "#666666",
                    //scaleOverride: true,
                    //scaleSteps: 10,
                    //scaleStepWidth: 1,
                    //scaleStartValue: 0,
                    scaleShowGridLines : true,
                    scaleGridLineColor : "rgba(255,255,255,.05)",
                    scaleGridLineWidth : 1,
                    barShowStroke : true,
                    barStrokeWidth : 1,
                    responsive : true
            });
            legend(document.getElementById("legendDiv2"), data2);
            // document.getElementById("legendDiv2").innerHTML = myBarra2.generateLegend();
        </script>

        <?php
    }

    public function GrafxMonto() {
        $ConceptoP = $_POST["ConceptoP"];
        $Ndesarrollo = $_POST["Ndesarrollo"];
        //Abriendo BD Proyectos
        $this->load->model("modelo", "ContratistasPagos");
        $ContratistasPagos = $this->ContratistasPagos->getContratistasPagosAll($Ndesarrollo, $ConceptoP);
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Conceptos");
        $Conceptos = $this->Conceptos->getConceptoPAll();

        $r = 0;
        $u = 0;
        $p = 0;
        foreach ($ContratistasPagos as $ContratistasPagos1) {
            $r = $r + $ContratistasPagos1->MontoPago;
            $u = $ContratistasPagos1->MontoPago;
            $p = $ContratistasPagos1->MontoTrabajosPendientes - $ContratistasPagos1->MontoPago;
        }

        $respuesta = '-';
        foreach ($Conceptos as $temp) {
            if ($temp->id_concepto == $ConceptoP) {
                $respuesta = $temp->dsc_concepto;
            }
        }
        ?>    
        <div class="col-md-6 col-xs-12" id="GrafxMonto2">
            <canvas id="Barra3" />
        </div>  
        <?php ?>
        <script>
            var data3 = {
            labels : [
        <?php echo '"' . $respuesta . '"' ?>
            ],
                    datasets : [
                    {
                    label: "Realizados",
                            fillColor : "rgba(118,207,40,1)",
                            strokeColor : "rgba(118,207,40,0.8)",
                            highlightFill: "rgba(118,207,40,0.75)",
                            highlightStroke: "rgba(118,207,40,0.5)",
                            data : [<?php echo $r ?> ]
                    },
                    {
                    label: "Pendientes",
                            fillColor : "rgba(251,32,32,1)",
                            strokeColor : "rgba(251,32,32,0.8)",
                            highlightFill: "rgba(251,32,32,0.75)",
                            highlightStroke: "rgba(251,32,32,0.5)",
                            data : [<?php echo $p ?> ]
                    }
                    ]

           };
            var Barras3 = document.getElementById("Barra3").getContext("2d");
            window.myBarra3 = new Chart(Barras3).Bar(data3, {
            animationEasing : "easeOutBounce",
                    animateRotate : true,
                    animateScale : false,
                    scaleFontSize : 10,
                    scaleFontColor : "#666666",
                    //scaleOverride: true,
                    //scaleSteps: 10,
                    //scaleStepWidth: 1,
                    //scaleStartValue: 0,
                    scaleShowGridLines : true,
                    scaleGridLineColor : "rgba(255,255,255,.05)",
                    scaleGridLineWidth : 1,
                    barShowStroke : true,
                    barStrokeWidth : 1,
                    responsive : true
            });
            legend(document.getElementById("legendDiv3"), data3);
            // document.getElementById("legendDiv2").innerHTML = myBarra2.generateLegend();
        </script>

        <?php
    }

    public function GrafxComportamiento() {
        $ConceptoP = $_POST["ConceptoP"];
        $Ndesarrollo = $_POST["Ndesarrollo"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');


        //Abriendo BD Proyectos
        $this->load->model("modelo", "ContratistasPagos");
        $ContratistasPagos = $this->ContratistasPagos->getContratistasPagosAll($Ndesarrollo, $ConceptoP);
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Conceptos");
        $Conceptos = $this->Conceptos->getConceptoPAll();

        $f[] = "";
        $c[] = "";

        for ($i = 1; $i < 37; $i++) {
            $r[$i] = 0;
        }
        $i = 0;
        foreach ($ContratistasPagos as $ContratistasPagos1) {
            $Valor = date_create_from_format('d/m/Y', $ContratistasPagos1->FechaPago);
            $fecha = date_format($Valor, 'Ymd');

            if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                $f[$i] = $ContratistasPagos1->FechaPago;
                $c[$i] = $ContratistasPagos1->TrabajosaPagar;
                $i++;
            }
        }
        $m = count($f);
        ?>    
        <div class="col-md-10 col-xs-12" id="GrafxComportamiento">
            <canvas id="Barra1" />
        </div>  
        <?php
        ?>

        <script>
            var data1 = {
            labels : [
        <?php
        for ($i = 0; $i < $m; $i++) {
            echo '"' . $f[$i] . '",';
        }
        ?>
            ],
                    datasets : [
                    {
                    label: "Realizados",
                            fillColor : "rgba(118,207,40,1)",
                            strokeColor : "rgba(118,207,40,0.8)",
                            highlightFill: "rgba(118,207,40,0.75)",
                            highlightStroke: "rgba118,207,40,0.5)",
                            data : [
        <?php
        for ($i = 0; $i < $m; $i++) {
            echo $c[$i] . ',';
        }
        ?>
                            ]
                    }
                    ]

            };
            var Barras1 = document.getElementById("Barra1").getContext("2d");
            window.myBarra1 = new Chart(Barras1).Bar(data1, {
            animationEasing : "easeOutBounce",
                    animateRotate : true,
                    animateScale : false,
                    scaleFontSize : 6.5,
                    scaleFontColor : "#666666",
                    //scaleOverride: true,
                    //scaleSteps: 10,
                    //scaleStepWidth: 1,
                    //scaleStartValue: 0,
                    scaleShowGridLines : true,
                    scaleGridLineColor : "rgba(255,255,255,.05)",
                    scaleGridLineWidth : 1,
                    barShowStroke : true,
                    barStrokeWidth : 1,
                    responsive : true
            });
            legend(document.getElementById("legendDiv1"), data1);
            //document.getElementById("legendDiv1").innerHTML = myBarra1.generateLegend();
        </script> 

        <?php
    }

//*********************cemento
    public function Cemento() {
        $where = '';
        $this->load->model("modelo", "datos");
        $CementoID = $this->input->post('CementoID');
        $indiceuser = $this->input->post('user');

        if ($CementoID == 'Cemento_1') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Pais
            $where = '';
            $this->load->model("modelo", "Pais");
            $d_Pais = $this->Pais->getPais($where);
            $data['Pais'] = $d_Pais;
            //Abriendo BD Estado
            $where = '';
            $this->load->model("modelo", "Estado");
            $d_Estado = $this->Estado->getEstado2($where);
            $data['Estado'] = $d_Estado;
            //Abriendo BD Ciudad
            $where = '';
            $this->load->model("modelo", "Ciudad");
            $d_Ciudad = $this->Ciudad->getCiudad2($where);
            $data['Ciudad'] = $d_Ciudad;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cemento_1';
            $this->_renderView($data);
        }
        if ($CementoID == 'Cemento_2') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Comercializador");
            $Comercializador = $this->Comercializador->getComercializador();
            $data['Comercializador'] = $Comercializador;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Marca");
            $Marca = $this->Marca->getMarca();
            $data['Marca'] = $Marca;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cemento_2';
            $this->_renderView($data);
        }
        if ($CementoID == 'Cemento_3') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Comercializador");
            $Comercializador = $this->Comercializador->getComercializador();
            $data['Comercializador'] = $Comercializador;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cemento_3';
            $this->_renderView($data);
        }
        if ($CementoID == 'Cemento_4') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Comercializador");
            $Comercializador = $this->Comercializador->getComercializador();
            $data['Comercializador'] = $Comercializador;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cemento_4';
            $this->_renderView($data);
        }
        if ($CementoID == 'Cemento_5') {
            $this->load->model("modelo", "USUARIOS");
            $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
            $data['USUARIOS'] = $USUARIOS;
            $data['User'] = $indiceuser;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Comercializador");
            $Comercializador = $this->Comercializador->getComercializador();
            $data['Comercializador'] = $Comercializador;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "ComerPrecios");
            $ComerPrecios = $this->ComerPrecios->getComerPrecios();
            $data['ComerPrecios'] = $ComerPrecios;
            //Abriendo BD Comercializador
            $this->load->model("modelo", "Marca");
            $Marca = $this->Marca->getMarca();
            $data['Marca'] = $Marca;
            $data['scripts'] = array('cliente');
            $data['contentView'] = 'Cemento_5';
            $this->_renderView($data);
        }
    }

    public function ComercializadoresCemento() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Nombre = $this->input->post('Nombre');
        $Tel = $this->input->post('Tel');
        $Pagina = $this->input->post('Pagina');
        $Direccion = $this->input->post('Direccion');
        $Numero = $this->input->post('Numero');
        $Pais = $this->input->post('Pais');
        $Estado = $this->input->post('Estado');
        $Ciudad = $this->input->post('Ciudad');
        $datos = $this->datos->getComercializadoresCemento(
                $Nombre, $Tel, $Pagina, $Direccion, $Numero, $Pais, $Estado, $Ciudad
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Pais
        $where = '';
        $this->load->model("modelo", "Pais");
        $d_Pais = $this->Pais->getPais();
        $data['Pais'] = $d_Pais;
        //Abriendo BD Estado
        $where = '';
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2();
        $data['Estado'] = $d_Estado;
        //Abriendo BD Ciudad
        $where = '';
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2();
        $data['Ciudad'] = $d_Ciudad;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cemento_1';
        $this->_renderView($data);
    }

    public function PreciosCemento() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $Fecha = $this->input->post('Fecha');
        $Comercializador = $this->input->post('Comercializador');
        $Atiende = $this->input->post('Atiende');
        $PrecioCblanco = $this->input->post('PrecioCblanco');
        $PrecioCgris = $this->input->post('PrecioCgris');
        $PrecioCmortero = $this->input->post('PrecioCmortero');
        $Marca = $this->input->post('Marca');
        $n = count($PrecioCblanco);
        echo $n;
        $datos = $this->datos->getPreciosCemento(
                $Fecha, $Comercializador, $Atiende, $PrecioCblanco, $PrecioCgris, $PrecioCmortero, $Marca
        );
        echo '<script>alert("Registro completo")</script>';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Comercializador
        $this->load->model("modelo", "Marca");
        $Marca = $this->Marca->getMarca();
        $data['Marca'] = $Marca;
        //Abriendo BD Comercializador
        $this->load->model("modelo", "Comercializador");
        $Comercializador = $this->Comercializador->getComercializador();
        $data['Comercializador'] = $Comercializador;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Cemento_2';
        $this->_renderView($data);
    }

    public function InfoComercializador() {
        $ComercializadorID = $_POST["Comercializador"];
        //Abriendo BD Comercializador
        $this->load->model("modelo", "Comercializador");
        $Comercializador = $this->Comercializador->getComercializadorID($ComercializadorID);

        foreach ($Comercializador as $Comercializador1) {
            
        }

        if (!empty($Comercializador)) {
            ?>
            <div class="col-md-12 col-xs-12">  
            <?php echo $Comercializador1->Nombre ?>
            </div>
            <div class="col-md-12 col-xs-12">  
            <?php echo "Tel.: " . $Comercializador1->Tel ?>
            </div>
            <div class="col-md-12 col-xs-12">  
            <?php echo $Comercializador1->Pagina ?>
            </div>
            <?php
        }
    }

    public function ReporteComercializador() {
        $ComercializadorID = $_POST["Comercializador"];
//Abriendo BD Comercializador
        $this->load->model("modelo", "Comercializador");
        $ComercializadorALL = $this->Comercializador->getComercializador();
        $Comercializador = $this->Comercializador->getComercializadorID($ComercializadorID);
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2();
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2();
        ?>
        <table width="100%" border="1" bordercolor="#9c9a9a">
        <?php
        if ($ComercializadorID == '0') {
            ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Nombre</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Teléfono</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Página</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Dirección</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Ciudad</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Estado</strong>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($ComercializadorALL as $ComercializadorALL1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $ComercializadorALL1->Nombre; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $ComercializadorALL1->Tel; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $ComercializadorALL1->Pagina; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $ComercializadorALL1->Direccion . " " . $ComercializadorALL1->Numero; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($d_Ciudad as $d_Ciudad1) {
                    if ($d_Ciudad1->id_ciudad == $ComercializadorALL1->Ciudad) {
                        $respuesta = $d_Ciudad1->dsc_ciudad;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($d_Estado as $d_Estado1) {
                    if ($d_Estado1->id_estado == $ComercializadorALL1->Estado) {
                        $respuesta = $d_Estado1->dsc_estado;
                    }
                }
                echo $respuesta;
                ?>
                            </div>          
                        </td>
                    </tr>
            <?php }
        } ?>
        <?php
        if ($ComercializadorID != '0') {
            ?>
                <tr>
                    <td bgcolor="#333333">
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Nombre</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Teléfono</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Página</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Dirección</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Ciudad</strong>
                        </div>
                        <div class="col-md-2 col-xs-12"  align="center">
                            <strong style="color:#FFF">Estado</strong>
                        </div>
                    </td>
                </tr>
            <?php
            foreach ($Comercializador as $Comercializador1) {
                ?>
                    <tr>
                        <td>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $Comercializador1->Nombre; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $Comercializador1->Tel; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $Comercializador1->Pagina; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $Comercializador1->Direccion . " " . $Comercializador1->Numero; ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($d_Ciudad as $d_Ciudad1) {
                    if ($d_Ciudad1->id_ciudad == $Comercializador1->Ciudad) {
                        $respuesta = $d_Ciudad1->dsc_ciudad;
                    }
                }
                echo $respuesta;
                ?>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                <?php
                $respuesta = '-';
                foreach ($d_Estado as $d_Estado1) {
                    if ($d_Estado1->id_estado == $Comercializador1->Estado) {
                        $respuesta = $d_Estado1->dsc_estado;
                    }
                }
                echo $respuesta;
                ?>
                            </div>          
                        </td>
                    </tr>
            <?php }
        } ?>
        <?php
    }

    public function RepPrecioss() {
        $Comercializador = $_POST["Comercializador"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');

        //Abriendo BD Comercializador
        $this->load->model("modelo", "Comercializador");
        $ComercializadorALL = $this->Comercializador->getComercializador();
        $this->load->model("modelo", "ComerPrecios");
        $ComerPrecios = $this->ComerPrecios->getComerPrecios();
        $ComerPreciosID = $this->ComerPrecios->getComerPreciosID($Comercializador);
        //Abriendo BD Estado
        $this->load->model("modelo", "Estado");
        $d_Estado = $this->Estado->getEstado2();
        //Abriendo BD Ciudad
        $this->load->model("modelo", "Ciudad");
        $d_Ciudad = $this->Ciudad->getCiudad2();
        //Abriendo BD Comercializador
        $this->load->model("modelo", "Marca");
        $Marca = $this->Marca->getMarca();
        ?>
            <table width="100%">    
        <?php
        if ($Comercializador != '0') {
            ?>
                    <tr>
                        <td bgcolor="#99A79A">
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Fecha
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Comercializador 
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Marca
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento Blanco
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento Gris Tipo II Portland
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento mortero o de albañilería
                            </div>
                        </td>
                    </tr> 
            <?php
            foreach ($ComerPreciosID as $ComerPreciosID1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $ComerPreciosID1->Fecha);
                $fecha = date_format($Valor, 'Ymd');
                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    ?>  
                            <tr>
                                <td>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $ComerPreciosID1->Fecha ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($ComercializadorALL as $temp) {
                        if ($temp->ID == $ComerPreciosID1->Comercializador) {
                            $respuesta = $temp->Nombre;
                        }
                    }
                    echo $respuesta
                    ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Marca as $Marca1) {
                        if ($Marca1->id_marca == $ComerPreciosID1->Marca) {
                            $respuesta = $Marca1->dsc_marca;
                        }
                    }
                    echo $respuesta;
                    ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCblanco, 2, '.', ',') ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCgris, 2, '.', ',') ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCmortero, 2, '.', ',') ?>
                                    </div>
                                </td>
                            </tr> 

                    <?php
                }
            }
        } else {
            ?>
                    <tr>
                        <td bgcolor="#99A79A">
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Fecha
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Comercializador 
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Marca
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento Blanco
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento Gris Tipo II Portland
                            </div>
                            <div class="col-md-2 col-xs-12" align="center" style="background-color:#99A79A">
                                Cemento mortero o de albañilería
                            </div>
                        </td>
                    </tr> 
            <?php
            foreach ($ComerPrecios as $ComerPreciosID1) {
                //$Valor=$Edocuenta1->FechaCobro;
                $Valor = date_create_from_format('d/m/Y', $ComerPreciosID1->Fecha);
                $fecha = date_format($Valor, 'Ymd');
                //$fecha = strtotime($Valor);
                if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                    ?>  
                            <tr>
                                <td>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo $ComerPreciosID1->Fecha ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($ComercializadorALL as $temp) {
                        if ($temp->ID == $ComerPreciosID1->Comercializador) {
                            $respuesta = $temp->Nombre;
                        }
                    }
                    echo $respuesta
                    ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php
                    $respuesta = '-';
                    foreach ($Marca as $Marca1) {
                        if ($Marca1->id_marca == $ComerPreciosID1->Marca) {
                            $respuesta = $Marca1->dsc_marca;
                        }
                    }
                    echo $respuesta;
                    ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCblanco, 2, '.', ',') ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCgris, 2, '.', ',') ?>
                                    </div>
                                    <div class="col-md-2 col-xs-12" align="center">
                    <?php echo number_format($ComerPreciosID1->PrecioCmortero, 2, '.', ',') ?>
                                    </div>
                                </td>
                            </tr> 

                    <?php
                }
            }
        }
        ?>
                <tr>
                    <td>
                        <div class="col-xs-12 col-sm-12">
                            </br>
                        </div>
                    </td>
                </tr>   
            </table>
        <?php
    }

    public function PreciosCementoPDF() {
        $FechaConsulta = $this->input->post('FechaConsulta');
        // Se carga el modelo alumno
        $this->load->model("modelo", "PDF_modelo");
        // Se carga la libreria fpdf
        $this->load->library('Pdf');

        $this->load->model("modelo", "ComerPrecios");
        $ComerPrecios = $this->ComerPrecios->getComerPreciosFecha($FechaConsulta);
        $this->load->model("modelo", "Comercializador");
        $ComercializadorALL = $this->Comercializador->getComercializador();
        $this->load->model("modelo", "Marca");
        $Marca = $this->Marca->getMarca();

        $this->pdf = new Pdf2();
        // Agregamos una página
        $this->pdf->AddPage();
        // Define el alias para el número de página que se imprimirá en el pie
        $this->pdf->AliasNbPages();
        $this->pdf->SetTitle("Indice de precios del cemento");
        $this->pdf->SetLeftMargin(15);
        $this->pdf->SetRightMargin(15);
        $this->pdf->SetFillColor(150, 178, 152);
        $this->pdf->SetFont('Arial', 'B', 6);

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('R', 'L'));
        $this->pdf->SetWidths(array(160, 15));
        $this->pdf->SetTextColor(255, 0, 0);
        $this->pdf->Row(array(utf8_decode('Precios a la fecha: '), html_entity_decode($FechaConsulta)));

        $this->pdf->SetDrawColor(255, 255, 255);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw2(array(utf8_decode('PRECIOS')), '1', 'true');

        $this->pdf->SetFont('Arial', 'B', 8);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw(array(html_entity_decode('CEMENTOS (UNIDAD 1 BULTO)')), '1', 'true');
        $this->pdf->SetTextColor(0, 0, 0);

        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetAligns(array('L', 'C', 'C', 'C'));
        $this->pdf->SetWidths(array(90, 30, 30, 30));
        $this->pdf->Row2(array(utf8_decode('COMERCIALIZADOR'), utf8_decode('CEMENTO BLANCO'), utf8_decode('CEMENTO GRIS'), utf8_decode('CEMENTO MORTERO')));

        $Sumab = 0;
        $Sumag = 0;
        $Sumam = 0;
        $Promediob = 0;
        $Promediog = 0;
        $Promediom = 0;
        $burbuja1[0] = 0;
        $burbuja2[0] = 0;
        $burbuja3[0] = 0;
        $comer1[0] = 0;
        $comer2[0] = 0;
        $comer3[0] = 0;
        $marca1[0] = 0;
        $marca2[0] = 0;
        $marca3[0] = 0;
        $t = 0;
        $t1 = 0;
        $t2 = 0;
        $t3 = 0;
        foreach ($ComerPrecios as $ComerPrecios1) {
            $respuesta = '-';
            foreach ($ComercializadorALL as $temp) {
                if ($temp->ID == $ComerPrecios1->Comercializador) {
                    $respuesta = $temp->Nombre;
                }
            }
            foreach ($Marca as $temp) {
                if ($temp->id_marca == $ComerPrecios1->Marca) {
                    $respuesta2 = $temp->dsc_marca;
                }
            }

            $this->pdf->SetAligns(array('L', 'R', 'R', 'R'));
            $this->pdf->SetWidths(array(90, 30, 30, 30));
            $this->pdf->Row3(array(utf8_decode($respuesta . " (" . $respuesta2 . ")"), utf8_decode("$ " . number_format($ComerPrecios1->PrecioCblanco, 2, '.', ',')), utf8_decode("$ " . number_format($ComerPrecios1->PrecioCgris, 2, '.', ',')), utf8_decode("$ " . number_format($ComerPrecios1->PrecioCmortero, 2, '.', ','))));


            if ($ComerPrecios1->PrecioCblanco != 0) {
                $t1++;
            }
            if ($ComerPrecios1->PrecioCgris != 0) {
                $t2++;
            }
            if ($ComerPrecios1->PrecioCmortero != 0) {
                $t3++;
            }
            $Sumab = $Sumab + $ComerPrecios1->PrecioCblanco;
            $Sumag = $Sumag + $ComerPrecios1->PrecioCgris;
            $Sumam = $Sumam + $ComerPrecios1->PrecioCmortero;
            $burbuja1[$t] = $ComerPrecios1->PrecioCblanco;
            $burbuja2[$t] = $ComerPrecios1->PrecioCgris;
            $burbuja3[$t] = $ComerPrecios1->PrecioCmortero;
            $comer1[$t] = $ComerPrecios1->Comercializador;
            $comer2[$t] = $ComerPrecios1->Comercializador;
            $comer3[$t] = $ComerPrecios1->Comercializador;
            $marca1[$t] = $ComerPrecios1->Marca;
            $marca2[$t] = $ComerPrecios1->Marca;
            $marca3[$t] = $ComerPrecios1->Marca;
            $t++;
        }


        if ($t1 == 0) {
            $Promediob = 0;
        } else {
            $Promediob = $Sumab / $t1;
        }
        if ($t2 == 0) {
            $Promediog = 0;
        } else {
            $Promediog = $Sumag / $t2;
        }
        if ($t3 == 0) {
            $Promediom = 0;
        } else {
            $Promediom = $Sumam / $t3;
        }
        for ($i = 0; $i < $t - 1; $i++) {
            for ($j = 0; $j < $t - 1; $j++) {
                if ($burbuja1[$j] > $burbuja1[$j + 1]) {
                    $aux = $burbuja1[$j];
                    $burbuja1[$j] = $burbuja1[$j + 1];
                    $burbuja1[$j + 1] = $aux;
                    $aux2 = $comer1[$j];
                    $comer1[$j] = $comer1[$j + 1];
                    $comer1[$j + 1] = $aux2;
                    $paux2 = $marca1[$j];
                    $marca1[$j] = $marca1[$j + 1];
                    $marca1[$j + 1] = $paux2;
                }
                if ($burbuja2[$j] > $burbuja2[$j + 1]) {
                    $aux = $burbuja2[$j];
                    $burbuja2[$j] = $burbuja2[$j + 1];
                    $burbuja2[$j + 1] = $aux;
                    $aux3 = $comer2[$j];
                    $comer2[$j] = $comer2[$j + 1];
                    $comer2[$j + 1] = $aux3;
                    $paux3 = $marca2[$j];
                    $marca2[$j] = $marca2[$j + 1];
                    $marca2[$j + 1] = $paux3;
                }
                if ($burbuja3[$j] > $burbuja3[$j + 1]) {
                    $aux = $burbuja3[$j];
                    $burbuja3[$j] = $burbuja3[$j + 1];
                    $burbuja3[$j + 1] = $aux;
                    $aux4 = $comer3[$j];
                    $comer3[$j] = $comer3[$j + 1];
                    $comer3[$j + 1] = $aux4;
                    $paux4 = $marca3[$j];
                    $marca3[$j] = $marca3[$j + 1];
                    $marca3[$j + 1] = $paux4;
                }
            }
        }

        for ($a = $t1 - 1; $a >= 0; $a--) {
            if ($burbuja1[$a] == 0) {
                $burbuja1[$a] = $burbuja1[$a + 1];
                $comer1[$a] = $comer1[$a + 1];
                $marca1[$a] = $marca1[$a + 1];
            }
        }
        for ($a = $t2 - 1; $a >= 0; $a--) {
            if ($burbuja2[$a] == 0) {
                $burbuja2[$a] = $burbuja2[$a + 1];
                $comer2[$a] = $comer2[$a + 1];
                $marca2[$a] = $marca2[$a + 1];
            }
        }
        for ($a = $t3 - 1; $a >= 0; $a--) {
            if ($burbuja3[$a] == 0) {
                $burbuja3[$a] = $burbuja3[$a + 1];
                $comer3[$a] = $comer3[$a + 1];
                $marca3[$a] = $marca3[$a + 1];
            }
        }

        $this->pdf->Ln(7);
        $this->pdf->SetFont('Arial', 'B', 8);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw(array(html_entity_decode('PROMEDIO DE PRECIOS')), '1', 'true');
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetAligns(array('C', 'C', 'C'));
        $this->pdf->SetWidths(array(60, 60, 60));
        $this->pdf->Row2(array(utf8_decode('PROMEDIO CEMENTO BLANCO'), utf8_decode('PROMEDIO CEMENTO GRIS'), utf8_decode('PROMEDIO CEMENTO MORTERO')));
        $this->pdf->SetAligns(array('C', 'C', 'C'));
        $this->pdf->SetWidths(array(60, 60, 60));
        $this->pdf->Row3(array(utf8_decode("$ " . number_format($Promediob, 2, '.', ',')), utf8_decode("$ " . number_format($Promediog, 2, '.', ',')), utf8_decode("$ " . number_format($Promediom, 2, '.', ','))));

        $respuesta1 = '-';
        foreach ($ComercializadorALL as $temp) {
            if ($temp->ID == $comer1[0]) {
                $respuesta1 = $temp->Nombre;
            }
        }
        $respuesta2 = '-';
        foreach ($ComercializadorALL as $temp) {
            if ($temp->ID == $comer2[0]) {
                $respuesta2 = $temp->Nombre;
            }
        }
        $respuesta3 = '-';
        foreach ($ComercializadorALL as $temp) {
            if ($temp->ID == $comer3[0]) {
                $respuesta3 = $temp->Nombre;
            }
        }
        $marcas1 = '-';
        foreach ($Marca as $temp) {
            if ($temp->id_marca == $marca1[0]) {
                $marcas1 = $temp->dsc_marca;
            }
        }
        $marcas2 = '-';
        foreach ($Marca as $temp) {
            if ($temp->id_marca == $marca2[0]) {
                $marcas2 = $temp->dsc_marca;
            }
        }
        $marcas3 = '-';
        foreach ($Marca as $temp) {
            if ($temp->id_marca == $marca3[0]) {
                $marcas3 = $temp->dsc_marca;
            }
        }
        $this->pdf->Ln(7);
        $this->pdf->SetFont('Arial', 'B', 8);
        $this->pdf->SetAligns(array('L'));
        $this->pdf->SetWidths(array(180));
        $this->pdf->SetTextColor(255, 255, 255);
        $this->pdf->RowDraw(array(html_entity_decode('MEJOR PRECIO')), '1', 'true');
        $this->pdf->SetTextColor(0, 0, 0);
        $this->pdf->SetFont('Arial', 'B', 6);
        $this->pdf->SetAligns(array('C', 'C', 'C'));
        $this->pdf->SetWidths(array(60, 60, 60));
        $this->pdf->Row2(array(utf8_decode('CEMENTO BLANCO'), utf8_decode('CEMENTO GRIS'), utf8_decode('CEMENTO MORTERO')));
        $this->pdf->SetAligns(array('C', 'C', 'C'));
        $this->pdf->SetWidths(array(60, 60, 60));
        $this->pdf->Row3(array(utf8_decode($respuesta1 . " (" . $marcas1 . ") $ " . number_format($burbuja1[0], 2, '.', ',')), utf8_decode($respuesta2 . " (" . $marcas2 . ") $ " . number_format($burbuja2[0], 2, '.', ',')), utf8_decode($respuesta3 . " (" . $marcas3 . ") $ " . number_format($burbuja3[0], 2, '.', ','))));

        $this->pdf->Output("Precios.pdf", 'I');
    }

    public function ReporteTramitesRAB() {
        $datos = 0;
        $datos2 = 0;
        $ProyectoD = $_POST["Proyecto"];
        $ID = $_POST["Tramite"];

        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL();
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Proyectos");
        $Proyectos = $this->Proyectos->getProyectosAll();
        //Abriendo BD Proyectos
        $this->load->model("modelo", "Archivos");
        $Archivos = $this->Archivos->getArchivosAll($ProyectoD, $ID);
        ?> 
            <table width="100%" border="1" bordercolor="#9c9a9a">
        <?php
        $where = '';
        if ($ID == '0') {
            //Abriendo BD cliente
            $this->load->model("modelo", "Tramites");
            $Tramites = $this->Tramites->getTramiteAll();
            ?>
                    <tr>
                        <td bgcolor="#333333">
                            <div class="col-md-5 col-xs-12"  align="center">
                                <strong style="color:#FFF">Trámite</strong>
                            </div>
                            <div class="col-md-5 col-xs-12"  align="center">
                                <strong style="color:#FFF">Instancia</strong>
                            </div>
                            <div class="col-md-2 col-xs-12"  align="center">
                                <strong style="color:#FFF">Estatus</strong>
                            </div>
                        </td>
                    </tr>
            <?php
            foreach ($Tramites as $datas1) {
                ?>
                        <tr>
                            <td bgcolor="#707070">
                                <div class="col-md-5 col-xs-12"  align="center">
                <?php echo $datas1->Tramite; ?>
                                </div>
                                <div class="col-md-5 col-xs-12"  align="center">
                <?php echo $datas1->Instancia; ?>
                                </div>
                                <div class="col-md-2 col-xs-12"  align="center">
                <?php echo $datas1->Estado; ?>
                                </div>
            <?php }
        } ?>




        <?php
        if ($ID != '0') {
            //Abriendo BD cliente
            $this->load->model("modelo", "Tramite");
            $Tramite = $this->Tramite->getTramiteID2($ID);
            foreach ($Tramite as $Tramite1) {
                ?>
                        <tr bgcolor="#c6d2cd">
                            <td>
                                <div class="col-md-12 col-xs-12" align="center">   
                <?php
                $respuesta = '-';
                foreach ($Proyectos as $Proyectos1) {
                    if ($Proyectos1->ID == $Tramite1->Proyectos) {
                        $respuesta = $Proyectos1->Proyecto;
                    }
                }
                echo $respuesta;
                ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php echo "<strong>Trámite: </strong>" . $Tramite1->Tramite ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php echo "<strong>Instancia: </strong>" . $Tramite1->Instancia ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php echo "<strong>Requisitos: </strong>" . $Tramite1->Requisitos ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Dirección: </strong>" . $Tramite1->Direccion ?>
                                </div>
                                <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Duración: </strong>" . $Tramite1->Duracion ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Inicio: </strong>" . $Tramite1->FechaInicio . ", " ?>
                                </div>
                                <div class="col-md-6 col-xs-12">
                <?php echo "<strong>Término: </strong>" . $Tramite1->FechaTermino . ", " ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php echo "<strong>Observaciones: </strong>" . $Tramite1->Observaciones . ", " ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php
                        $respuesta = '-';
                        foreach ($USUARIOS as $USUARIOS1) {
                            if ($USUARIOS1->Id == $Tramite1->Responsable) {
                                $respuesta = $USUARIOS1->nombre . " " . $USUARIOS1->apaterno . " " . $USUARIOS1->amaterno;
                            }
                        }
                        ?>
                        <?php echo "<strong>Responsable: </strong>" . $respuesta . ", " ?>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col-md-12 col-xs-12">
                        <?php echo "<strong>Evidencia: </strong>" . $Tramite1->Evidencia . ", " ?>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td  bgcolor="#c6d2cd">
                                <div class="col-md-12 col-xs-12">
                                    Archivo
                                </div>
                            </td>
                        </tr>
                <?php foreach ($Archivos as $Archivos1) { ?>
                            <tr>
                                <td>
                                    <div class="col-md-12 col-xs-12" align="right">      
                    <?php
                    $nombre = $Tramite1->Archivo;
                    $files = get_filenames($this->folder14, FALSE);
                    foreach ($files as $file) {
                        $ext = substr($file, strpos($file, ".") + strlen("."));
                        $name = substr($file, 0, strpos($file, "."));
                        if ($name == $nombre) {
                            if ($ext == 'pdf' || $ext == 'PDF') {
                                ?> 
                                                    <div class="col-md-12 col-xs-12" align="right"> 
                                                        <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/TramitesExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/pdf.png" width="30" height="30" /></button>
                                                    </div>
                            <?php
                            } else {
                                if ($ext == 'jpg' || $ext == 'png' || $ext == 'JPG' || $ext == 'PNG') {
                                    ?> 
                                                        <div class="col-md-12 col-xs-12" align="right"> 
                                                            <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/TramitesExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/imagen.png" width="30" height="30" /></button>
                                                        </div>
                                <?php
                                } else {
                                    if ($ext == 'zip' || $ext == 'rar') {
                                        ?> 
                                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/TramitesExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/zip.png" width="30" height="30" /></button>
                                                            </div>
                                    <?php } else {
                                        ?> 
                                                            <div class="col-md-12 col-xs-12" align="right"> 
                                                                <button type="button" id="salir" name="salir"  onclick="location.href = '<?php echo base_url(); ?>index.php/../uploads/TramitesExp/<?php echo $file; ?>'"><img src="<?php echo base_url(); ?>imagenes/Folder.png" width="30" height="30" /></button>
                                                            </div>
                                    <?php }
                                }
                            }
                        }
                    }
                    ?>

                                    </div>
                                </td>
                            </tr>
                <?php } ?>
            <?php }
        } ?>

            </table>
        <?php
    }

    public function ActMaterial() {
        $ID = $_POST["ID"];
        $this->load->model("modelo", "Productos");
        $Productos = $this->Productos->getProductosFolio($ID);
        //Abriendo BD Actividades
        $this->load->model("modelo", "Proveedor");
        $Proveedor = $this->Proveedor->getProveedoresAll();
        //Cargando Conceptos de cotizaciones
        $this->load->model("modelo", "Etiqueta");
        $Etiqueta = $this->Etiqueta->getCotizacionConceptosALL();

        foreach ($Productos as $Productos1) {
            
        }
        ?>
            <table width="100%">
                <tr>
                    <td> 
                        <div class="col-md-6 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Etiqueta</label><br>
                            </div>
                            <div class="col-md-12 col-xs-12">
        <?php
        $respuesta = "-";
        foreach ($Etiqueta as $Etiqueta1) {
            if ($Etiqueta1->id_conceptos == $Productos1->Etiqueta) {
                $respuesta = $Etiqueta1->dsc_conceptos;
            }
        }
        ?>
                                <input  class="form-control" type="text" name="x" id="x" value="<?php echo $respuesta; ?>" readonly="readonly">
                            </div>
                        </div>     
                        <div class="col-md-6 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Cambiar Etiqueta</label><br>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <select class="form-control" id="Etiqueta" name="Etiqueta">
                                    <option value="">Selecciona</option>
        <?php foreach ($Etiqueta as $Etiqueta1) { ?> 
                                        <option value="<?php echo $Etiqueta1->id_conceptos; ?>"><?php echo $Etiqueta1->dsc_conceptos; ?></option>
        <?php } ?>
                                </select>
                            </div> 
                        </div>
                    </td>
                </tr>   
                <tr>
                    <td>
                        <div class="col-md-4 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Producto</label><br>		
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <input  class="form-control" type="text" value="<?php echo $Productos1->Producto; ?>" name="Producto2" id="Producto2" required="required" >
                            </div> 
                        </div>
                        <div class="col-md-4 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Marca/Modelo</label><br>		
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <input  class="form-control" type="text" value="<?php echo $Productos1->Marca; ?>" name="Marca" id="Marca">
                            </div> 
                        </div> 
                        <div class="col-md-4 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Unidad o medida</label><br>		
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <input  class="form-control" type="text" value="<?php echo $Productos1->UnidadMedida; ?>" name="UnidadMedida" id="UnidadMedida" required="required" >
                            </div> 
                        </div> 
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="col-md-8 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Proveedores</label><br>		
                            </div>
                            <div class="col-md-12 col-xs-12">
        <?php
        $respuesta = "";
        $resp = "";
        $r = explode(",", $Productos1->Proveedores);
        $cuenta = count($r);
        for ($i = 0; $i < $cuenta; $i++) {
            foreach ($Proveedor as $Proveedor1) {
                if ($Proveedor1->ID == $r[$i]) {
                    $respuesta[$i] = $Proveedor1->Proveedor;
                    $resp[$i] = $Proveedor1->ID;
                }
            }
        }
        ?>
                                <textarea class="form-control" id="x" name="x" rows="4" readonly="readonly">
        <?php
        for ($i = 0; $i < $cuenta; $i++) {
            echo $respuesta[$i] . "\n";
        }
        ?>
                                </textarea> 
                                <?php $Bp = implode(",", $resp); ?>
                                <input  class="form-control" type="hidden" value="<?php echo $Bp; ?>" name="BeforeProv" id="BeforeProv">              
                            </div> 
                        </div>

                        <div class="col-md-4 col-xs-12">
                            <div class="col-md-12 col-xs-12">
                                <label for="P" class="control-label">Actualizar Proveedores</label><br>		
                            </div>
                            <div class="col-md-12 col-xs-12">    
                                <select class="form-control" size="5" multiple="multiple" id="Proveedores[]" name="Proveedores[]" required="required">
                                    <option value="">Selecciona</option>
        <?php
        foreach ($Proveedor as $Proveedor1) {
            $esta = "No";
            for ($i = 0; $i < $cuenta; $i++) {
                if ($resp[$i] == $Proveedor1->ID) {
                    $esta = "Si";
                }
            }
            if ($esta == "No") {
                ?> 
                                            <option value="<?php echo $Proveedor1->ID; ?>"><?php echo $Proveedor1->Proveedor; ?></option>
            <?php }
        } ?>
                                </select>                
                            </div> 
                        </div>
                    </td>
                </tr>
            </table>
        <?php
    }

    public function RegistroProductos2() {
        $this->load->model("modelo", "datos");
        $indiceuser = $this->input->post('user');
        $ID = $this->input->post('ID');
        $Marca = $this->input->post('Marca');
        $UnidadMedida = $this->input->post('UnidadMedida');
        $Proveedores1 = $_POST['Proveedores'];
        $BeforeProv = $_POST['BeforeProv'];
        $Etiqueta = $_POST['Etiqueta'];
        $n = count($Proveedores1);
        //$BeforeProv=implode(',',$BeforeProv1);
        $Proveedores = implode(',', $Proveedores1);
        $folio = $ID;
        $datos = $this->datos->getRegistroProductos2(
                $folio, $Etiqueta, $n, $Marca, $UnidadMedida, $BeforeProv, $Proveedores
        );
        echo '<script>alert("Se ha registrado el producto")</script>';
        //Cargando usuarios
        $where = '';
        $this->load->model("modelo", "USUARIOS");
        $USUARIOS = $this->USUARIOS->getUSUARIOSALL($where);
        $data['USUARIOS'] = $USUARIOS;
        $data['User'] = $indiceuser;
        //Abriendo BD Actividades
        $this->load->model("modelo", "Proveedor");
        $Proveedor = $this->Proveedor->getProveedoresAll($where);
        $data['Proveedor'] = $Proveedor;
        //Abriendo BD Productos
        $this->load->model("modelo", "Productos");
        $Productos = $this->Productos->getProductosAll($where);
        $data['Productos'] = $Productos;
        $data['scripts'] = array('cliente');
        $data['contentView'] = 'Admon_5_4';
        $this->_renderView($data);
    }

    public function GrafxPrecioDia() {
        $Comercializador = $_POST["Comercializador"];
        $Cemento = $_POST["Cemento"];
        $Start = date_create_from_format('d/m/Y', $_POST["FechaInicioEdo"]);
        $StartFecha = date_format($Start, 'Ymd');
        $End = date_create_from_format('d/m/Y', $_POST["FechaTerminoEdo"]);
        $EndFecha = date_format($End, 'Ymd');

        $this->load->model("modelo", "ComerPrecios");
        $ComerPreciosID = $this->ComerPrecios->getComerPreciosID($Comercializador);
        $this->load->model("modelo", "Marca");
        $Marca = $this->Marca->getMarca();


        $f[] = "";
        $c[] = "";
        $g[] = "";
        $mo[] = "";
        $ma[] = "";
        $marcasdif[] = "";
        $resultado[] = "";
        $maraux[] = "";
        $fechaaux[] = "";
        $i = 0;
        foreach ($ComerPreciosID as $ComerPreciosID1) {
            $Valor = date_create_from_format('d/m/Y', $ComerPreciosID1->Fecha);
            $fecha = date_format($Valor, 'Ymd');

            if ($fecha >= $StartFecha && $fecha <= $EndFecha) {
                $f[$i] = $ComerPreciosID1->Fecha;
                $c[$i] = $ComerPreciosID1->PrecioCblanco;
                $g[$i] = $ComerPreciosID1->PrecioCgris;
                $mo[$i] = $ComerPreciosID1->PrecioCmortero;
                $ma[$i] = $ComerPreciosID1->Marca;
                $i++;
            }
        }
        $m = count($f);

        $resultado = array_unique($f);
        $conuntm = count($resultado);

        $z = 0;
        for ($e = 0; $e < $m; $e++) {
            if (!empty($resultado[$e])) {
                $fechaaux[$z] = $resultado[$e];
                $z++;
            }
        }
        $contador1 = count($fechaaux);

        $marcasdif = array_unique($ma);
        $conuntmarcas = count($marcasdif);

        $y = 0;
        for ($e = 0; $e < $m; $e++) {
            if (!empty($marcasdif[$e])) {
                $maraux[$y] = $marcasdif[$e];
                $y++;
            }
        }

        $contador = count($maraux);
        ?>    
            <div class="col-md-12 col-xs-12" id="GrafxPrecioDialabel">
                <canvas id="Barra1" />
            </div>  
            <div id="legendDiv1" class="col-md-12 col-xs-12 doughnut-legend" >
            </div>

            <script>
                var data1 = {
                labels : [
                <?php
                for ($i = 0; $i < $contador1; $i++) {
                    echo '"' . $fechaaux[$i] . '",';
                }
                ?>
                ],
                        datasets : [
                <?php
                for ($h = 0; $h < $contador - 1; $h++) {
                    //if(!empty($marcasdif[$i])){			
                    ?>
                            {
            <?php
            foreach ($Marca as $Marca1) {
                if ($maraux[$h] == $Marca1->id_marca) {
                    $mapp = $Marca1->dsc_marca;
                }
            }
            $a = $h * 35;
            $r = $h * 45;
            if ($a >= 250) {
                $a = ($a - $h * 34) * 2;
            }
            if ($r >= 250) {
                $r = ($r - $h * 34) * 2;
            }
            ?>
                            label: <?php echo '"' . $mapp . '"'; ?>,
                                    fillColor : "rgba(<?php echo $a ?>,<?php echo $r ?>,1)",
                                    strokeColor : "rgba(<?php echo $a ?>,<?php echo $r ?>,40,0.8)",
                                    highlightFill: "rgba(<?php echo $a ?>,<?php echo $r ?>,40,0.75)",
                                    highlightStroke: "rgba(<?php echo $a ?>,<?php echo $r ?>,40,0.5)",
                                    data : [
            <?php
            if ($Cemento == 1) {
                for ($i = 0; $i < $contador1; $i++) {
                    $encontro = 'No';
                    for ($b = 0; $b < $m; $b++) {
                        if ($fechaaux[$i] == $f[$b]) {
                            if ($ma[$b] == $maraux[$h]) {
                                echo $c[$b] . ',';
                                $encontro = 'Si';
                            }
                        }
                        echo " ";
                    }
                    if ($encontro == 'No') {
                        echo '0,';
                    }
                }
            }
            if ($Cemento == 2) {
                for ($i = 0; $i < $contador1; $i++) {
                    $encontro = 'No';
                    for ($b = 0; $b < $m; $b++) {
                        if ($fechaaux[$i] == $f[$b]) {
                            if ($ma[$b] == $maraux[$h]) {
                                echo $g[$b] . ',';
                                $encontro = 'Si';
                            }
                        }
                        echo " ";
                    }
                    if ($encontro == 'No') {
                        echo '0,';
                    }
                }
            }
            if ($Cemento == 3) {
                for ($i = 0; $i < $contador1; $i++) {
                    $encontro = 'No';
                    for ($b = 0; $b < $m; $b++) {
                        if ($fechaaux[$i] == $f[$b]) {
                            if ($ma[$b] == $maraux[$h]) {
                                echo $mo[$b] . ',';
                                $encontro = 'Si';
                            }
                        }
                        echo " ";
                    }
                    if ($encontro == 'No') {
                        echo '0,';
                    }
                }
            }
            ?>
                                    ]
                            },
            <?php } ?>

                        {
            <?php
            foreach ($Marca as $Marca1) {
                if ($maraux[$h] == $Marca1->id_marca) {
                    $mapp = $Marca1->dsc_marca;
                }
            }
            ?>
                        label: <?php echo '"' . $mapp . '"'; ?>,
                                fillColor : "rgba(118,207,40,1)",
                                strokeColor : "rgba(118,207,40,0.8)",
                                highlightFill: "rgba(118,207,40,0.75)",
                                highlightStroke: "rgba(118,207,40,0.5)",
                                data : [
                        <?php
                        if ($Cemento == 1) {
                            for ($i = 0; $i < $contador1; $i++) {
                                $encontro = 'No';
                                for ($b = 0; $b < $m; $b++) {
                                    if ($fechaaux[$i] == $f[$b]) {
                                        if ($ma[$b] == $maraux[$h]) {
                                            echo $c[$b] . ',';
                                            $encontro = 'Si';
                                        }
                                    }
                                    echo " ";
                                }
                                if ($encontro == 'No') {
                                    echo '0,';
                                }
                            }
                        }
                        if ($Cemento == 2) {
                            for ($i = 0; $i < $contador1; $i++) {
                                $encontro = 'No';
                                for ($b = 0; $b < $m; $b++) {
                                    if ($fechaaux[$i] == $f[$b]) {
                                        if ($ma[$b] == $maraux[$h]) {
                                            echo $g[$b] . ',';
                                            $encontro = 'Si';
                                        }
                                    }
                                    echo " ";
                                }
                                if ($encontro == 'No') {
                                    echo '0,';
                                }
                            }
                        }
                        if ($Cemento == 3) {
                            for ($i = 0; $i < $contador1; $i++) {
                                $encontro = 'No';
                                for ($b = 0; $b < $m; $b++) {
                                    if ($fechaaux[$i] == $f[$b]) {
                                        if ($ma[$b] == $maraux[$h]) {
                                            echo $mo[$b] . ',';
                                            $encontro = 'Si';
                                        }
                                    }
                                    echo " ";
                                }
                                if ($encontro == 'No') {
                                    echo '0,';
                                }
                            }
                        }
                        ?>
                                ]
                        }
                        ]

                };
                var Barras1 = document.getElementById("Barra1").getContext("2d");
                window.myBarra1 = new Chart(Barras1).Bar(data1, {
                animationEasing : "easeOutBounce",
                        animateRotate : true,
                        animateScale : false,
                        scaleFontSize : 8.5,
                        scaleFontColor : "#666666",
                        //scaleOverride: true,
                        //scaleSteps: 10,
                        //scaleStepWidth: 1,
                        //scaleStartValue: 0,
                        scaleShowGridLines : true,
                        scaleGridLineColor : "rgba(255,255,255,.05)",
                        scaleGridLineWidth : 1,
                        barShowStroke : true,
                        barStrokeWidth : 1,
                        responsive : true
                });
                legend(document.getElementById("legendDiv1"), data1);
                //document.getElementById("legendDiv1").innerHTML = myBarra1.generateLegend();
            </script> 

        <?php
    }

//Fin cemento
//Fin cemento
}
